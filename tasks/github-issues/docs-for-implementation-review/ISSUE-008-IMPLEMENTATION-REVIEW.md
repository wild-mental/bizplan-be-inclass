# Issue #008 Implementation Review
## ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ ë° í”„ë¡¬í”„íŠ¸ êµ¬í˜„

**ì‘ì„±ì¼**: 2025-11-28  
**ë¸Œëœì¹˜**: `feat/008-ai-engine`  
**PR**: [#14](https://github.com/wild-mental/bizplan-be-inclass/pull/14)  
**ê´€ë ¨ ì´ìŠˆ**: [#4](https://github.com/wild-mental/bizplan-be-inclass/issues/4)

---

## 1. êµ¬í˜„ ê°œìš”

### 1.1 ì‘ì—… ë²”ìœ„

| í•­ëª© | ì„¤ëª… |
|------|------|
| **API Endpoint** | `GET /health`, `POST /generate` |
| **ì•„í‚¤í…ì²˜** | FastAPI + LangChain + Google Gemini |
| **ì„œë¹„ìŠ¤ íƒ€ì…** | ë…ë¦½ Python ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ (Port 8001) |
| **í…ŒìŠ¤íŠ¸** | pytest + httpx + AsyncMock |

### 1.2 ê¸°ìˆ  ìŠ¤íƒ

- Python 3.10+
- FastAPI 0.115.5
- LangChain 0.3.9
- LangChain Google GenAI 2.0.6
- Pydantic 2.10.2
- pytest 8.3.4

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 ì„œë¹„ìŠ¤ êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI Engine (Port 8001)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   FastAPI   â”‚â”€â”€â”€â”€â–¶â”‚  LLMService â”‚â”€â”€â”€â”€â–¶â”‚  Google Gemini  â”‚   â”‚
â”‚  â”‚   main.py   â”‚     â”‚             â”‚     â”‚  (LangChain)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                   â”‚                                   â”‚
â”‚         â–¼                   â–¼                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚   Schemas   â”‚     â”‚   Config    â”‚                           â”‚
â”‚  â”‚  (Pydantic) â”‚     â”‚  (Settings) â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Spring Boot Backend (Port 8080)                    â”‚
â”‚                    (Future: Issue #009)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ë°ì´í„° í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    POST /generate     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ì„¹ì…˜ë³„ í”„ë¡¬í”„íŠ¸    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  FastAPI â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  Gemini  â”‚
â”‚ (Spring) â”‚                       â”‚   App    â”‚                      â”‚   LLM    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–²                                  â”‚                                 â”‚
     â”‚                                  â”‚                                 â”‚
     â”‚     GenerateResponse             â”‚      ì„¹ì…˜ë³„ í…ìŠ¤íŠ¸              â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 í”„ë¡¬í”„íŠ¸ ì²´ì´ë‹ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Wizard Answers (JSON)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  step_1_problem: { q1: "...", q2: "..." }                       â”‚
â”‚  step_2_solution: { q1: "...", q2: "..." }                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Section-Answer Mapping                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  problem_definition â”‚ â—€â”€â”€ â”‚   step_1_problem    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  solution_approach  â”‚ â—€â”€â”€ â”‚   step_2_solution   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   market_analysis   â”‚ â—€â”€â”€ â”‚   all_answers       â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PromptTemplate (Per Section)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Role: "ì •ë¶€ ì§€ì›ì‚¬ì—… ì‹¬ì‚¬ìœ„ì› ê²½í—˜ì´ í’ë¶€í•œ ì „ë¬¸ ì°½ì—… ì»¨ì„¤í„´íŠ¸"   â”‚
â”‚  Context: {user_answers}                                        â”‚
â”‚  Task: "ì„¹ì…˜ë³„ ì´ˆì•ˆ ì‘ì„±"                                         â”‚
â”‚  Format: "2-3ê°œ ë¬¸ë‹¨, 300-500ì"                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Generated Sections                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  {                                                              â”‚
â”‚    "problem_definition": "ì‚¬ì—… ì•„ì´í…œì˜ í•„ìš”ì„±...",               â”‚
â”‚    "solution_approach": "í•´ê²° ë°©ì•ˆ...",                          â”‚
â”‚    "market_analysis": "ì‹œì¥ ë¶„ì„..."                             â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. êµ¬í˜„ íŒŒì¼ ëª©ë¡

### 3.1 Production Code (8ê°œ íŒŒì¼)

```
ai-engine/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py                 # íŒ¨í‚¤ì§€ ì´ˆê¸°í™”
â”‚   â”œâ”€â”€ main.py                     # FastAPI ì•± (ì—”ë“œí¬ì¸íŠ¸ ì •ì˜)
â”‚   â”œâ”€â”€ config.py                   # í™˜ê²½ë³€ìˆ˜ ì„¤ì • (Pydantic Settings)
â”‚   â”œâ”€â”€ schemas.py                  # Request/Response ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ __init__.py             # ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€
â”‚       â””â”€â”€ llm_service.py          # LangChain + Gemini ì„œë¹„ìŠ¤
â”œâ”€â”€ requirements.txt                # Python ì˜ì¡´ì„±
â”œâ”€â”€ pytest.ini                      # pytest ì„¤ì •
â”œâ”€â”€ .gitignore                      # Python í”„ë¡œì íŠ¸ìš© gitignore
â””â”€â”€ README.md                       # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

### 3.2 Test Code (2ê°œ íŒŒì¼)

```
ai-engine/tests/
â”œâ”€â”€ __init__.py
â””â”€â”€ test_generate.py                # 4ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
```

---

## 4. í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ì„¤ëª…

### 4.1 LLMService í´ë˜ìŠ¤

| ë©”ì„œë“œ | ì„¤ëª… | ë°˜í™˜ íƒ€ì… |
|--------|------|----------|
| `is_configured()` | API Key ì„¤ì • ì—¬ë¶€ í™•ì¸ | `bool` |
| `generate_section()` | ë‹¨ì¼ ì„¹ì…˜ ìƒì„± (ë¹„ë™ê¸°) | `str` |
| `generate_all_sections()` | ëª¨ë“  ì„¹ì…˜ ìƒì„± (ë¹„ë™ê¸°) | `Dict[str, str]` |
| `_format_answers()` | ë‹µë³€ì„ í”„ë¡¬í”„íŠ¸ìš© ë¬¸ìì—´ë¡œ ë³€í™˜ | `str` |

### 4.2 í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

| ì„¹ì…˜ | í”„ë¡¬í”„íŠ¸ ì£¼ìš” ì§€ì‹œì‚¬í•­ |
|------|----------------------|
| `problem_definition` | ë¬¸ì œì  3ê°€ì§€ ì´ìƒ, ê¸°ì¡´ í•œê³„ì , íŒŒê¸‰íš¨ê³¼ |
| `solution_approach` | ê°€ì¹˜ ì œì•ˆ, ì°¨ë³„í™” í¬ì¸íŠ¸ 3ê°€ì§€, ì‹¤í˜„ ê°€ëŠ¥ì„± |
| `market_analysis` | TAM-SAM-SOM, ê²½ìŸ ë¶„ì„, ì§„ì… ì „ëµ |

### 4.3 í™˜ê²½ë³€ìˆ˜ ì„¤ì •

| ë³€ìˆ˜ëª… | í•„ìˆ˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|--------|------|--------|------|
| `GEMINI_API_KEY` | âœ… | - | Google Gemini API Key |
| `APP_ENV` | - | `development` | ì‹¤í–‰ í™˜ê²½ |
| `LOG_LEVEL` | - | `INFO` | ë¡œê·¸ ë ˆë²¨ |
| `LLM_MODEL` | - | `gemini-1.5-flash` | ì‚¬ìš©í•  Gemini ëª¨ë¸ |
| `LLM_TEMPERATURE` | - | `0.7` | ìƒì„± ì˜¨ë„ (ì°½ì˜ì„±) |
| `LLM_MAX_RETRIES` | - | `3` | LLM ì˜¤ë¥˜ ì‹œ ì¬ì‹œë„ íšŸìˆ˜ |

---

## 5. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼

### 5.1 í…ŒìŠ¤íŠ¸ ìš”ì•½

| í•­ëª© | ê°’ |
|------|-----|
| **ì´ í…ŒìŠ¤íŠ¸ ìˆ˜** | 4 |
| **ì„±ê³µ** | 4 |
| **ì‹¤íŒ¨** | 0 |
| **ì„±ê³µë¥ ** | **100%** |
| **ì‹¤í–‰ ì‹œê°„** | 0.71s |

### 5.2 ê°œë³„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

| í…ŒìŠ¤íŠ¸ëª… | ì„¤ëª… | ê²°ê³¼ |
|---------|------|------|
| `test_health_check` | GET /health 200 OK ê²€ì¦ | âœ… PASS |
| `test_generate_without_api_key` | API Key ì—†ì„ ë•Œ 503 ë°˜í™˜ | âœ… PASS |
| `test_generate_with_empty_answers` | ë¹ˆ answers ì‹œ 400 ë°˜í™˜ | âœ… PASS |
| `test_generate_with_mocked_llm` | Mock LLMìœ¼ë¡œ ì •ìƒ ìƒì„± | âœ… PASS |

### 5.3 í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª…ë ¹ì–´

```bash
cd ai-engine
source venv/bin/activate
pytest tests/ -v
```

---

## 6. API ëª…ì„¸

### 6.1 GET /health

**Request:**
```http
GET /health HTTP/1.1
Host: localhost:8001
```

**Response (200 OK):**
```json
{
  "status": "ok",
  "service": "ai-engine",
  "llm_configured": true
}
```

### 6.2 POST /generate

**Request:**
```http
POST /generate HTTP/1.1
Host: localhost:8001
Content-Type: application/json

{
  "answers": {
    "step_1_problem": {
      "q1": "ê¸°ì¡´ ì‚¬ì—…ê³„íšì„œ ì‘ì„± ë„êµ¬ëŠ” ë³µì¡í•©ë‹ˆë‹¤.",
      "q2": "ì°½ì—…ìê°€ í•µì‹¬ì— ì§‘ì¤‘í•˜ì§€ ëª»í•©ë‹ˆë‹¤."
    },
    "step_2_solution": {
      "q1": "AIë¡œ ìë™ ì´ˆì•ˆì„ ìƒì„±í•©ë‹ˆë‹¤.",
      "q2": "Wizardë¡œ ë‹¨ê³„ë³„ ì•ˆë‚´í•©ë‹ˆë‹¤."
    }
  },
  "template_type": "KSTARTUP_2025"
}
```

**Response (200 OK):**
```json
{
  "sections": {
    "problem_definition": "í˜„ì¬ ì‹œì¥ì—ì„œ ì°½ì—…ìë“¤ì´ ì§ë©´í•˜ëŠ” ê°€ì¥ í° ë¬¸ì œì ì€...",
    "solution_approach": "ë³¸ ì‚¬ì—… ì•„ì´í…œì€ AI ê¸°ë°˜ ìë™ ì´ˆì•ˆ ìƒì„±ì„ í†µí•´...",
    "market_analysis": "êµ­ë‚´ ì°½ì—… ì§€ì› ì‹œì¥ì€ ì—°ê°„ ì•½ 3ì¡° ì› ê·œëª¨ë¡œ..."
  },
  "generated_at": "2025-11-28T10:30:00Z"
}
```

### 6.3 ì—ëŸ¬ ì‘ë‹µ

#### LLM ë¯¸ì„¤ì • (503 Service Unavailable)
```json
{
  "detail": {
    "error": "LLM_NOT_CONFIGURED",
    "message": "GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
    "detail": "í™˜ê²½ë³€ìˆ˜ GEMINI_API_KEYë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”."
  }
}
```

#### ë¹ˆ ì…ë ¥ (400 Bad Request)
```json
{
  "detail": {
    "error": "INVALID_REQUEST",
    "message": "answers í•„ë“œê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.",
    "detail": "ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ë‹µë³€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."
  }
}
```

---

## 7. ì½”ë“œ í’ˆì§ˆ ê²€ì¦

### 7.1 ì•„í‚¤í…ì²˜ ê·œì¹™ ì¤€ìˆ˜

| ê·œì¹™ | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| ì„œë¹„ìŠ¤ ë¶„ë¦¬ (ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤) | âœ… FastAPI ë…ë¦½ ì„œë¹„ìŠ¤ |
| ì˜ì¡´ì„± ì£¼ì… | âœ… Singleton íŒ¨í„´ ì ìš© |
| ë¹„ë™ê¸° ì²˜ë¦¬ | âœ… async/await ì‚¬ìš© |
| í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì • | âœ… Pydantic Settings ì‚¬ìš© |

### 7.2 LLM í†µí•© ê·œì¹™ ì¤€ìˆ˜

| ê·œì¹™ | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| LangChain ì‚¬ìš© | âœ… langchain-google-genai |
| ì¬ì‹œë„ ë¡œì§ | âœ… max_retries ì„¤ì • |
| í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ | âœ… PromptTemplate í™œìš© |
| ì—ëŸ¬ í•¸ë“¤ë§ | âœ… try-except + ë¡œê¹… |

### 7.3 ì½”ë“œ ì£¼ì„

| í•­ëª© | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| ëª¨ë“ˆ docstring | âœ… ëª¨ë“  .py íŒŒì¼ì— ì„¤ëª… |
| í´ë˜ìŠ¤ docstring | âœ… LLMService í´ë˜ìŠ¤ ì„¤ëª… |
| ë©”ì„œë“œ docstring | âœ… Args, Returns í¬í•¨ |

---

## 8. ì˜ì¡´ì„± ê´€ê³„

### 8.1 ì´ìŠˆ ì˜ì¡´ì„± ê·¸ë˜í”„

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  #008 (AI Engine)   â”‚
                    â”‚       âœ… ì™„ë£Œ        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ enables
                               â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                                         â”‚
          â–¼                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #009 (Orchestration â”‚               â”‚  #011 (PMF Engine)  â”‚
â”‚       BE API)        â”‚               â”‚    (ìœ ì‚¬ êµ¬ì¡°)       â”‚
â”‚      ğŸŸ¡ OPEN         â”‚               â”‚      ğŸŸ¡ OPEN        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ enables
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #015 (k6 ì„±ëŠ¥í…ŒìŠ¤íŠ¸) â”‚
â”‚      ğŸŸ¡ OPEN         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 ì„œë¹„ìŠ¤ í†µí•© êµ¬ì¡° (Future)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Frontend (React)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTP
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Spring Boot Backend (Port 8080)                  â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Issue #009                             â”‚  â”‚
â”‚  â”‚          POST /projects/{id}/documents/                  â”‚  â”‚
â”‚  â”‚               business-plan:generate                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ HTTP (Internal)
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                AI Engine (Port 8001)                           â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Issue #008 âœ…                          â”‚  â”‚
â”‚  â”‚                POST /generate                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. ì»¤ë°‹ íˆìŠ¤í† ë¦¬

| ì»¤ë°‹ | ë©”ì‹œì§€ | ë³€ê²½ íŒŒì¼ |
|------|--------|----------|
| `7e394a4` | feat(ai-engine): implement business plan generation LLM engine | 12 files |

**Conventional Commits ì¤€ìˆ˜:** âœ…

---

## 10. Acceptance Criteria ì²´í¬ë¦¬ìŠ¤íŠ¸

| ê¸°ì¤€ | ìƒíƒœ |
|------|------|
| âœ… FastAPI í”„ë¡œì íŠ¸ ì…‹ì—… | ì™„ë£Œ |
| âœ… POST /generate ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ | ì™„ë£Œ |
| âœ… LangChain Gemini ChatModel ì—°ë™ êµ¬ì¡° | ì™„ë£Œ |
| âœ… PromptTemplate ì •ì˜ (ì„¹ì…˜ë³„) | ì™„ë£Œ |
| âœ… ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§ | ì™„ë£Œ |
| âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± ë° í†µê³¼ | ì™„ë£Œ (4/4) |
| â³ Google Gemini API Key ë°œê¸‰ ë° ì‹¤ì œ í…ŒìŠ¤íŠ¸ | í™˜ê²½ë³€ìˆ˜ ì„¤ì • í•„ìš” |

---

## 11. ì‹¤í–‰ ë°©ë²•

### 11.1 ì‚¬ì „ ì¡°ê±´

1. Python 3.10+ ì„¤ì¹˜
2. Google Gemini API Key ë°œê¸‰ ([aistudio.google.com/apikey](https://aistudio.google.com/apikey))

### 11.2 ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ë””ë ‰í† ë¦¬ ì´ë™
cd ai-engine

# ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
export GEMINI_API_KEY=your-api-key-here

# ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload --port 8001
```

### 11.3 API í…ŒìŠ¤íŠ¸ (cURL)

```bash
# í—¬ìŠ¤ì²´í¬
curl http://localhost:8001/health

# ì‚¬ì—…ê³„íšì„œ ìƒì„±
curl -X POST http://localhost:8001/generate \
  -H "Content-Type: application/json" \
  -d '{
    "answers": {
      "step_1_problem": {"q1": "ë¬¸ì œì…ë‹ˆë‹¤"}
    },
    "template_type": "KSTARTUP_2025"
  }'
```

### 11.4 Swagger UI

ì„œë²„ ì‹¤í–‰ í›„ http://localhost:8001/docs ì ‘ì†

---

## 12. ê²°ë¡ 

### 12.1 ì™„ë£Œ í•­ëª©

- âœ… FastAPI ê¸°ë°˜ AI Engine ì„œë¹„ìŠ¤ êµ¬í˜„
- âœ… LangChain + Google Gemini í†µí•©
- âœ… ì„¹ì…˜ë³„ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ êµ¬í˜„
- âœ… Pydantic ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ Request/Response ì •ì˜
- âœ… ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§
- âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ 4ê°œ ì‘ì„± (100% í†µê³¼)
- âœ… í”„ë¡œì íŠ¸ ë¬¸ì„œí™” (README.md)

### 12.2 ë‹¤ìŒ ë‹¨ê³„

1. PR #14 ë¦¬ë·° ë° Merge
2. Issue #4 Close
3. **Issue #009** (ì‚¬ì—…ê³„íšì„œ ìƒì„± ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API) ì°©ìˆ˜
   - Spring Bootì—ì„œ AI Engine í˜¸ì¶œ
4. **Issue #011** (PMF ì§„ë‹¨ LLM ì—”ì§„) ì°©ìˆ˜
   - ìœ ì‚¬ êµ¬ì¡°ë¡œ í™•ì¥

---

**ë¦¬ë·°ì–´ ì„œëª…:** ________________  
**ë¦¬ë·° ì¼ì:** ________________

