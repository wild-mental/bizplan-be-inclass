# í”„ë¡œì íŠ¸ ì§„í–‰ìƒí™© ê²€í†  ìš”ì²­
_Exported on 2025. 11. 29. at 13ì‹œ 17ë¶„ 52ì´ˆ GMT+9 from Cursor (2.1.39)_

---

**User**

í˜„ì¬ í”„ë¡œì íŠ¸ ì§„í–‰ìƒí™©ì„ ì›ê²© ì €ì¥ì†Œì˜ ì´ìŠˆ í‹°ì¼“ ìƒí™©ì— ë¹„ì¶”ì–´ì„œ ë¹ ë¥´ê³  ê°„ê²°í•˜ê²Œ ê²€í† í•´ì¤˜

---

**Cursor**

GitHub ì›ê²© ì €ì¥ì†Œì˜ ì´ìŠˆ ìƒíƒœì™€ ë¡œì»¬ í”„ë¡œì íŠ¸ í˜„í™©ì„ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.

Issue #2ê°€ ì™„ë£Œëœ ê²ƒì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. í˜„ì¬ ì½”ë“œë² ì´ìŠ¤ì—ì„œ ì‹¤ì œ êµ¬í˜„ ìƒíƒœë¥¼ ë¹ ë¥´ê²Œ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.

## ğŸ“Š í”„ë¡œì íŠ¸ ì§„í–‰ í˜„í™© ìš”ì•½

### GitHub Issues ìƒíƒœ (ì´ 10ê°œ)

| ì´ìŠˆ | ì œëª© | ìƒíƒœ | ì˜ˆì •ì¼ |
|------|------|------|--------|
| **#2 (006)** | í”„ë¡œì íŠ¸ ìƒì„± ë° í…œí”Œë¦¿ ëª©ë¡ API | âœ… **CLOSED** | 11/27-11/29 |
| #3 (007) | Wizard ë‹¨ê³„ë³„ ë‹µë³€ ì €ì¥/ì¡°íšŒ API | ğŸŸ¡ OPEN | 11/30-12/02 |
| #4 (008) | ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ | ğŸŸ¡ OPEN | 11/27-12/01 |
| #5 (009) | ì‚¬ì—…ê³„íšì„œ ìƒì„± ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API | ğŸŸ¡ OPEN | 12/03-12/06 |
| #6 (010) | HWP/PDF ë‚´ë³´ë‚´ê¸° | ğŸŸ¡ OPEN | 12/07-12/11 |
| #7 (011) | PMF ì§„ë‹¨ LLM ì—”ì§„ | ğŸŸ¡ OPEN | 12/02-12/05 |
| #8 (012) | ì¬ë¬´ ì¶”ì • ê³„ì‚° ì—”ì§„ | ğŸŸ¡ OPEN | 11/27-12/01 |
| #9 (013) | ë°ì´í„° ì•”í˜¸í™”/ë³´ì•ˆ | ğŸŸ¡ OPEN | 11/30-12/02 |
| #10 (014) | ë¡œê¹… ë° ëª¨ë‹ˆí„°ë§ | ğŸŸ¡ OPEN | 11/30-12/02 |
| #11 (015) | k6 ë¶€í•˜ í…ŒìŠ¤íŠ¸ | ğŸŸ¡ OPEN | 12/07-12/09 |

---

### ğŸš€ í˜„ì¬ ì§„í–‰ ìƒíƒœ

**âœ… ì™„ë£Œ (1/10):**
- Issue #2 (006): `ProjectController`, `ProjectService`, `TemplateService` + í…ŒìŠ¤íŠ¸ êµ¬í˜„ ì™„ë£Œ
- PR #13 ë³‘í•©ë¨ (2025-11-28)

**â³ ë‹¤ìŒ ì°©ìˆ˜ ëŒ€ìƒ (Wave 2.2):**
- **#3 (007)** - Wizard API (ì˜ì¡´ì„±: #006 ì™„ë£Œ âœ“)
- **#9 (013)** - ë³´ì•ˆ êµ¬ì„± (ë³‘ë ¬ ê°€ëŠ¥)
- **#10 (014)** - ëª¨ë‹ˆí„°ë§ êµ¬ì¶• (ë³‘ë ¬ ê°€ëŠ¥)

**ğŸ”„ ë³‘ë ¬ ì§„í–‰ ê°€ëŠ¥ (Wave 2.1 ë¯¸ì°©ìˆ˜):**
- **#4 (008)** - AI/LLM ì—”ì§„ (Python/FastAPI)
- **#8 (012)** - ì¬ë¬´ ê³„ì‚° ì—”ì§„ (ìˆœìˆ˜ ë¡œì§, ì˜ì¡´ì„± ì—†ìŒ)

---

### ğŸ“… ì¼ì • ëŒ€ë¹„ í˜„í™©

- **ê³„íš**: 11/27 ì‹œì‘, 12/11 ì™„ë£Œ (ì´ 15ì¼)
- **í˜„ì¬**: 11/28 ê¸°ì¤€ **1ê°œ ì™„ë£Œ** (ì¼ì • ë‚´)
- **ì§„ì²™ë¥ **: **10%** (1/10 ì´ìŠˆ)

> âš ï¸ **#4(008), #8(012)ëŠ” 11/27-12/01 ì˜ˆì •ì´ì—ˆìœ¼ë‚˜ ì•„ì§ ë¯¸ì°©ìˆ˜**  
> ë³‘ë ¬ ì‘ì—…ìœ¼ë¡œ ê³„íšë˜ì–´ ìˆì–´ ë¹ ë¥¸ ì°©ìˆ˜ ê¶Œì¥

---

**User**

í˜„ì¬ ì°©ìˆ˜ ê°€ëŠ¥í•œ ì‘ì—…ë“¤ ì¤‘ ì•„ë˜ì™€ ê°™ì€ ìš”ê±´ì„ ê°€ì¡Œê±°ë‚˜ ì ì¬ì ìœ¼ë¡œ ê°€ì§„ ì‘ì—…ì´ ìˆì„ê¹Œ?

1. í”„ë¡œì íŠ¸ì—ì„œ í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆê´€ë¦¬ê°€ í•„ìš”í•´ì§€ëŠ” ê¸°ëŠ¥

2. ë¹„ê¸°ëŠ¥ì  í…ŒìŠ¤íŠ¸ ì´ìŠˆì™€ ê²°í™¥ëœ ê¸°ëŠ¥

---

**Cursor**

ì°©ìˆ˜ ê°€ëŠ¥í•œ ì‘ì—…ë“¤ì˜ ìƒì„¸ ë‚´ìš©ì„ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.

## ë¶„ì„ ê²°ê³¼

### 1ï¸âƒ£ í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆê´€ë¦¬ê°€ í•„ìš”í•œ ì‘ì—…

| ì´ìŠˆ | í™˜ê²½ë³€ìˆ˜ í•„ìš” í•­ëª© | ì°©ìˆ˜ ê°€ëŠ¥ |
|------|-------------------|-----------|
| **#008 (AI ì—”ì§„)** | `GEMINI_API_KEY` - LLM API í‚¤ | âœ… ì¦‰ì‹œ ê°€ëŠ¥ |
| **#013 (ë³´ì•ˆ êµ¬ì„±)** | `AES_ENCRYPTION_KEY` - ì•”í˜¸í™” í‚¤ | âœ… ì¦‰ì‹œ ê°€ëŠ¥ |

**#008** Acceptance Criteriaì— ëª…ì‹œ:
> `Google Gemini API Key ë°œê¸‰ ë° í™˜ê²½ë³€ìˆ˜ ì„¤ì •`

**#013** Implementation Stepsì— ëª…ì‹œ:
> `ì•”í˜¸í™” í‚¤ ê´€ë¦¬ (í™˜ê²½ë³€ìˆ˜)`

---

### 2ï¸âƒ£ ë¹„ê¸°ëŠ¥ì  í…ŒìŠ¤íŠ¸ ì´ìŠˆ(#015)ì™€ ê²°í•©ëœ ê¸°ëŠ¥

**#015 (k6 ë¶€í•˜ í…ŒìŠ¤íŠ¸)** í…ŒìŠ¤íŠ¸ ëŒ€ìƒ:

| í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ | ëŒ€ìƒ ì´ìŠˆ | ì„±ëŠ¥ ëª©í‘œ | ì°©ìˆ˜ ê°€ëŠ¥ |
|----------------|----------|----------|-----------|
| Wizard ë‹¨ê³„ ì „í™˜ | **#007** | p95 < 800ms | âœ… ì¦‰ì‹œ ê°€ëŠ¥ |
| ë¬¸ì„œ ìƒì„± | **#009** | p95 < 10s | âŒ #007, #008 ì™„ë£Œ í›„ |

---

### ğŸ¯ ë‘ ì¡°ê±´ì„ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” ì‘ì—…

**#008 (ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„)** â­

```
âœ… í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆê´€ë¦¬: Gemini API Key í•„ìˆ˜
âœ… ë¹„ê¸°ëŠ¥ì  í…ŒìŠ¤íŠ¸ ì—°ê³„: #008 â†’ #009 í™œì„±í™” â†’ #015 í…ŒìŠ¤íŠ¸ ëŒ€ìƒ
âœ… ì°©ìˆ˜ ê°€ëŠ¥: ì˜ì¡´ì„± ì—†ìŒ (ë…ë¦½ì  ì‹œì‘ ê°€ëŠ¥)
```

**ì—°ê²° ê³ ë¦¬:**
```
#008 (LLM ì—”ì§„) 
  â†“ enables
#009 (ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API) 
  â†“ enables
#015 (k6 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸)
```

---

### ğŸ’¡ ì¶”ì²œ ì°©ìˆ˜ ìˆœì„œ

í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆ ê¸°ë°˜ì„ ë¨¼ì € ê°–ì¶”ê³  ì‹¶ë‹¤ë©´:

1. **#013** (ë³´ì•ˆ êµ¬ì„±) - ì•”í˜¸í™” í‚¤ í™˜ê²½ë³€ìˆ˜ ì²´ê³„ êµ¬ì¶•
2. **#008** (LLM ì—”ì§„) - API í‚¤ í™˜ê²½ë³€ìˆ˜ íŒ¨í„´ ì ìš©
3. ì´í›„ #009 â†’ #015ë¡œ ì„±ëŠ¥ ê²€ì¦ê¹Œì§€ ì—°ê²°

```plaintext
âœ… í™˜ê²½ë³€ìˆ˜ ë³´ì•ˆê´€ë¦¬: Gemini API Key í•„ìˆ˜
âœ… ë¹„ê¸°ëŠ¥ì  í…ŒìŠ¤íŠ¸ ì—°ê³„: #008 â†’ #009 í™œì„±í™” â†’ #015 í…ŒìŠ¤íŠ¸ ëŒ€ìƒ
âœ… ì°©ìˆ˜ ê°€ëŠ¥: ì˜ì¡´ì„± ì—†ìŒ (ë…ë¦½ì  ì‹œì‘ ê°€ëŠ¥)
```

```plaintext
#008 (LLM ì—”ì§„) 
  â†“ enables
#009 (ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API) 
  â†“ enables
#015 (k6 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸)
```

---

**User**

@tasks/github-issues/issue-015-REQ-NF-001-PERF-001.md ëŠ” @docs/10_GPT-SRS-V3.md ë¬¸ì„œì— Tracability ë¡œ ëª…ì‹œë˜ì–´ ìˆë‚˜?

---

**Cursor**

```plaintext
| Story / Feature | Requirement ID(s) | Test Case ID(s) (ì˜ˆì‹œ) |
| :--- | :--- | :--- |
| **EPIC 1: ê³¼ì œ í†µê³¼ Job (To pass the test)** â€“ AC 1.1~1.4 | REQ-FUNC-001, REQ-FUNC-002, REQ-FUNC-003, REQ-FUNC-005, REQ-FUNC-006, REQ-FUNC-007, REQ-FUNC-011, REQ-FUNC-013; REQ-NF-001, REQ-NF-002, REQ-NF-003, REQ-NF-013, REQ-NF-015 | TC-FUNC-001~003, TC-FUNC-005~007, TC-FUNC-011, TC-FUNC-013; TC-NF-001~003, TC-NF-013, TC-NF-015 |
```

## Traceability ë¶„ì„ ê²°ê³¼

### âœ… ì—°ê²°ë¨

`issue-015` (k6 ë¶€í•˜ í…ŒìŠ¤íŠ¸)ëŠ” SRS ë¬¸ì„œì— **ê°„ì ‘ì ìœ¼ë¡œ Trace**ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

---

### ğŸ“‹ SRS Traceability Matrix ì—°ê²° ê´€ê³„

**issue-015ì˜ Related Requirements:**
```
REQ-NF-001, REQ-NF-002, REQ-NF-009
```

**SRS 5. Traceability Matrixì—ì„œ:**

| Story/Feature | REQ-NF-001 | REQ-NF-002 | í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ |
|---------------|------------|------------|--------------|
| **EPIC 1** | âœ… í¬í•¨ | âœ… í¬í•¨ | TC-NF-001~002 |
| **F1 (Wizard)** | âœ… í¬í•¨ | - | TC-NF-001 |
| **F4 (AI ì´ˆì•ˆ)** | âœ… í¬í•¨ | âœ… í¬í•¨ | TC-NF-001~002 |

---

### ğŸ“ SRS 4.2 Non-Functional Requirementsì˜ Verification ì»¬ëŸ¼

```230:232:docs/10_GPT-SRS-V3.md
| **REQ-NF-001** | Performance | Wizard ë‹¨ê³„ ì „í™˜ ì„œë²„ ì‘ë‹µ ì„±ëŠ¥ | p95 â‰¤ 800ms | ë¶€í•˜ í…ŒìŠ¤íŠ¸ ë° APM ì¸¡ì • |
| **REQ-NF-002** | Performance | ë¬¸ì„œ/ë¦¬í¬íŠ¸ ìƒì„± ì„±ëŠ¥ | p95 â‰¤ 10ì´ˆ | ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë° ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ |
```

```240:240:docs/10_GPT-SRS-V3.md
| **REQ-NF-009** | Scalability | ë™ì‹œ ì‚¬ìš©ì ì²˜ë¦¬ | 1,000 ë™ì‹œ ì„¸ì…˜ | **ë¶€í•˜ í…ŒìŠ¤íŠ¸(k6 ë“±) ë³´ê³ ì„œ** |
```

> âš¡ **REQ-NF-009ì˜ Verificationì— `k6`ê°€ ëª…ì‹œì ìœ¼ë¡œ ì–¸ê¸‰ë¨**

---

### ğŸ”— ê²°ë¡ 

| í•­ëª© | ìƒíƒœ |
|------|------|
| REQ-NF-001 â†’ Traceability Matrix | âœ… EPIC 1, F1, F4ì— ë§¤í•‘ |
| REQ-NF-002 â†’ Traceability Matrix | âœ… EPIC 1, EPIC 2, F2~F5ì— ë§¤í•‘ |
| REQ-NF-009 â†’ Verification | âœ… **"ë¶€í•˜ í…ŒìŠ¤íŠ¸(k6 ë“±)"** ëª…ì‹œ |
| issue-015 â†’ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ID | âš ï¸ TC-NF-001, TC-NF-002ë¡œ ì¶”ì •ë¨ (ëª…ì‹œì  TC-NF-009ëŠ” ì—†ìŒ) |

**ìš”ì•½**: issue-015ëŠ” SRSì˜ **REQ-NF-001, REQ-NF-002, REQ-NF-009**ë¥¼ ê²€ì¦í•˜ëŠ” í…ŒìŠ¤íŠ¸ êµ¬í˜„ì²´ë¡œ, Traceability Matrixì— ê°„ì ‘ ì—°ê²°ë˜ì–´ ìˆìŠµë‹ˆë‹¤. ë‹¤ë§Œ, í•´ë‹¹ ì´ìŠˆì— ëŒ€í•œ **ë…ë¦½ì ì¸ Test Case ID (ì˜ˆ: TC-NF-015-PERF)**ëŠ” SRSì— ëª…ì‹œë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.

```plaintext
REQ-NF-001, REQ-NF-002, REQ-NF-009
```

```plaintext
| **REQ-NF-001** | Performance | Wizard ë‹¨ê³„ ì „í™˜ ì„œë²„ ì‘ë‹µ ì„±ëŠ¥ | p95 â‰¤ 800ms | ë¶€í•˜ í…ŒìŠ¤íŠ¸ ë° APM ì¸¡ì • |
| **REQ-NF-002** | Performance | ë¬¸ì„œ/ë¦¬í¬íŠ¸ ìƒì„± ì„±ëŠ¥ | p95 â‰¤ 10ì´ˆ | ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë° ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ |
```

```plaintext
| **REQ-NF-009** | Scalability | ë™ì‹œ ì‚¬ìš©ì ì²˜ë¦¬ | 1,000 ë™ì‹œ ì„¸ì…˜ | **ë¶€í•˜ í…ŒìŠ¤íŠ¸(k6 ë“±) ë³´ê³ ì„œ** |
```

---

**User**

@docs/INTEGRATED_WBS_DAG.md ì— ë¹„ì¶”ì–´ ë´¤ì„ ë•Œ, @tasks/github-issues/issue-015-REQ-NF-001-PERF-001.md ì˜ ì‘ì—…ì— ì„ í–‰í•´ì•¼ í•˜ëŠ” ì´ìŠˆë“¤ì´ ì–´ë–¤ ê²ƒë“¤ì´ì§€?

---

**Cursor**

## DAG ê¸°ë°˜ ì„ í–‰ ì˜ì¡´ì„± ë¶„ì„

`docs/INTEGRATED_WBS_DAG.md`ì˜ Flow 2 DAGë¥¼ ë¶„ì„í•˜ë©´:

```
T_BE_003 --> T_PERF_001[REQ-NF-001-PERF-001]
```

**issue-015 (REQ-NF-001-PERF-001)**ì˜ ì§ì ‘ ì„ í–‰ ì˜ì¡´ì„±ì€ **T_BE_003 (REQ-FUNC-003-BE-001)**ì…ë‹ˆë‹¤.

---

### ğŸ“Š ì „ì²´ ì˜ì¡´ì„± ì²´ì¸ (ì—­ìˆœ ì¶”ì )

```mermaid
graph LR
    A["#006<br/>í”„ë¡œì íŠ¸/í…œí”Œë¦¿ API<br/>âœ… ì™„ë£Œ"] --> B["#007<br/>Wizard ë‹µë³€ API<br/>ğŸŸ¡ OPEN"]
    C["#008<br/>LLM ì—”ì§„<br/>ğŸŸ¡ OPEN"] --> D["#009<br/>ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API<br/>ğŸŸ¡ OPEN"]
    B --> D
    D --> E["#015<br/>k6 ë¶€í•˜ í…ŒìŠ¤íŠ¸<br/>ğŸŸ¡ OPEN"]
```

---

### ğŸ“‹ ì„ í–‰ ì´ìŠˆ ëª©ë¡

| ìˆœì„œ | GitHub Issue | Task ID | ì„¤ëª… | ìƒíƒœ |
|------|--------------|---------|------|------|
| 1 | **#2 (006)** | REQ-FUNC-001-BE-001 | í”„ë¡œì íŠ¸ ìƒì„± ë° í…œí”Œë¦¿ API | âœ… **ì™„ë£Œ** |
| 2 | **#3 (007)** | REQ-FUNC-002-BE-001 | Wizard ë‹¨ê³„ë³„ ë‹µë³€ ì €ì¥/ì¡°íšŒ API | ğŸŸ¡ OPEN |
| 3 | **#4 (008)** | REQ-FUNC-003-AI-001 | ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ | ğŸŸ¡ OPEN |
| 4 | **#5 (009)** | REQ-FUNC-003-BE-001 | ì‚¬ì—…ê³„íšì„œ ìƒì„± ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API | ğŸŸ¡ OPEN |

---

### ğŸ”‘ í•µì‹¬ í¬ì¸íŠ¸

1. **ì§ì ‘ ì˜ì¡´ì„±**: `#009` (ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API)
   - issue-015 íŒŒì¼ì—ë„ ëª…ì‹œ: `Dependencies: #009 - ì£¼ìš” API êµ¬í˜„ ì™„ë£Œ í•„ìš”`

2. **ê°„ì ‘ ì˜ì¡´ì„± (Critical Path)**:
   ```
   #006 â†’ #007 â†’ #009 â†’ #015
              â†—
   #008 â”€â”€â”€â”€â”˜
   ```

3. **í˜„ì¬ ìƒíƒœ**: 
   - #006 ì™„ë£Œ âœ…
   - **#007, #008** ì°©ìˆ˜ ê°€ëŠ¥ (ë³‘ë ¬)
   - #009ëŠ” #007 + #008 ì™„ë£Œ í›„ ì°©ìˆ˜
   - **#015ëŠ” ìµœì†Œ 4ê°œ ì´ìŠˆ ì™„ë£Œ í›„ ì°©ìˆ˜ ê°€ëŠ¥**

```plaintext
T_BE_003 --> T_PERF_001[REQ-NF-001-PERF-001]
```

```plaintext
graph LR
    A["#006<br/>í”„ë¡œì íŠ¸/í…œí”Œë¦¿ API<br/>âœ… ì™„ë£Œ"] --> B["#007<br/>Wizard ë‹µë³€ API<br/>ğŸŸ¡ OPEN"]
    C["#008<br/>LLM ì—”ì§„<br/>ğŸŸ¡ OPEN"] --> D["#009<br/>ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API<br/>ğŸŸ¡ OPEN"]
    B --> D
    D --> E["#015<br/>k6 ë¶€í•˜ í…ŒìŠ¤íŠ¸<br/>ğŸŸ¡ OPEN"]
```

```plaintext
   #006 â†’ #007 â†’ #009 â†’ #015
              â†—
   #008 â”€â”€â”€â”€â”˜
```

---

**User**

@tasks/github-issues/issue-008-REQ-FUNC-003-AI-001.md ë§Œ ë”°ë¡œ í…ŒìŠ¤íŠ¸í•˜ë©´ ì¢‹ê² ëŠ”ë°?

---

**Cursor**

issue-008ì€ **ë…ë¦½ì ìœ¼ë¡œ ì‹œì‘ ê°€ëŠ¥**í•˜ë‹¤ê³  ëª…ì‹œë˜ì–´ ìˆì–´ ë³„ë„ í…ŒìŠ¤íŠ¸ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. í˜„ì¬ í”„ë¡œì íŠ¸ êµ¬ì¡°ë¥¼ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.

issue-008 (LLM ì—”ì§„)ì€ Python/FastAPIë¡œ **ë…ë¦½ì ì¸ ì„œë¹„ìŠ¤**ì´ë¯€ë¡œ, ë³„ë„ë¡œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥í•©ë‹ˆë‹¤. ìµœì†Œí•œì˜ PoC í™˜ê²½ì„ êµ¬ì„±í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

```pip-requirements
# AI Engine Dependencies for Issue #008
# FastAPI + LLM Stack

# Web Framework
fastapi==0.115.5
uvicorn[standard]==0.32.1
python-multipart==0.0.12

# LangChain + Gemini
langchain==0.3.9
langchain-google-genai==2.0.6
google-generativeai==0.8.3

# Configuration & Validation
pydantic==2.10.2
pydantic-settings==2.6.1
python-dotenv==1.0.1

# Testing
pytest==8.3.4
pytest-asyncio==0.24.0
httpx==0.28.1

```

```python
# AI Engine Package

```

```python
"""
AI Engine Configuration
í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì • ê´€ë¦¬
"""
import os
from pydantic_settings import BaseSettings
from functools import lru_cache


class Settings(BaseSettings):
    """Application settings loaded from environment variables."""
    
    # Application
    app_name: str = "BizPlan AI Engine"
    app_env: str = "development"
    log_level: str = "INFO"
    
    # Google Gemini API
    gemini_api_key: str = ""
    
    # LLM Settings
    llm_model: str = "gemini-1.5-flash"
    llm_temperature: float = 0.7
    llm_max_retries: int = 3
    
    class Config:
        env_file = ".env"
        env_file_encoding = "utf-8"
        extra = "ignore"


@lru_cache
def get_settings() -> Settings:
    """Get cached settings instance."""
    return Settings()

```

```python
"""
API Request/Response Schemas
Pydantic ëª¨ë¸ ì •ì˜
"""
from datetime import datetime
from typing import Dict, Any, Optional
from pydantic import BaseModel, Field


class GenerateRequest(BaseModel):
    """ì‚¬ì—…ê³„íšì„œ ìƒì„± ìš”ì²­ ìŠ¤í‚¤ë§ˆ"""
    
    answers: Dict[str, Any] = Field(
        ...,
        description="Wizard ë‹¨ê³„ë³„ ì‚¬ìš©ì ë‹µë³€ (JSON)",
        json_schema_extra={
            "example": {
                "step_1_problem": {
                    "q1": "ê¸°ì¡´ ì‚¬ì—…ê³„íšì„œ ì‘ì„± ë„êµ¬ëŠ” ë³µì¡í•˜ê³  ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦½ë‹ˆë‹¤.",
                    "q2": "ì°½ì—…ìë“¤ì´ í•µì‹¬ì— ì§‘ì¤‘í•˜ì§€ ëª»í•˜ê³  í˜•ì‹ì— ë§¤ëª°ë©ë‹ˆë‹¤."
                },
                "step_2_solution": {
                    "q1": "AI ê¸°ë°˜ ìë™ ì´ˆì•ˆ ìƒì„±ìœ¼ë¡œ ì‹œê°„ì„ 90% ë‹¨ì¶•í•©ë‹ˆë‹¤.",
                    "q2": "Wizard í˜•íƒœë¡œ ë‹¨ê³„ë³„ ì•ˆë‚´ë¥¼ ì œê³µí•©ë‹ˆë‹¤."
                }
            }
        }
    )
    
    template_type: str = Field(
        default="KSTARTUP_2025",
        description="ì‚¬ìš©í•  í…œí”Œë¦¿ ìœ í˜•",
        json_schema_extra={"example": "KSTARTUP_2025"}
    )


class GenerateResponse(BaseModel):
    """ì‚¬ì—…ê³„íšì„œ ìƒì„± ì‘ë‹µ ìŠ¤í‚¤ë§ˆ"""
    
    sections: Dict[str, str] = Field(
        ...,
        description="ìƒì„±ëœ ì„¹ì…˜ë³„ ë‚´ìš©"
    )
    
    generated_at: datetime = Field(
        default_factory=datetime.utcnow,
        description="ìƒì„± ì‹œê° (UTC)"
    )


class ErrorResponse(BaseModel):
    """ì—ëŸ¬ ì‘ë‹µ ìŠ¤í‚¤ë§ˆ"""
    
    error: str = Field(..., description="ì—ëŸ¬ íƒ€ì…")
    message: str = Field(..., description="ì—ëŸ¬ ë©”ì‹œì§€")
    detail: Optional[str] = Field(None, description="ìƒì„¸ ì •ë³´")


class HealthResponse(BaseModel):
    """í—¬ìŠ¤ì²´í¬ ì‘ë‹µ ìŠ¤í‚¤ë§ˆ"""
    
    status: str = "ok"
    service: str = "ai-engine"
    llm_configured: bool = False

```

```python
# Services Package

```

```python
"""
LLM Service
LangChain + Google Geminië¥¼ ì‚¬ìš©í•œ ì‚¬ì—…ê³„íšì„œ ìƒì„± ì„œë¹„ìŠ¤
"""
import logging
from typing import Dict, Any

from langchain_google_genai import ChatGoogleGenerativeAI
from langchain.prompts import PromptTemplate
from langchain.schema import HumanMessage

from app.config import get_settings

logger = logging.getLogger(__name__)


# ì„¹ì…˜ë³„ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ ì •ì˜
SECTION_PROMPTS = {
    "problem_definition": """
ë‹¹ì‹ ì€ ì •ë¶€ ì§€ì›ì‚¬ì—… ì‹¬ì‚¬ìœ„ì› ê²½í—˜ì´ í’ë¶€í•œ ì „ë¬¸ ì°½ì—… ì»¨ì„¤í„´íŠ¸ì…ë‹ˆë‹¤.

## Context
ì‚¬ìš©ìê°€ ì œê³µí•œ ì‚¬ì—… ì•„ì´ë””ì–´ ì •ë³´:
{user_answers}

## Task
ìœ„ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ "ë¬¸ì œ ì •ì˜ ë° ì‚¬ì—… ì•„ì´í…œì˜ í•„ìš”ì„±" ì„¹ì…˜ì„ ì‘ì„±í•˜ì„¸ìš”.

## ì‘ì„± ìš”êµ¬ì‚¬í•­
1. í˜„ì¬ ì‹œì¥/ê³ ê°ì´ ê²ªëŠ” êµ¬ì²´ì ì¸ ë¬¸ì œì ì„ 3ê°€ì§€ ì´ìƒ ì„œìˆ 
2. ê¸°ì¡´ í•´ê²°ì±…ì˜ í•œê³„ì  ë¶„ì„
3. í•´ë‹¹ ë¬¸ì œê°€ í•´ê²°ë˜ì§€ ì•Šì„ ê²½ìš°ì˜ íŒŒê¸‰íš¨ê³¼
4. ê°ê´€ì  ë°ì´í„°ë‚˜ í†µê³„ë¥¼ ì¸ìš©í•  ìˆ˜ ìˆë‹¤ë©´ í¬í•¨

## ì¶œë ¥ í˜•ì‹
2-3ê°œ ë¬¸ë‹¨, ì´ 300-500ì ë¶„ëŸ‰ì˜ ì „ë¬¸ì ì¸ ì„œìˆ ì²´ë¡œ ì‘ì„±í•˜ì„¸ìš”.
""",
    
    "solution_approach": """
ë‹¹ì‹ ì€ ì •ë¶€ ì§€ì›ì‚¬ì—… ì‹¬ì‚¬ìœ„ì› ê²½í—˜ì´ í’ë¶€í•œ ì „ë¬¸ ì°½ì—… ì»¨ì„¤í„´íŠ¸ì…ë‹ˆë‹¤.

## Context
ì‚¬ìš©ìê°€ ì œê³µí•œ ì†”ë£¨ì…˜ ì •ë³´:
{user_answers}

## Task
ìœ„ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ "í•´ê²° ë°©ì•ˆ ë° ì‚¬ì—… ì•„ì´í…œ ì†Œê°œ" ì„¹ì…˜ì„ ì‘ì„±í•˜ì„¸ìš”.

## ì‘ì„± ìš”êµ¬ì‚¬í•­
1. ì œì•ˆí•˜ëŠ” ì†”ë£¨ì…˜ì˜ í•µì‹¬ ê°€ì¹˜ ì œì•ˆ(Value Proposition) ëª…í™•íˆ ì„œìˆ 
2. ê¸°ì¡´ ëŒ€ì•ˆ ëŒ€ë¹„ ì°¨ë³„í™” í¬ì¸íŠ¸ 3ê°€ì§€ ì´ìƒ
3. ê¸°ìˆ ì /ë¹„ì¦ˆë‹ˆìŠ¤ì  ì‹¤í˜„ ê°€ëŠ¥ì„± ê·¼ê±°
4. ëª©í‘œ ê³ ê°ê³¼ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

## ì¶œë ¥ í˜•ì‹
2-3ê°œ ë¬¸ë‹¨, ì´ 300-500ì ë¶„ëŸ‰ì˜ ì „ë¬¸ì ì¸ ì„œìˆ ì²´ë¡œ ì‘ì„±í•˜ì„¸ìš”.
""",
    
    "market_analysis": """
ë‹¹ì‹ ì€ ì •ë¶€ ì§€ì›ì‚¬ì—… ì‹¬ì‚¬ìœ„ì› ê²½í—˜ì´ í’ë¶€í•œ ì „ë¬¸ ì°½ì—… ì»¨ì„¤í„´íŠ¸ì…ë‹ˆë‹¤.

## Context
ì‚¬ìš©ìê°€ ì œê³µí•œ ì‹œì¥ ë° ì‚¬ì—… ì •ë³´:
{user_answers}

## Task
ìœ„ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ "ì‹œì¥ ë¶„ì„ ë° ê²½ìŸ í˜„í™©" ì„¹ì…˜ì„ ì‘ì„±í•˜ì„¸ìš”.

## ì‘ì„± ìš”êµ¬ì‚¬í•­
1. TAM-SAM-SOM í”„ë ˆì„ì›Œí¬ ê¸°ë°˜ ì‹œì¥ ê·œëª¨ ì¶”ì •
2. ì£¼ìš” ê²½ìŸì‚¬/ëŒ€ì²´ì¬ ë¶„ì„
3. ì‹œì¥ ì§„ì… ì „ëµ ë° í¬ì§€ì…”ë‹
4. ì„±ì¥ ê°€ëŠ¥ì„± ë° íŠ¸ë Œë“œ

## ì¶œë ¥ í˜•ì‹
2-3ê°œ ë¬¸ë‹¨, ì´ 300-500ì ë¶„ëŸ‰ì˜ ì „ë¬¸ì ì¸ ì„œìˆ ì²´ë¡œ ì‘ì„±í•˜ì„¸ìš”.
"""
}


class LLMService:
    """LLM ê¸°ë°˜ ì‚¬ì—…ê³„íšì„œ ìƒì„± ì„œë¹„ìŠ¤"""
    
    def __init__(self):
        """ì„œë¹„ìŠ¤ ì´ˆê¸°í™”"""
        self.settings = get_settings()
        self._llm = None
    
    @property
    def llm(self) -> ChatGoogleGenerativeAI:
        """Lazy initialization of LLM client."""
        if self._llm is None:
            if not self.settings.gemini_api_key:
                raise ValueError("GEMINI_API_KEY is not configured")
            
            self._llm = ChatGoogleGenerativeAI(
                model=self.settings.llm_model,
                google_api_key=self.settings.gemini_api_key,
                temperature=self.settings.llm_temperature,
                max_retries=self.settings.llm_max_retries,
            )
        return self._llm
    
    def is_configured(self) -> bool:
        """LLMì´ ì„¤ì •ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸"""
        return bool(self.settings.gemini_api_key)
    
    async def generate_section(
        self, 
        section_key: str, 
        user_answers: Dict[str, Any]
    ) -> str:
        """
        ë‹¨ì¼ ì„¹ì…˜ ìƒì„±
        
        Args:
            section_key: ì„¹ì…˜ í‚¤ (problem_definition, solution_approach, market_analysis)
            user_answers: ì‚¬ìš©ì ë‹µë³€ ë”•ì…”ë„ˆë¦¬
            
        Returns:
            ìƒì„±ëœ ì„¹ì…˜ í…ìŠ¤íŠ¸
        """
        if section_key not in SECTION_PROMPTS:
            raise ValueError(f"Unknown section: {section_key}")
        
        prompt_template = PromptTemplate(
            input_variables=["user_answers"],
            template=SECTION_PROMPTS[section_key]
        )
        
        # ì‚¬ìš©ì ë‹µë³€ì„ ë¬¸ìì—´ë¡œ í¬ë§·íŒ…
        answers_str = self._format_answers(user_answers)
        prompt = prompt_template.format(user_answers=answers_str)
        
        logger.info(f"Generating section: {section_key}")
        
        try:
            response = await self.llm.ainvoke([HumanMessage(content=prompt)])
            return response.content
        except Exception as e:
            logger.error(f"LLM generation failed for {section_key}: {e}")
            raise
    
    async def generate_all_sections(
        self, 
        answers: Dict[str, Any],
        template_type: str = "KSTARTUP_2025"
    ) -> Dict[str, str]:
        """
        ëª¨ë“  ì„¹ì…˜ ìƒì„±
        
        Args:
            answers: Wizard ë‹¨ê³„ë³„ ì‚¬ìš©ì ë‹µë³€
            template_type: í…œí”Œë¦¿ ìœ í˜•
            
        Returns:
            ì„¹ì…˜ë³„ ìƒì„±ëœ í…ìŠ¤íŠ¸ ë”•ì…”ë„ˆë¦¬
        """
        sections = {}
        
        # ì„¹ì…˜ê³¼ ê´€ë ¨ ë‹µë³€ ë§¤í•‘
        section_answer_mapping = {
            "problem_definition": answers.get("step_1_problem", {}),
            "solution_approach": answers.get("step_2_solution", {}),
            "market_analysis": answers,  # ì „ì²´ ë‹µë³€ ì‚¬ìš©
        }
        
        for section_key, section_answers in section_answer_mapping.items():
            try:
                content = await self.generate_section(section_key, section_answers)
                sections[section_key] = content
                logger.info(f"Successfully generated: {section_key}")
            except Exception as e:
                logger.error(f"Failed to generate {section_key}: {e}")
                sections[section_key] = f"[ìƒì„± ì‹¤íŒ¨: {str(e)}]"
        
        return sections
    
    def _format_answers(self, answers: Dict[str, Any]) -> str:
        """ì‚¬ìš©ì ë‹µë³€ì„ LLM í”„ë¡¬í”„íŠ¸ìš© ë¬¸ìì—´ë¡œ í¬ë§·íŒ…"""
        if not answers:
            return "(ë‹µë³€ ì—†ìŒ)"
        
        lines = []
        for key, value in answers.items():
            if isinstance(value, dict):
                for sub_key, sub_value in value.items():
                    lines.append(f"- {sub_key}: {sub_value}")
            else:
                lines.append(f"- {key}: {value}")
        
        return "\n".join(lines)


# ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤
_llm_service: LLMService | None = None


def get_llm_service() -> LLMService:
    """LLM ì„œë¹„ìŠ¤ ì‹±ê¸€í†¤ ì¸ìŠ¤í„´ìŠ¤ ë°˜í™˜"""
    global _llm_service
    if _llm_service is None:
        _llm_service = LLMService()
    return _llm_service

```

```python
"""
AI Engine - FastAPI Application
ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
"""
import logging
from datetime import datetime
from contextlib import asynccontextmanager

from fastapi import FastAPI, HTTPException
from fastapi.middleware.cors import CORSMiddleware

from app.config import get_settings
from app.schemas import (
    GenerateRequest, 
    GenerateResponse, 
    ErrorResponse,
    HealthResponse,
)
from app.services.llm_service import get_llm_service

# ë¡œê¹… ì„¤ì •
logging.basicConfig(
    level=logging.INFO,
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s"
)
logger = logging.getLogger(__name__)


@asynccontextmanager
async def lifespan(app: FastAPI):
    """Application lifespan handler."""
    settings = get_settings()
    logger.info(f"Starting {settings.app_name} in {settings.app_env} mode")
    
    # LLM ì„¤ì • í™•ì¸
    llm_service = get_llm_service()
    if llm_service.is_configured():
        logger.info("âœ… LLM service configured")
    else:
        logger.warning("âš ï¸ GEMINI_API_KEY not set - LLM features disabled")
    
    yield
    
    logger.info("Shutting down AI Engine")


# FastAPI ì•± ìƒì„±
app = FastAPI(
    title="BizPlan AI Engine",
    description="ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ - Issue #008",
    version="0.1.0",
    lifespan=lifespan,
)

# CORS ì„¤ì •
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],  # ê°œë°œ í™˜ê²½ìš©
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)


@app.get("/health", response_model=HealthResponse, tags=["System"])
async def health_check():
    """í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸"""
    llm_service = get_llm_service()
    return HealthResponse(
        status="ok",
        service="ai-engine",
        llm_configured=llm_service.is_configured()
    )


@app.post(
    "/generate",
    response_model=GenerateResponse,
    responses={
        400: {"model": ErrorResponse, "description": "ì˜ëª»ëœ ìš”ì²­"},
        500: {"model": ErrorResponse, "description": "ì„œë²„ ì˜¤ë¥˜"},
        503: {"model": ErrorResponse, "description": "LLM ì„œë¹„ìŠ¤ ë¶ˆê°€"},
    },
    tags=["Generation"],
    summary="ì‚¬ì—…ê³„íšì„œ ì´ˆì•ˆ ìƒì„±",
    description="Wizard ë‹µë³€ì„ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ì—…ê³„íšì„œ ì„¹ì…˜ë³„ ì´ˆì•ˆì„ ìƒì„±í•©ë‹ˆë‹¤."
)
async def generate_business_plan(request: GenerateRequest):
    """
    ì‚¬ì—…ê³„íšì„œ ì´ˆì•ˆ ìƒì„± ì—”ë“œí¬ì¸íŠ¸
    
    - **answers**: Wizard ë‹¨ê³„ë³„ ì‚¬ìš©ì ë‹µë³€ (JSON)
    - **template_type**: ì‚¬ìš©í•  í…œí”Œë¦¿ ìœ í˜• (ê¸°ë³¸: KSTARTUP_2025)
    """
    llm_service = get_llm_service()
    
    # LLM ì„¤ì • í™•ì¸
    if not llm_service.is_configured():
        raise HTTPException(
            status_code=503,
            detail={
                "error": "LLM_NOT_CONFIGURED",
                "message": "GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
                "detail": "í™˜ê²½ë³€ìˆ˜ GEMINI_API_KEYë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”."
            }
        )
    
    # ì…ë ¥ ê²€ì¦
    if not request.answers:
        raise HTTPException(
            status_code=400,
            detail={
                "error": "INVALID_REQUEST",
                "message": "answers í•„ë“œê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.",
                "detail": "ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ë‹µë³€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."
            }
        )
    
    try:
        logger.info(f"Generating business plan for template: {request.template_type}")
        
        # ì„¹ì…˜ ìƒì„±
        sections = await llm_service.generate_all_sections(
            answers=request.answers,
            template_type=request.template_type
        )
        
        logger.info(f"Successfully generated {len(sections)} sections")
        
        return GenerateResponse(
            sections=sections,
            generated_at=datetime.utcnow()
        )
        
    except ValueError as e:
        logger.error(f"Validation error: {e}")
        raise HTTPException(
            status_code=400,
            detail={
                "error": "VALIDATION_ERROR",
                "message": str(e),
            }
        )
    except Exception as e:
        logger.error(f"Generation failed: {e}", exc_info=True)
        raise HTTPException(
            status_code=500,
            detail={
                "error": "GENERATION_FAILED",
                "message": "ì‚¬ì—…ê³„íšì„œ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",
                "detail": str(e)
            }
        )


if __name__ == "__main__":
    import uvicorn
    uvicorn.run("app.main:app", host="0.0.0.0", port=8001, reload=True)

```

```python
"""
AI Engine API í…ŒìŠ¤íŠ¸
Issue #008 - ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ í…ŒìŠ¤íŠ¸
"""
import pytest
from httpx import AsyncClient, ASGITransport
from unittest.mock import patch, AsyncMock

from app.main import app
from app.schemas import GenerateRequest


# í…ŒìŠ¤íŠ¸ìš© ìƒ˜í”Œ ë°ì´í„°
SAMPLE_ANSWERS = {
    "step_1_problem": {
        "q1": "ê¸°ì¡´ ì‚¬ì—…ê³„íšì„œ ì‘ì„± ë„êµ¬ëŠ” ë³µì¡í•˜ê³  ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦½ë‹ˆë‹¤.",
        "q2": "ì°½ì—…ìë“¤ì´ í•µì‹¬ì— ì§‘ì¤‘í•˜ì§€ ëª»í•˜ê³  í˜•ì‹ì— ë§¤ëª°ë©ë‹ˆë‹¤."
    },
    "step_2_solution": {
        "q1": "AI ê¸°ë°˜ ìë™ ì´ˆì•ˆ ìƒì„±ìœ¼ë¡œ ì‹œê°„ì„ 90% ë‹¨ì¶•í•©ë‹ˆë‹¤.",
        "q2": "Wizard í˜•íƒœë¡œ ë‹¨ê³„ë³„ ì•ˆë‚´ë¥¼ ì œê³µí•©ë‹ˆë‹¤."
    }
}


@pytest.fixture
def anyio_backend():
    return "asyncio"


@pytest.mark.anyio
async def test_health_check():
    """í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸"""
    transport = ASGITransport(app=app)
    async with AsyncClient(transport=transport, base_url="http://test") as client:
        response = await client.get("/health")
    
    assert response.status_code == 200
    data = response.json()
    assert data["status"] == "ok"
    assert data["service"] == "ai-engine"
    assert "llm_configured" in data


@pytest.mark.anyio
async def test_generate_without_api_key():
    """API Key ì—†ì´ ìƒì„± ìš”ì²­ ì‹œ 503 ë°˜í™˜"""
    transport = ASGITransport(app=app)
    async with AsyncClient(transport=transport, base_url="http://test") as client:
        response = await client.post(
            "/generate",
            json={"answers": SAMPLE_ANSWERS, "template_type": "KSTARTUP_2025"}
        )
    
    # API Keyê°€ ì—†ìœ¼ë©´ 503 Service Unavailable
    assert response.status_code == 503
    data = response.json()
    assert "GEMINI_API_KEY" in str(data)


@pytest.mark.anyio
async def test_generate_with_empty_answers():
    """ë¹ˆ answersë¡œ ìš”ì²­ ì‹œ 400 ë°˜í™˜"""
    transport = ASGITransport(app=app)
    async with AsyncClient(transport=transport, base_url="http://test") as client:
        response = await client.post(
            "/generate",
            json={"answers": {}, "template_type": "KSTARTUP_2025"}
        )
    
    assert response.status_code == 400


@pytest.mark.anyio
async def test_generate_with_mocked_llm():
    """LLMì„ Mockí•˜ì—¬ ìƒì„± ì„±ê³µ í…ŒìŠ¤íŠ¸"""
    mock_sections = {
        "problem_definition": "ë¬¸ì œ ì •ì˜ ë‚´ìš©...",
        "solution_approach": "í•´ê²° ë°©ì•ˆ ë‚´ìš©...",
        "market_analysis": "ì‹œì¥ ë¶„ì„ ë‚´ìš©..."
    }
    
    with patch("app.services.llm_service.get_llm_service") as mock_get_service:
        mock_service = AsyncMock()
        mock_service.is_configured.return_value = True
        mock_service.generate_all_sections = AsyncMock(return_value=mock_sections)
        mock_get_service.return_value = mock_service
        
        transport = ASGITransport(app=app)
        async with AsyncClient(transport=transport, base_url="http://test") as client:
            response = await client.post(
                "/generate",
                json={"answers": SAMPLE_ANSWERS, "template_type": "KSTARTUP_2025"}
            )
        
        assert response.status_code == 200
        data = response.json()
        assert "sections" in data
        assert "generated_at" in data
        assert data["sections"]["problem_definition"] == "ë¬¸ì œ ì •ì˜ ë‚´ìš©..."


if __name__ == "__main__":
    pytest.main([__file__, "-v"])

```

```python
# Tests Package

```

```markdown
# AI Engine - ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„

> **Issue #008**: ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ ë° í”„ë¡¬í”„íŠ¸ êµ¬í˜„

## ê°œìš”

Wizard ë‹µë³€(JSON)ì„ ì…ë ¥ë°›ì•„, LangChain ë° LLM(Gemini)ì„ ì‚¬ìš©í•˜ì—¬ ì„¹ì…˜ë³„ ì‚¬ì—…ê³„íšì„œ ì´ˆì•ˆì„ ìƒì„±í•˜ëŠ” Python FastAPI ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

## ê¸°ìˆ  ìŠ¤íƒ

- Python 3.10+
- FastAPI
- LangChain
- Google Gemini API

## ë¹ ë¥¸ ì‹œì‘

### 1. ê°€ìƒí™˜ê²½ ìƒì„± ë° ì˜ì¡´ì„± ì„¤ì¹˜

```bash
cd ai-engine

# ê°€ìƒí™˜ê²½ ìƒì„±
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt
```

### 2. í™˜ê²½ë³€ìˆ˜ ì„¤ì •

```bash
# .env íŒŒì¼ ìƒì„±
cat > .env << EOF
# Google Gemini API Key (í•„ìˆ˜)
# https://aistudio.google.com/apikey ì—ì„œ ë°œê¸‰
GEMINI_API_KEY=your-api-key-here

# ì„¤ì • (ì„ íƒ)
APP_ENV=development
LLM_MODEL=gemini-1.5-flash
LLM_TEMPERATURE=0.7
EOF
```

### 3. ì„œë²„ ì‹¤í–‰

```bash
# ê°œë°œ ì„œë²„ ì‹¤í–‰ (ìë™ ë¦¬ë¡œë“œ)
uvicorn app.main:app --reload --port 8001

# ë˜ëŠ”
python -m app.main
```

### 4. API í…ŒìŠ¤íŠ¸

ì„œë²„ ì‹¤í–‰ í›„ http://localhost:8001/docs ì—ì„œ Swagger UI í™•ì¸

```bash
# í—¬ìŠ¤ì²´í¬
curl http://localhost:8001/health

# ì‚¬ì—…ê³„íšì„œ ìƒì„±
curl -X POST http://localhost:8001/generate \
  -H "Content-Type: application/json" \
  -d '{
    "answers": {
      "step_1_problem": {
        "q1": "ê¸°ì¡´ ì‚¬ì—…ê³„íšì„œ ì‘ì„±ì´ ë„ˆë¬´ ë³µì¡í•©ë‹ˆë‹¤.",
        "q2": "ì°½ì—…ìê°€ í•µì‹¬ì— ì§‘ì¤‘í•˜ì§€ ëª»í•©ë‹ˆë‹¤."
      },
      "step_2_solution": {
        "q1": "AIë¡œ ìë™ ì´ˆì•ˆì„ ìƒì„±í•©ë‹ˆë‹¤.",
        "q2": "Wizardë¡œ ë‹¨ê³„ë³„ ì•ˆë‚´í•©ë‹ˆë‹¤."
      }
    },
    "template_type": "KSTARTUP_2025"
  }'
```

## í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
pytest tests/ -v

# íŠ¹ì • í…ŒìŠ¤íŠ¸ ì‹¤í–‰
pytest tests/test_generate.py -v
```

## API ëª…ì„¸

### GET /health
í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸

**Response:**
```json
{
  "status": "ok",
  "service": "ai-engine",
  "llm_configured": true
}
```

### POST /generate
ì‚¬ì—…ê³„íšì„œ ì´ˆì•ˆ ìƒì„±

**Request:**
```json
{
  "answers": {
    "step_1_problem": { "q1": "...", "q2": "..." },
    "step_2_solution": { "q1": "...", "q2": "..." }
  },
  "template_type": "KSTARTUP_2025"
}
```

**Response (200 OK):**
```json
{
  "sections": {
    "problem_definition": "ì‚¬ì—… ì•„ì´í…œì˜ í•„ìš”ì„±...",
    "solution_approach": "í•´ê²° ë°©ì•ˆ...",
    "market_analysis": "ì‹œì¥ ë¶„ì„..."
  },
  "generated_at": "2025-11-28T10:10:00Z"
}
```

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ai-engine/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py           # FastAPI ì•± ì§„ì…ì 
â”‚   â”œâ”€â”€ config.py         # í™˜ê²½ë³€ìˆ˜ ì„¤ì •
â”‚   â”œâ”€â”€ schemas.py        # Pydantic ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ llm_service.py  # LLM ì„œë¹„ìŠ¤ ë¡œì§
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_generate.py
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

## ê´€ë ¨ ì´ìŠˆ

- **#008**: ë³¸ ì´ìŠˆ (ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„)
- **#009**: ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API (Spring Bootì—ì„œ ì´ ì„œë¹„ìŠ¤ í˜¸ì¶œ)
- **#011**: PMF ì§„ë‹¨ LLM ì—”ì§„ (ìœ ì‚¬ êµ¬ì¡°ë¡œ í™•ì¥)

## í™˜ê²½ë³€ìˆ˜ ëª©ë¡

| ë³€ìˆ˜ëª… | í•„ìˆ˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|--------|------|--------|------|
| `GEMINI_API_KEY` | âœ… | - | Google Gemini API Key |
| `APP_ENV` | - | `development` | ì‹¤í–‰ í™˜ê²½ |
| `LOG_LEVEL` | - | `INFO` | ë¡œê·¸ ë ˆë²¨ |
| `LLM_MODEL` | - | `gemini-1.5-flash` | ì‚¬ìš©í•  Gemini ëª¨ë¸ |
| `LLM_TEMPERATURE` | - | `0.7` | ìƒì„± ì˜¨ë„ (ì°½ì˜ì„±) |
| `LLM_MAX_RETRIES` | - | `3` | LLM ì˜¤ë¥˜ ì‹œ ì¬ì‹œë„ íšŸìˆ˜ |

```

ì´ì œ í™˜ê²½ ì„¤ì • í›„ í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•´ë³´ê² ìŠµë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ë¥¼ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤. Mock íŒ¨ì¹˜ ìœ„ì¹˜ì™€ datetime ê²½ê³ ë¥¼ ìˆ˜ì •í•˜ê² ìŠµë‹ˆë‹¤.

```python
"""
AI Engine API í…ŒìŠ¤íŠ¸
Issue #008 - ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ í…ŒìŠ¤íŠ¸
"""
import pytest
from httpx import AsyncClient, ASGITransport
from unittest.mock import patch, AsyncMock, MagicMock

from app.main import app
from app.schemas import GenerateRequest


# í…ŒìŠ¤íŠ¸ìš© ìƒ˜í”Œ ë°ì´í„°
SAMPLE_ANSWERS = {
    "step_1_problem": {
        "q1": "ê¸°ì¡´ ì‚¬ì—…ê³„íšì„œ ì‘ì„± ë„êµ¬ëŠ” ë³µì¡í•˜ê³  ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦½ë‹ˆë‹¤.",
        "q2": "ì°½ì—…ìë“¤ì´ í•µì‹¬ì— ì§‘ì¤‘í•˜ì§€ ëª»í•˜ê³  í˜•ì‹ì— ë§¤ëª°ë©ë‹ˆë‹¤."
    },
    "step_2_solution": {
        "q1": "AI ê¸°ë°˜ ìë™ ì´ˆì•ˆ ìƒì„±ìœ¼ë¡œ ì‹œê°„ì„ 90% ë‹¨ì¶•í•©ë‹ˆë‹¤.",
        "q2": "Wizard í˜•íƒœë¡œ ë‹¨ê³„ë³„ ì•ˆë‚´ë¥¼ ì œê³µí•©ë‹ˆë‹¤."
    }
}


@pytest.fixture
def anyio_backend():
    return "asyncio"


@pytest.mark.anyio
async def test_health_check():
    """í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸"""
    transport = ASGITransport(app=app)
    async with AsyncClient(transport=transport, base_url="http://test") as client:
        response = await client.get("/health")
    
    assert response.status_code == 200
    data = response.json()
    assert data["status"] == "ok"
    assert data["service"] == "ai-engine"
    assert "llm_configured" in data


@pytest.mark.anyio
async def test_generate_without_api_key():
    """API Key ì—†ì´ ìƒì„± ìš”ì²­ ì‹œ 503 ë°˜í™˜"""
    # LLM ì„œë¹„ìŠ¤ë¥¼ unconfigured ìƒíƒœë¡œ ëª¨í‚¹
    mock_service = MagicMock()
    mock_service.is_configured.return_value = False
    
    with patch("app.main.get_llm_service", return_value=mock_service):
        transport = ASGITransport(app=app)
        async with AsyncClient(transport=transport, base_url="http://test") as client:
            response = await client.post(
                "/generate",
                json={"answers": SAMPLE_ANSWERS, "template_type": "KSTARTUP_2025"}
            )
        
        # API Keyê°€ ì—†ìœ¼ë©´ 503 Service Unavailable
        assert response.status_code == 503
        data = response.json()
        assert "GEMINI_API_KEY" in str(data)


@pytest.mark.anyio
async def test_generate_with_empty_answers():
    """ë¹ˆ answersë¡œ ìš”ì²­ ì‹œ 400 ë°˜í™˜"""
    # LLM configured ìƒíƒœë¡œ ëª¨í‚¹
    mock_service = MagicMock()
    mock_service.is_configured.return_value = True
    
    with patch("app.main.get_llm_service", return_value=mock_service):
        transport = ASGITransport(app=app)
        async with AsyncClient(transport=transport, base_url="http://test") as client:
            response = await client.post(
                "/generate",
                json={"answers": {}, "template_type": "KSTARTUP_2025"}
            )
        
        assert response.status_code == 400


@pytest.mark.anyio
async def test_generate_with_mocked_llm():
    """LLMì„ Mockí•˜ì—¬ ìƒì„± ì„±ê³µ í…ŒìŠ¤íŠ¸"""
    mock_sections = {
        "problem_definition": "ë¬¸ì œ ì •ì˜ ë‚´ìš©...",
        "solution_approach": "í•´ê²° ë°©ì•ˆ ë‚´ìš©...",
        "market_analysis": "ì‹œì¥ ë¶„ì„ ë‚´ìš©..."
    }
    
    # AsyncMockìœ¼ë¡œ ì„œë¹„ìŠ¤ ì „ì²´ë¥¼ ëª¨í‚¹
    mock_service = MagicMock()
    mock_service.is_configured.return_value = True
    mock_service.generate_all_sections = AsyncMock(return_value=mock_sections)
    
    with patch("app.main.get_llm_service", return_value=mock_service):
        transport = ASGITransport(app=app)
        async with AsyncClient(transport=transport, base_url="http://test") as client:
            response = await client.post(
                "/generate",
                json={"answers": SAMPLE_ANSWERS, "template_type": "KSTARTUP_2025"}
            )
        
        assert response.status_code == 200
        data = response.json()
        assert "sections" in data
        assert "generated_at" in data
        assert data["sections"]["problem_definition"] == "ë¬¸ì œ ì •ì˜ ë‚´ìš©..."


if __name__ == "__main__":
    pytest.main([__file__, "-v"])


```

```python
"""
AI Engine - FastAPI Application
ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
"""
import logging
from datetime import datetime, timezone
from contextlib import asynccontextmanager

from fastapi import FastAPI, HTTPException
from fastapi.middleware.cors import CORSMiddleware

from app.config import get_settings
from app.schemas import (
    GenerateRequest, 
    GenerateResponse, 
    ErrorResponse,
    HealthResponse,
)
from app.services.llm_service import get_llm_service

# ë¡œê¹… ì„¤ì •
logging.basicConfig(
    level=logging.INFO,
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s"
)
logger = logging.getLogger(__name__)


@asynccontextmanager
async def lifespan(app: FastAPI):
    """Application lifespan handler."""
    settings = get_settings()
    logger.info(f"Starting {settings.app_name} in {settings.app_env} mode")
    
    # LLM ì„¤ì • í™•ì¸
    llm_service = get_llm_service()
    if llm_service.is_configured():
        logger.info("âœ… LLM service configured")
    else:
        logger.warning("âš ï¸ GEMINI_API_KEY not set - LLM features disabled")
    
    yield
    
    logger.info("Shutting down AI Engine")


# FastAPI ì•± ìƒì„±
app = FastAPI(
    title="BizPlan AI Engine",
    description="ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ - Issue #008",
    version="0.1.0",
    lifespan=lifespan,
)

# CORS ì„¤ì •
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],  # ê°œë°œ í™˜ê²½ìš©
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)


@app.get("/health", response_model=HealthResponse, tags=["System"])
async def health_check():
    """í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸"""
    llm_service = get_llm_service()
    return HealthResponse(
        status="ok",
        service="ai-engine",
        llm_configured=llm_service.is_configured()
    )


@app.post(
    "/generate",
    response_model=GenerateResponse,
    responses={
        400: {"model": ErrorResponse, "description": "ì˜ëª»ëœ ìš”ì²­"},
        500: {"model": ErrorResponse, "description": "ì„œë²„ ì˜¤ë¥˜"},
        503: {"model": ErrorResponse, "description": "LLM ì„œë¹„ìŠ¤ ë¶ˆê°€"},
    },
    tags=["Generation"],
    summary="ì‚¬ì—…ê³„íšì„œ ì´ˆì•ˆ ìƒì„±",
    description="Wizard ë‹µë³€ì„ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ì—…ê³„íšì„œ ì„¹ì…˜ë³„ ì´ˆì•ˆì„ ìƒì„±í•©ë‹ˆë‹¤."
)
async def generate_business_plan(request: GenerateRequest):
    """
    ì‚¬ì—…ê³„íšì„œ ì´ˆì•ˆ ìƒì„± ì—”ë“œí¬ì¸íŠ¸
    
    - **answers**: Wizard ë‹¨ê³„ë³„ ì‚¬ìš©ì ë‹µë³€ (JSON)
    - **template_type**: ì‚¬ìš©í•  í…œí”Œë¦¿ ìœ í˜• (ê¸°ë³¸: KSTARTUP_2025)
    """
    llm_service = get_llm_service()
    
    # LLM ì„¤ì • í™•ì¸
    if not llm_service.is_configured():
        raise HTTPException(
            status_code=503,
            detail={
                "error": "LLM_NOT_CONFIGURED",
                "message": "GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
                "detail": "í™˜ê²½ë³€ìˆ˜ GEMINI_API_KEYë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”."
            }
        )
    
    # ì…ë ¥ ê²€ì¦
    if not request.answers:
        raise HTTPException(
            status_code=400,
            detail={
                "error": "INVALID_REQUEST",
                "message": "answers í•„ë“œê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.",
                "detail": "ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ë‹µë³€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."
            }
        )
    
    try:
        logger.info(f"Generating business plan for template: {request.template_type}")
        
        # ì„¹ì…˜ ìƒì„±
        sections = await llm_service.generate_all_sections(
            answers=request.answers,
            template_type=request.template_type
        )
        
        logger.info(f"Successfully generated {len(sections)} sections")
        
        return GenerateResponse(
            sections=sections,
            generated_at=datetime.utcnow()
        )
        
    except ValueError as e:
        logger.error(f"Validation error: {e}")
        raise HTTPException(
            status_code=400,
            detail={
                "error": "VALIDATION_ERROR",
                "message": str(e),
            }
        )
    except Exception as e:
        logger.error(f"Generation failed: {e}", exc_info=True)
        raise HTTPException(
            status_code=500,
            detail={
                "error": "GENERATION_FAILED",
                "message": "ì‚¬ì—…ê³„íšì„œ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",
                "detail": str(e)
            }
        )


if __name__ == "__main__":
    import uvicorn
    uvicorn.run("app.main:app", host="0.0.0.0", port=8001, reload=True)


```

```python
"""
AI Engine - FastAPI Application
ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜
"""
import logging
from datetime import datetime, timezone
from contextlib import asynccontextmanager

from fastapi import FastAPI, HTTPException
from fastapi.middleware.cors import CORSMiddleware

from app.config import get_settings
from app.schemas import (
    GenerateRequest, 
    GenerateResponse, 
    ErrorResponse,
    HealthResponse,
)
from app.services.llm_service import get_llm_service

# ë¡œê¹… ì„¤ì •
logging.basicConfig(
    level=logging.INFO,
    format="%(asctime)s - %(name)s - %(levelname)s - %(message)s"
)
logger = logging.getLogger(__name__)


@asynccontextmanager
async def lifespan(app: FastAPI):
    """Application lifespan handler."""
    settings = get_settings()
    logger.info(f"Starting {settings.app_name} in {settings.app_env} mode")
    
    # LLM ì„¤ì • í™•ì¸
    llm_service = get_llm_service()
    if llm_service.is_configured():
        logger.info("âœ… LLM service configured")
    else:
        logger.warning("âš ï¸ GEMINI_API_KEY not set - LLM features disabled")
    
    yield
    
    logger.info("Shutting down AI Engine")


# FastAPI ì•± ìƒì„±
app = FastAPI(
    title="BizPlan AI Engine",
    description="ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ - Issue #008",
    version="0.1.0",
    lifespan=lifespan,
)

# CORS ì„¤ì •
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"],  # ê°œë°œ í™˜ê²½ìš©
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)


@app.get("/health", response_model=HealthResponse, tags=["System"])
async def health_check():
    """í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸"""
    llm_service = get_llm_service()
    return HealthResponse(
        status="ok",
        service="ai-engine",
        llm_configured=llm_service.is_configured()
    )


@app.post(
    "/generate",
    response_model=GenerateResponse,
    responses={
        400: {"model": ErrorResponse, "description": "ì˜ëª»ëœ ìš”ì²­"},
        500: {"model": ErrorResponse, "description": "ì„œë²„ ì˜¤ë¥˜"},
        503: {"model": ErrorResponse, "description": "LLM ì„œë¹„ìŠ¤ ë¶ˆê°€"},
    },
    tags=["Generation"],
    summary="ì‚¬ì—…ê³„íšì„œ ì´ˆì•ˆ ìƒì„±",
    description="Wizard ë‹µë³€ì„ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ì—…ê³„íšì„œ ì„¹ì…˜ë³„ ì´ˆì•ˆì„ ìƒì„±í•©ë‹ˆë‹¤."
)
async def generate_business_plan(request: GenerateRequest):
    """
    ì‚¬ì—…ê³„íšì„œ ì´ˆì•ˆ ìƒì„± ì—”ë“œí¬ì¸íŠ¸
    
    - **answers**: Wizard ë‹¨ê³„ë³„ ì‚¬ìš©ì ë‹µë³€ (JSON)
    - **template_type**: ì‚¬ìš©í•  í…œí”Œë¦¿ ìœ í˜• (ê¸°ë³¸: KSTARTUP_2025)
    """
    llm_service = get_llm_service()
    
    # LLM ì„¤ì • í™•ì¸
    if not llm_service.is_configured():
        raise HTTPException(
            status_code=503,
            detail={
                "error": "LLM_NOT_CONFIGURED",
                "message": "GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
                "detail": "í™˜ê²½ë³€ìˆ˜ GEMINI_API_KEYë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”."
            }
        )
    
    # ì…ë ¥ ê²€ì¦
    if not request.answers:
        raise HTTPException(
            status_code=400,
            detail={
                "error": "INVALID_REQUEST",
                "message": "answers í•„ë“œê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.",
                "detail": "ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ë‹µë³€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."
            }
        )
    
    try:
        logger.info(f"Generating business plan for template: {request.template_type}")
        
        # ì„¹ì…˜ ìƒì„±
        sections = await llm_service.generate_all_sections(
            answers=request.answers,
            template_type=request.template_type
        )
        
        logger.info(f"Successfully generated {len(sections)} sections")
        
        return GenerateResponse(
            sections=sections,
            generated_at=datetime.now(timezone.utc)
        )
        
    except ValueError as e:
        logger.error(f"Validation error: {e}")
        raise HTTPException(
            status_code=400,
            detail={
                "error": "VALIDATION_ERROR",
                "message": str(e),
            }
        )
    except Exception as e:
        logger.error(f"Generation failed: {e}", exc_info=True)
        raise HTTPException(
            status_code=500,
            detail={
                "error": "GENERATION_FAILED",
                "message": "ì‚¬ì—…ê³„íšì„œ ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.",
                "detail": str(e)
            }
        )


if __name__ == "__main__":
    import uvicorn
    uvicorn.run("app.main:app", host="0.0.0.0", port=8001, reload=True)


```

ëª¨ë“  í…ŒìŠ¤íŠ¸ê°€ í†µê³¼í–ˆìŠµë‹ˆë‹¤! âœ… ë§ˆì§€ë§‰ìœ¼ë¡œ pytest ì„¤ì •ì„ ì¶”ê°€í•˜ê³  êµ¬ì¡°ë¥¼ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.

```ini
[pytest]
asyncio_mode = auto
asyncio_default_fixture_loop_scope = function
filterwarnings =
    ignore::DeprecationWarning:pydantic.*
    ignore::DeprecationWarning:pydantic_settings.*

```

## âœ… Issue #008 í…ŒìŠ¤íŠ¸ í™˜ê²½ êµ¬ì„± ì™„ë£Œ

### ğŸ“ ìƒì„±ëœ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ai-engine/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ config.py           # í™˜ê²½ë³€ìˆ˜ ì„¤ì • (Pydantic Settings)
â”‚   â”œâ”€â”€ main.py             # FastAPI ì•± ì§„ì…ì 
â”‚   â”œâ”€â”€ schemas.py          # Request/Response ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ llm_service.py  # LangChain + Gemini ì„œë¹„ìŠ¤
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_generate.py    # 4ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
â”œâ”€â”€ pytest.ini
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

### ğŸ§ª í…ŒìŠ¤íŠ¸ ê²°ê³¼

```
tests/test_generate.py::test_health_check            âœ… PASSED
tests/test_generate.py::test_generate_without_api_key âœ… PASSED
tests/test_generate.py::test_generate_with_empty_answers âœ… PASSED
tests/test_generate.py::test_generate_with_mocked_llm âœ… PASSED

======================== 4 passed ========================
```

---

### ğŸš€ ì‹¤í–‰ ë°©ë²•

```bash
cd ai-engine

# 1. ê°€ìƒí™˜ê²½ í™œì„±í™”
source venv/bin/activate

# 2. í™˜ê²½ë³€ìˆ˜ ì„¤ì • (.env íŒŒì¼ ìƒì„±)
echo "GEMINI_API_KEY=your-api-key" > .env

# 3. ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload --port 8001

# 4. API í…ŒìŠ¤íŠ¸ (ë‹¤ë¥¸ í„°ë¯¸ë„)
curl http://localhost:8001/health
curl -X POST http://localhost:8001/generate \
  -H "Content-Type: application/json" \
  -d '{"answers": {"step_1_problem": {"q1": "ë¬¸ì œì…ë‹ˆë‹¤"}}, "template_type": "KSTARTUP_2025"}'
```

### ğŸ“‹ ë‹¤ìŒ ë‹¨ê³„

| í•­ëª© | ì„¤ëª… |
|------|------|
| **Gemini API Key ë°œê¸‰** | https://aistudio.google.com/apikey |
| **ì‹¤ì œ LLM í…ŒìŠ¤íŠ¸** | `.env` íŒŒì¼ì— API Key ì„¤ì • í›„ ì‹¤í–‰ |
| **#009ì™€ ì—°ë™** | Spring Bootì—ì„œ `http://localhost:8001/generate` í˜¸ì¶œ |

```plaintext
ai-engine/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ config.py           # í™˜ê²½ë³€ìˆ˜ ì„¤ì • (Pydantic Settings)
â”‚   â”œâ”€â”€ main.py             # FastAPI ì•± ì§„ì…ì 
â”‚   â”œâ”€â”€ schemas.py          # Request/Response ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ llm_service.py  # LangChain + Gemini ì„œë¹„ìŠ¤
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ test_generate.py    # 4ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
â”œâ”€â”€ pytest.ini
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

```plaintext
tests/test_generate.py::test_health_check            âœ… PASSED
tests/test_generate.py::test_generate_without_api_key âœ… PASSED
tests/test_generate.py::test_generate_with_empty_answers âœ… PASSED
tests/test_generate.py::test_generate_with_mocked_llm âœ… PASSED

======================== 4 passed ========================
```

```shellscript
cd ai-engine

# 1. ê°€ìƒí™˜ê²½ í™œì„±í™”
source venv/bin/activate

# 2. í™˜ê²½ë³€ìˆ˜ ì„¤ì • (.env íŒŒì¼ ìƒì„±)
echo "GEMINI_API_KEY=your-api-key" > .env

# 3. ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload --port 8001

# 4. API í…ŒìŠ¤íŠ¸ (ë‹¤ë¥¸ í„°ë¯¸ë„)
curl http://localhost:8001/health
curl -X POST http://localhost:8001/generate \
  -H "Content-Type: application/json" \
  -d '{"answers": {"step_1_problem": {"q1": "ë¬¸ì œì…ë‹ˆë‹¤"}}, "template_type": "KSTARTUP_2025"}'
```

---

**User**

í˜„ì¬ê¹Œì§€ì˜ ì‘ì—… ìƒí™©ì„ í”„ë¡œì íŠ¸ ë‚´ì˜ ì»¤ë°‹, ì´ìŠˆê´€ë¦¬, PR ê·œì¹™ì— ë”°ë¼ì„œ ì›ê²©ì— í‘¸ì‹œí•´ì¤˜

---

**Cursor**

ë¨¼ì € í”„ë¡œì íŠ¸ì˜ Git ê´€ë ¨ ê·œì¹™ë“¤ê³¼ í˜„ì¬ ìƒíƒœë¥¼ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.

ê·œì¹™ì„ í™•ì¸í–ˆìŠµë‹ˆë‹¤. Issue #008ì„ ìœ„í•œ ë¸Œëœì¹˜ë¥¼ ìƒì„±í•˜ê³  ì»¤ë°‹í•˜ê² ìŠµë‹ˆë‹¤.

```ignore
# Python
__pycache__/
*.py[cod]
*$py.class
*.so
.Python
build/
develop-eggs/
dist/
downloads/
eggs/
.eggs/
lib/
lib64/
parts/
sdist/
var/
wheels/
*.egg-info/
.installed.cfg
*.egg

# Virtual Environment
venv/
ENV/
.venv/

# IDE
.idea/
.vscode/
*.swp
*.swo

# Testing
.pytest_cache/
.coverage
htmlcov/
.tox/
.nox/

# Environment
.env
.env.local
*.env

# Logs
*.log

```

ì»¤ë°‹ ì™„ë£Œ! ì´ì œ ì›ê²©ì— í‘¸ì‹œí•˜ê³  draft PRì„ ìƒì„±í•˜ê² ìŠµë‹ˆë‹¤.

## âœ… ì‘ì—… ì™„ë£Œ

### Git ì‘ì—… ìš”ì•½

| ë‹¨ê³„ | ìƒíƒœ | ë‚´ìš© |
|------|------|------|
| ë¸Œëœì¹˜ ìƒì„± | âœ… | `feat/008-ai-engine` |
| ì»¤ë°‹ | âœ… | `feat(ai-engine): implement business plan generation LLM engine` |
| ì›ê²© í‘¸ì‹œ | âœ… | `origin/feat/008-ai-engine` |
| Draft PR | âœ… | **[#14](https://github.com/wild-mental/bizplan-be-inclass/pull/14)** |

---

### ì»¤ë°‹ ë‚´ìš©

```
feat(ai-engine): implement business plan generation LLM engine

- Add FastAPI server with POST /generate endpoint
- Implement LangChain + Google Gemini integration
- Create section-based prompt templates for business plan
- Add Pydantic schemas for request/response validation
- Include unit tests with mocked LLM service
- Add project documentation and requirements.txt

Refs #4
```

---

### ìƒì„±ëœ PR

**PR #14**: `[#008] ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ ë° í”„ë¡¬í”„íŠ¸ êµ¬í˜„`
- **Status**: Draft
- **Branch**: `feat/008-ai-engine` â†’ `main`
- **Link**: https://github.com/wild-mental/bizplan-be-inclass/pull/14
- **Related Issue**: Closes #4

---

### ë‹¤ìŒ ë‹¨ê³„

1. **Gemini API Key ë°œê¸‰** í›„ ì‹¤ì œ LLM í…ŒìŠ¤íŠ¸
2. PR ë¦¬ë·° ìš”ì²­ ë° ìŠ¹ì¸
3. #5 (009) ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ APIì—ì„œ ì´ ì„œë¹„ìŠ¤ ì—°ë™

```plaintext
feat(ai-engine): implement business plan generation LLM engine

- Add FastAPI server with POST /generate endpoint
- Implement LangChain + Google Gemini integration
- Create section-based prompt templates for business plan
- Add Pydantic schemas for request/response validation
- Include unit tests with mocked LLM service
- Add project documentation and requirements.txt

Refs #4
```

---

**User**

tasks/github-issues/docs-for-implementation-review ê²½ë¡œ ë‚´ì— í˜„ì¬ êµ¬í˜„í•œ ë‚´ìš©ì— ëŒ€í•œ ì‹œê°ì ì¸ êµ¬ì¡° ì œì‹œë¥¼ í¬í•¨í•œ ì˜ êµ¬ì„±ëœ ë¦¬ë·° ë¬¸ì„œë¥¼ ì‘ì„±í•´ì£¼ê³ , í˜„ì¬ ì‘ì—…ì— ëŒ€í•œ PR ë¬¸ì„œì—ë„ í•´ë‹¹ ë‚´ìš©ì„ ì—…ë°ì´íŠ¸í•´ì¤˜.

---

**Cursor**

ê¸°ì¡´ ë¦¬ë·° ë¬¸ì„œ í˜•ì‹ì„ í™•ì¸í•˜ê³ , ìƒˆ ë¬¸ì„œë¥¼ ì‘ì„±í•˜ê² ìŠµë‹ˆë‹¤.

```markdown
# Issue #008 Implementation Review
## ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ ë° í”„ë¡¬í”„íŠ¸ êµ¬í˜„

**ì‘ì„±ì¼**: 2025-11-28  
**ë¸Œëœì¹˜**: `feat/008-ai-engine`  
**PR**: [#14](https://github.com/wild-mental/bizplan-be-inclass/pull/14)  
**ê´€ë ¨ ì´ìŠˆ**: [#4](https://github.com/wild-mental/bizplan-be-inclass/issues/4)

---

## 1. êµ¬í˜„ ê°œìš”

### 1.1 ì‘ì—… ë²”ìœ„

| í•­ëª© | ì„¤ëª… |
|------|------|
| **API Endpoint** | `GET /health`, `POST /generate` |
| **ì•„í‚¤í…ì²˜** | FastAPI + LangChain + Google Gemini |
| **ì„œë¹„ìŠ¤ íƒ€ì…** | ë…ë¦½ Python ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ (Port 8001) |
| **í…ŒìŠ¤íŠ¸** | pytest + httpx + AsyncMock |

### 1.2 ê¸°ìˆ  ìŠ¤íƒ

- Python 3.10+
- FastAPI 0.115.5
- LangChain 0.3.9
- LangChain Google GenAI 2.0.6
- Pydantic 2.10.2
- pytest 8.3.4

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 ì„œë¹„ìŠ¤ êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI Engine (Port 8001)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   FastAPI   â”‚â”€â”€â”€â”€â–¶â”‚  LLMService â”‚â”€â”€â”€â”€â–¶â”‚  Google Gemini  â”‚   â”‚
â”‚  â”‚   main.py   â”‚     â”‚             â”‚     â”‚  (LangChain)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                   â”‚                                   â”‚
â”‚         â–¼                   â–¼                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚   Schemas   â”‚     â”‚   Config    â”‚                           â”‚
â”‚  â”‚  (Pydantic) â”‚     â”‚  (Settings) â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Spring Boot Backend (Port 8080)                    â”‚
â”‚                    (Future: Issue #009)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ë°ì´í„° í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    POST /generate     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ì„¹ì…˜ë³„ í”„ë¡¬í”„íŠ¸    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  FastAPI â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  Gemini  â”‚
â”‚ (Spring) â”‚                       â”‚   App    â”‚                      â”‚   LLM    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–²                                  â”‚                                 â”‚
     â”‚                                  â”‚                                 â”‚
     â”‚     GenerateResponse             â”‚      ì„¹ì…˜ë³„ í…ìŠ¤íŠ¸              â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 í”„ë¡¬í”„íŠ¸ ì²´ì´ë‹ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Wizard Answers (JSON)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  step_1_problem: { q1: "...", q2: "..." }                       â”‚
â”‚  step_2_solution: { q1: "...", q2: "..." }                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Section-Answer Mapping                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  problem_definition â”‚ â—€â”€â”€ â”‚   step_1_problem    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  solution_approach  â”‚ â—€â”€â”€ â”‚   step_2_solution   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   market_analysis   â”‚ â—€â”€â”€ â”‚   all_answers       â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PromptTemplate (Per Section)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Role: "ì •ë¶€ ì§€ì›ì‚¬ì—… ì‹¬ì‚¬ìœ„ì› ê²½í—˜ì´ í’ë¶€í•œ ì „ë¬¸ ì°½ì—… ì»¨ì„¤í„´íŠ¸"   â”‚
â”‚  Context: {user_answers}                                        â”‚
â”‚  Task: "ì„¹ì…˜ë³„ ì´ˆì•ˆ ì‘ì„±"                                         â”‚
â”‚  Format: "2-3ê°œ ë¬¸ë‹¨, 300-500ì"                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Generated Sections                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  {                                                              â”‚
â”‚    "problem_definition": "ì‚¬ì—… ì•„ì´í…œì˜ í•„ìš”ì„±...",               â”‚
â”‚    "solution_approach": "í•´ê²° ë°©ì•ˆ...",                          â”‚
â”‚    "market_analysis": "ì‹œì¥ ë¶„ì„..."                             â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. êµ¬í˜„ íŒŒì¼ ëª©ë¡

### 3.1 Production Code (8ê°œ íŒŒì¼)

```
ai-engine/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py                 # íŒ¨í‚¤ì§€ ì´ˆê¸°í™”
â”‚   â”œâ”€â”€ main.py                     # FastAPI ì•± (ì—”ë“œí¬ì¸íŠ¸ ì •ì˜)
â”‚   â”œâ”€â”€ config.py                   # í™˜ê²½ë³€ìˆ˜ ì„¤ì • (Pydantic Settings)
â”‚   â”œâ”€â”€ schemas.py                  # Request/Response ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ __init__.py             # ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€
â”‚       â””â”€â”€ llm_service.py          # LangChain + Gemini ì„œë¹„ìŠ¤
â”œâ”€â”€ requirements.txt                # Python ì˜ì¡´ì„±
â”œâ”€â”€ pytest.ini                      # pytest ì„¤ì •
â”œâ”€â”€ .gitignore                      # Python í”„ë¡œì íŠ¸ìš© gitignore
â””â”€â”€ README.md                       # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

### 3.2 Test Code (2ê°œ íŒŒì¼)

```
ai-engine/tests/
â”œâ”€â”€ __init__.py
â””â”€â”€ test_generate.py                # 4ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤
```

---

## 4. í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ì„¤ëª…

### 4.1 LLMService í´ë˜ìŠ¤

| ë©”ì„œë“œ | ì„¤ëª… | ë°˜í™˜ íƒ€ì… |
|--------|------|----------|
| `is_configured()` | API Key ì„¤ì • ì—¬ë¶€ í™•ì¸ | `bool` |
| `generate_section()` | ë‹¨ì¼ ì„¹ì…˜ ìƒì„± (ë¹„ë™ê¸°) | `str` |
| `generate_all_sections()` | ëª¨ë“  ì„¹ì…˜ ìƒì„± (ë¹„ë™ê¸°) | `Dict[str, str]` |
| `_format_answers()` | ë‹µë³€ì„ í”„ë¡¬í”„íŠ¸ìš© ë¬¸ìì—´ë¡œ ë³€í™˜ | `str` |

### 4.2 í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

| ì„¹ì…˜ | í”„ë¡¬í”„íŠ¸ ì£¼ìš” ì§€ì‹œì‚¬í•­ |
|------|----------------------|
| `problem_definition` | ë¬¸ì œì  3ê°€ì§€ ì´ìƒ, ê¸°ì¡´ í•œê³„ì , íŒŒê¸‰íš¨ê³¼ |
| `solution_approach` | ê°€ì¹˜ ì œì•ˆ, ì°¨ë³„í™” í¬ì¸íŠ¸ 3ê°€ì§€, ì‹¤í˜„ ê°€ëŠ¥ì„± |
| `market_analysis` | TAM-SAM-SOM, ê²½ìŸ ë¶„ì„, ì§„ì… ì „ëµ |

### 4.3 í™˜ê²½ë³€ìˆ˜ ì„¤ì •

| ë³€ìˆ˜ëª… | í•„ìˆ˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|--------|------|--------|------|
| `GEMINI_API_KEY` | âœ… | - | Google Gemini API Key |
| `APP_ENV` | - | `development` | ì‹¤í–‰ í™˜ê²½ |
| `LOG_LEVEL` | - | `INFO` | ë¡œê·¸ ë ˆë²¨ |
| `LLM_MODEL` | - | `gemini-1.5-flash` | ì‚¬ìš©í•  Gemini ëª¨ë¸ |
| `LLM_TEMPERATURE` | - | `0.7` | ìƒì„± ì˜¨ë„ (ì°½ì˜ì„±) |
| `LLM_MAX_RETRIES` | - | `3` | LLM ì˜¤ë¥˜ ì‹œ ì¬ì‹œë„ íšŸìˆ˜ |

---

## 5. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼

### 5.1 í…ŒìŠ¤íŠ¸ ìš”ì•½

| í•­ëª© | ê°’ |
|------|-----|
| **ì´ í…ŒìŠ¤íŠ¸ ìˆ˜** | 4 |
| **ì„±ê³µ** | 4 |
| **ì‹¤íŒ¨** | 0 |
| **ì„±ê³µë¥ ** | **100%** |
| **ì‹¤í–‰ ì‹œê°„** | 0.71s |

### 5.2 ê°œë³„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

| í…ŒìŠ¤íŠ¸ëª… | ì„¤ëª… | ê²°ê³¼ |
|---------|------|------|
| `test_health_check` | GET /health 200 OK ê²€ì¦ | âœ… PASS |
| `test_generate_without_api_key` | API Key ì—†ì„ ë•Œ 503 ë°˜í™˜ | âœ… PASS |
| `test_generate_with_empty_answers` | ë¹ˆ answers ì‹œ 400 ë°˜í™˜ | âœ… PASS |
| `test_generate_with_mocked_llm` | Mock LLMìœ¼ë¡œ ì •ìƒ ìƒì„± | âœ… PASS |

### 5.3 í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª…ë ¹ì–´

```bash
cd ai-engine
source venv/bin/activate
pytest tests/ -v
```

---

## 6. API ëª…ì„¸

### 6.1 GET /health

**Request:**
```http
GET /health HTTP/1.1
Host: localhost:8001
```

**Response (200 OK):**
```json
{
  "status": "ok",
  "service": "ai-engine",
  "llm_configured": true
}
```

### 6.2 POST /generate

**Request:**
```http
POST /generate HTTP/1.1
Host: localhost:8001
Content-Type: application/json

{
  "answers": {
    "step_1_problem": {
      "q1": "ê¸°ì¡´ ì‚¬ì—…ê³„íšì„œ ì‘ì„± ë„êµ¬ëŠ” ë³µì¡í•©ë‹ˆë‹¤.",
      "q2": "ì°½ì—…ìê°€ í•µì‹¬ì— ì§‘ì¤‘í•˜ì§€ ëª»í•©ë‹ˆë‹¤."
    },
    "step_2_solution": {
      "q1": "AIë¡œ ìë™ ì´ˆì•ˆì„ ìƒì„±í•©ë‹ˆë‹¤.",
      "q2": "Wizardë¡œ ë‹¨ê³„ë³„ ì•ˆë‚´í•©ë‹ˆë‹¤."
    }
  },
  "template_type": "KSTARTUP_2025"
}
```

**Response (200 OK):**
```json
{
  "sections": {
    "problem_definition": "í˜„ì¬ ì‹œì¥ì—ì„œ ì°½ì—…ìë“¤ì´ ì§ë©´í•˜ëŠ” ê°€ì¥ í° ë¬¸ì œì ì€...",
    "solution_approach": "ë³¸ ì‚¬ì—… ì•„ì´í…œì€ AI ê¸°ë°˜ ìë™ ì´ˆì•ˆ ìƒì„±ì„ í†µí•´...",
    "market_analysis": "êµ­ë‚´ ì°½ì—… ì§€ì› ì‹œì¥ì€ ì—°ê°„ ì•½ 3ì¡° ì› ê·œëª¨ë¡œ..."
  },
  "generated_at": "2025-11-28T10:30:00Z"
}
```

### 6.3 ì—ëŸ¬ ì‘ë‹µ

#### LLM ë¯¸ì„¤ì • (503 Service Unavailable)
```json
{
  "detail": {
    "error": "LLM_NOT_CONFIGURED",
    "message": "GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
    "detail": "í™˜ê²½ë³€ìˆ˜ GEMINI_API_KEYë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”."
  }
}
```

#### ë¹ˆ ì…ë ¥ (400 Bad Request)
```json
{
  "detail": {
    "error": "INVALID_REQUEST",
    "message": "answers í•„ë“œê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.",
    "detail": "ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ë‹µë³€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."
  }
}
```

---

## 7. ì½”ë“œ í’ˆì§ˆ ê²€ì¦

### 7.1 ì•„í‚¤í…ì²˜ ê·œì¹™ ì¤€ìˆ˜

| ê·œì¹™ | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| ì„œë¹„ìŠ¤ ë¶„ë¦¬ (ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤) | âœ… FastAPI ë…ë¦½ ì„œë¹„ìŠ¤ |
| ì˜ì¡´ì„± ì£¼ì… | âœ… Singleton íŒ¨í„´ ì ìš© |
| ë¹„ë™ê¸° ì²˜ë¦¬ | âœ… async/await ì‚¬ìš© |
| í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì • | âœ… Pydantic Settings ì‚¬ìš© |

### 7.2 LLM í†µí•© ê·œì¹™ ì¤€ìˆ˜

| ê·œì¹™ | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| LangChain ì‚¬ìš© | âœ… langchain-google-genai |
| ì¬ì‹œë„ ë¡œì§ | âœ… max_retries ì„¤ì • |
| í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ | âœ… PromptTemplate í™œìš© |
| ì—ëŸ¬ í•¸ë“¤ë§ | âœ… try-except + ë¡œê¹… |

### 7.3 ì½”ë“œ ì£¼ì„

| í•­ëª© | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| ëª¨ë“ˆ docstring | âœ… ëª¨ë“  .py íŒŒì¼ì— ì„¤ëª… |
| í´ë˜ìŠ¤ docstring | âœ… LLMService í´ë˜ìŠ¤ ì„¤ëª… |
| ë©”ì„œë“œ docstring | âœ… Args, Returns í¬í•¨ |

---

## 8. ì˜ì¡´ì„± ê´€ê³„

### 8.1 ì´ìŠˆ ì˜ì¡´ì„± ê·¸ë˜í”„

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  #008 (AI Engine)   â”‚
                    â”‚       âœ… ì™„ë£Œ        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ enables
                               â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                                         â”‚
          â–¼                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #009 (Orchestration â”‚               â”‚  #011 (PMF Engine)  â”‚
â”‚       BE API)        â”‚               â”‚    (ìœ ì‚¬ êµ¬ì¡°)       â”‚
â”‚      ğŸŸ¡ OPEN         â”‚               â”‚      ğŸŸ¡ OPEN        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ enables
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #015 (k6 ì„±ëŠ¥í…ŒìŠ¤íŠ¸) â”‚
â”‚      ğŸŸ¡ OPEN         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 ì„œë¹„ìŠ¤ í†µí•© êµ¬ì¡° (Future)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Frontend (React)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTP
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Spring Boot Backend (Port 8080)                  â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Issue #009                             â”‚  â”‚
â”‚  â”‚          POST /projects/{id}/documents/                  â”‚  â”‚
â”‚  â”‚               business-plan:generate                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ HTTP (Internal)
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                AI Engine (Port 8001)                           â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Issue #008 âœ…                          â”‚  â”‚
â”‚  â”‚                POST /generate                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. ì»¤ë°‹ íˆìŠ¤í† ë¦¬

| ì»¤ë°‹ | ë©”ì‹œì§€ | ë³€ê²½ íŒŒì¼ |
|------|--------|----------|
| `7e394a4` | feat(ai-engine): implement business plan generation LLM engine | 12 files |

**Conventional Commits ì¤€ìˆ˜:** âœ…

---

## 10. Acceptance Criteria ì²´í¬ë¦¬ìŠ¤íŠ¸

| ê¸°ì¤€ | ìƒíƒœ |
|------|------|
| âœ… FastAPI í”„ë¡œì íŠ¸ ì…‹ì—… | ì™„ë£Œ |
| âœ… POST /generate ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ | ì™„ë£Œ |
| âœ… LangChain Gemini ChatModel ì—°ë™ êµ¬ì¡° | ì™„ë£Œ |
| âœ… PromptTemplate ì •ì˜ (ì„¹ì…˜ë³„) | ì™„ë£Œ |
| âœ… ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§ | ì™„ë£Œ |
| âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± ë° í†µê³¼ | ì™„ë£Œ (4/4) |
| â³ Google Gemini API Key ë°œê¸‰ ë° ì‹¤ì œ í…ŒìŠ¤íŠ¸ | í™˜ê²½ë³€ìˆ˜ ì„¤ì • í•„ìš” |

---

## 11. ì‹¤í–‰ ë°©ë²•

### 11.1 ì‚¬ì „ ì¡°ê±´

1. Python 3.10+ ì„¤ì¹˜
2. Google Gemini API Key ë°œê¸‰ ([aistudio.google.com/apikey](https://aistudio.google.com/apikey))

### 11.2 ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ë””ë ‰í† ë¦¬ ì´ë™
cd ai-engine

# ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
export GEMINI_API_KEY=your-api-key-here

# ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload --port 8001
```

### 11.3 API í…ŒìŠ¤íŠ¸ (cURL)

```bash
# í—¬ìŠ¤ì²´í¬
curl http://localhost:8001/health

# ì‚¬ì—…ê³„íšì„œ ìƒì„±
curl -X POST http://localhost:8001/generate \
  -H "Content-Type: application/json" \
  -d '{
    "answers": {
      "step_1_problem": {"q1": "ë¬¸ì œì…ë‹ˆë‹¤"}
    },
    "template_type": "KSTARTUP_2025"
  }'
```

### 11.4 Swagger UI

ì„œë²„ ì‹¤í–‰ í›„ http://localhost:8001/docs ì ‘ì†

---

## 12. ê²°ë¡ 

### 12.1 ì™„ë£Œ í•­ëª©

- âœ… FastAPI ê¸°ë°˜ AI Engine ì„œë¹„ìŠ¤ êµ¬í˜„
- âœ… LangChain + Google Gemini í†µí•©
- âœ… ì„¹ì…˜ë³„ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ êµ¬í˜„
- âœ… Pydantic ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ Request/Response ì •ì˜
- âœ… ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§
- âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ 4ê°œ ì‘ì„± (100% í†µê³¼)
- âœ… í”„ë¡œì íŠ¸ ë¬¸ì„œí™” (README.md)

### 12.2 ë‹¤ìŒ ë‹¨ê³„

1. PR #14 ë¦¬ë·° ë° Merge
2. Issue #4 Close
3. **Issue #009** (ì‚¬ì—…ê³„íšì„œ ìƒì„± ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API) ì°©ìˆ˜
   - Spring Bootì—ì„œ AI Engine í˜¸ì¶œ
4. **Issue #011** (PMF ì§„ë‹¨ LLM ì—”ì§„) ì°©ìˆ˜
   - ìœ ì‚¬ êµ¬ì¡°ë¡œ í™•ì¥

---

**ë¦¬ë·°ì–´ ì„œëª…:** ________________  
**ë¦¬ë·° ì¼ì:** ________________

```

ì´ì œ ë¦¬ë·° ë¬¸ì„œë¥¼ ì»¤ë°‹í•˜ê³  PRì„ ì—…ë°ì´íŠ¸í•˜ê² ìŠµë‹ˆë‹¤.

## âœ… ì‘ì—… ì™„ë£Œ

### ğŸ“„ ìƒì„±ëœ ë¦¬ë·° ë¬¸ì„œ

**ê²½ë¡œ**: `tasks/github-issues/docs-for-implementation-review/ISSUE-008-IMPLEMENTATION-REVIEW.md`

**í¬í•¨ëœ ë‚´ìš©**:
- ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨
- ë°ì´í„° í”Œë¡œìš° ë‹¤ì´ì–´ê·¸ë¨
- í”„ë¡¬í”„íŠ¸ ì²´ì´ë‹ êµ¬ì¡°
- íŒŒì¼ ëª©ë¡ ë° ì„¤ëª…
- í…ŒìŠ¤íŠ¸ ê²°ê³¼ (4/4 í†µê³¼)
- API ëª…ì„¸
- ì½”ë“œ í’ˆì§ˆ ê²€ì¦
- ì˜ì¡´ì„± ê´€ê³„ ê·¸ë˜í”„
- ì‹¤í–‰ ë°©ë²•

---

### ğŸ”„ Git ì‘ì—… ìš”ì•½

| ë‹¨ê³„ | ìƒíƒœ |
|------|------|
| ë¦¬ë·° ë¬¸ì„œ ì»¤ë°‹ | âœ… `f38d669` |
| ì›ê²© í‘¸ì‹œ | âœ… `feat/008-ai-engine` |
| PR #14 ë³¸ë¬¸ ì—…ë°ì´íŠ¸ | âœ… ë‹¤ì´ì–´ê·¸ë¨ í¬í•¨ |

---

### ğŸ“Š PR #14 ì—…ë°ì´íŠ¸ ë‚´ìš©

- **ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨** ì¶”ê°€
- **í”„ë¡œì íŠ¸ êµ¬ì¡°** ì‹œê°í™”
- **í”„ë¡¬í”„íŠ¸ ì²´ì´ë‹ í”Œë¡œìš°** ì„¤ëª…
- **í…ŒìŠ¤íŠ¸ ê²°ê³¼ í…Œì´ë¸”** ì¶”ê°€
- **ì˜ì¡´ì„± ê´€ê³„ ê·¸ë˜í”„** ì¶”ê°€
- **Implementation Review ë¬¸ì„œ ë§í¬** ì¶”ê°€

**PR ë§í¬**: https://github.com/wild-mental/bizplan-be-inclass/pull/14

---

**User**

ì§€ê¸ˆ êµ¬í˜„ëœ AI ì—ì´ì „íŠ¸ëŠ” SRS ì— ëª…ì‹œëœ ìµœì¢… ì„±ëŠ¥ ê¸°ì¤€ì— ë”°ë¥´ë©´ ì‘ë‹µ ì†ë„ ê¸°ì¤€ì´ ì–´ë–»ê²Œ ë˜ë‚˜?

---

**Cursor**

SRS ë¬¸ì„œì—ì„œ AI ì—”ì§„ ê´€ë ¨ ì„±ëŠ¥ ê¸°ì¤€ì„ í™•ì¸í•˜ê² ìŠµë‹ˆë‹¤.

## SRS ì„±ëŠ¥ ê¸°ì¤€ - AI ì—”ì§„ (Issue #008)

### ğŸ“Š ì ìš©ë˜ëŠ” ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­

| ID | ìš”êµ¬ì‚¬í•­ | ëª©í‘œ | ì„¤ëª… |
|----|----------|------|------|
| **REQ-NF-002** | ë¬¸ì„œ/ë¦¬í¬íŠ¸ ìƒì„± ì„±ëŠ¥ | **p95 â‰¤ 10ì´ˆ** | ì‚¬ì—…ê³„íšì„œ ì´ˆì•ˆ ìƒì„± ìš”ì²­ |
| **REQ-NF-009** | ë™ì‹œ ì‚¬ìš©ì ì²˜ë¦¬ | **1,000 ë™ì‹œ ì„¸ì…˜** | ìœ„ ì„±ëŠ¥ ëª©í‘œ ìœ ì§€ |
| **REQ-NF-004** | ì˜¤ë¥˜ìœ¨ | **â‰¤ 0.5%/ì›”** | ë¬¸ì„œ ìƒì„± API ì˜¤ë¥˜ìœ¨ |

---

### ğŸ¯ í•µì‹¬ ì„±ëŠ¥ ê¸°ì¤€

í˜„ì¬ êµ¬í˜„ëœ `POST /generate` ì—”ë“œí¬ì¸íŠ¸ì— ì ìš©ë˜ëŠ” ê¸°ì¤€:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    REQ-NF-002                               â”‚
â”‚                                                             â”‚
â”‚   ì‚¬ì—…ê³„íšì„œ ì´ˆì•ˆ ìƒì„± ìš”ì²­ì˜ p95 ì‘ë‹µì‹œê°„ â‰¤ 10ì´ˆ           â”‚
â”‚                                                             â”‚
â”‚   â€¢ 95%ì˜ ìš”ì²­ì´ 10ì´ˆ ì´ë‚´ì— ì™„ë£Œë˜ì–´ì•¼ í•¨                  â”‚
â”‚   â€¢ ë™ì‹œ 1,000 ì„¸ì…˜ì—ì„œë„ ì´ ê¸°ì¤€ ìœ ì§€ í•„ìš” (REQ-NF-009)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### âš ï¸ í˜„ì¬ êµ¬í˜„ ìƒíƒœ

| í•­ëª© | ìƒíƒœ | ë¹„ê³  |
|------|------|------|
| ì‘ë‹µì‹œê°„ ëª¨ë‹ˆí„°ë§ | âŒ ë¯¸êµ¬í˜„ | APM ì—°ë™ í•„ìš” |
| ë¶€í•˜ í…ŒìŠ¤íŠ¸ | âŒ ë¯¸ì‹¤ì‹œ | Issue #015 (k6) ëŒ€ê¸° |
| ì¬ì‹œë„ ë¡œì§ | âœ… êµ¬í˜„ë¨ | `max_retries=3` ì„¤ì • |
| íƒ€ì„ì•„ì›ƒ ì„¤ì • | âŒ ë¯¸êµ¬í˜„ | LLM í˜¸ì¶œ íƒ€ì„ì•„ì›ƒ ì„¤ì • ê¶Œì¥ |

---

### ğŸ’¡ ê¶Œì¥ ì‚¬í•­

10ì´ˆ ì´ë‚´ ì‘ë‹µì„ ìœ„í•´ ê³ ë ¤í•´ì•¼ í•  ì‚¬í•­:

1. **LLM í˜¸ì¶œ íƒ€ì„ì•„ì›ƒ** ì„¤ì • (ì˜ˆ: 8ì´ˆ)
2. **ì„¹ì…˜ ë³‘ë ¬ ìƒì„±** ê²€í†  (í˜„ì¬ ìˆœì°¨ ì²˜ë¦¬)
3. **ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ** ë„ì… ê²€í†  (Async Polling)
4. **k6 ë¶€í•˜ í…ŒìŠ¤íŠ¸** (#015)ë¡œ ì‹¤ì œ p95 ì¸¡ì •

```plaintext
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    REQ-NF-002                               â”‚
â”‚                                                             â”‚
â”‚   ì‚¬ì—…ê³„íšì„œ ì´ˆì•ˆ ìƒì„± ìš”ì²­ì˜ p95 ì‘ë‹µì‹œê°„ â‰¤ 10ì´ˆ           â”‚
â”‚                                                             â”‚
â”‚   â€¢ 95%ì˜ ìš”ì²­ì´ 10ì´ˆ ì´ë‚´ì— ì™„ë£Œë˜ì–´ì•¼ í•¨                  â”‚
â”‚   â€¢ ë™ì‹œ 1,000 ì„¸ì…˜ì—ì„œë„ ì´ ê¸°ì¤€ ìœ ì§€ í•„ìš” (REQ-NF-009)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

**User**

ìœ„ ë‚´ìš© ì¤‘ ë‹¨ì¼ ì‘ë‹µì‹œê°„ ëª¨ë‹ˆí„°ë§ë§Œ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ë¡œ ì¶”ê°€í•œ í›„, 
ì¶”ê°€ êµ¬í˜„í•´ì•¼ í•˜ëŠ” ë‚˜ë¨¸ì§€ ë¯¸êµ¬í˜„ í•­ëª©ë“¤ì„ PR ë¬¸ì„œ ë° ë¦¬ë·°ìš© ë¬¸ì„œì— í¬í•¨ì‹œí‚¤ê³ ,
ì»¤ë°‹ & ì›ê²© í‘¸ì‹œí•´ì¤˜

---

**Cursor**

í˜„ì¬ í…ŒìŠ¤íŠ¸ íŒŒì¼ì„ í™•ì¸í•˜ê³  ì‘ë‹µì‹œê°„ ëª¨ë‹ˆí„°ë§ í…ŒìŠ¤íŠ¸ë¥¼ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.

```python
"""
AI Engine API í…ŒìŠ¤íŠ¸
Issue #008 - ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ í…ŒìŠ¤íŠ¸
"""
import time
import pytest
from httpx import AsyncClient, ASGITransport
from unittest.mock import patch, AsyncMock, MagicMock

from app.main import app
from app.schemas import GenerateRequest


# SRS REQ-NF-002: ë¬¸ì„œ ìƒì„± p95 ì‘ë‹µì‹œê°„ â‰¤ 10ì´ˆ
PERFORMANCE_THRESHOLD_SECONDS = 10.0


# í…ŒìŠ¤íŠ¸ìš© ìƒ˜í”Œ ë°ì´í„°
SAMPLE_ANSWERS = {
    "step_1_problem": {
        "q1": "ê¸°ì¡´ ì‚¬ì—…ê³„íšì„œ ì‘ì„± ë„êµ¬ëŠ” ë³µì¡í•˜ê³  ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦½ë‹ˆë‹¤.",
        "q2": "ì°½ì—…ìë“¤ì´ í•µì‹¬ì— ì§‘ì¤‘í•˜ì§€ ëª»í•˜ê³  í˜•ì‹ì— ë§¤ëª°ë©ë‹ˆë‹¤."
    },
    "step_2_solution": {
        "q1": "AI ê¸°ë°˜ ìë™ ì´ˆì•ˆ ìƒì„±ìœ¼ë¡œ ì‹œê°„ì„ 90% ë‹¨ì¶•í•©ë‹ˆë‹¤.",
        "q2": "Wizard í˜•íƒœë¡œ ë‹¨ê³„ë³„ ì•ˆë‚´ë¥¼ ì œê³µí•©ë‹ˆë‹¤."
    }
}


@pytest.fixture
def anyio_backend():
    return "asyncio"


@pytest.mark.anyio
async def test_health_check():
    """í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸"""
    transport = ASGITransport(app=app)
    async with AsyncClient(transport=transport, base_url="http://test") as client:
        response = await client.get("/health")
    
    assert response.status_code == 200
    data = response.json()
    assert data["status"] == "ok"
    assert data["service"] == "ai-engine"
    assert "llm_configured" in data


@pytest.mark.anyio
async def test_generate_without_api_key():
    """API Key ì—†ì´ ìƒì„± ìš”ì²­ ì‹œ 503 ë°˜í™˜"""
    # LLM ì„œë¹„ìŠ¤ë¥¼ unconfigured ìƒíƒœë¡œ ëª¨í‚¹
    mock_service = MagicMock()
    mock_service.is_configured.return_value = False
    
    with patch("app.main.get_llm_service", return_value=mock_service):
        transport = ASGITransport(app=app)
        async with AsyncClient(transport=transport, base_url="http://test") as client:
            response = await client.post(
                "/generate",
                json={"answers": SAMPLE_ANSWERS, "template_type": "KSTARTUP_2025"}
            )
        
        # API Keyê°€ ì—†ìœ¼ë©´ 503 Service Unavailable
        assert response.status_code == 503
        data = response.json()
        assert "GEMINI_API_KEY" in str(data)


@pytest.mark.anyio
async def test_generate_with_empty_answers():
    """ë¹ˆ answersë¡œ ìš”ì²­ ì‹œ 400 ë°˜í™˜"""
    # LLM configured ìƒíƒœë¡œ ëª¨í‚¹
    mock_service = MagicMock()
    mock_service.is_configured.return_value = True
    
    with patch("app.main.get_llm_service", return_value=mock_service):
        transport = ASGITransport(app=app)
        async with AsyncClient(transport=transport, base_url="http://test") as client:
            response = await client.post(
                "/generate",
                json={"answers": {}, "template_type": "KSTARTUP_2025"}
            )
        
        assert response.status_code == 400


@pytest.mark.anyio
async def test_generate_with_mocked_llm():
    """LLMì„ Mockí•˜ì—¬ ìƒì„± ì„±ê³µ í…ŒìŠ¤íŠ¸"""
    mock_sections = {
        "problem_definition": "ë¬¸ì œ ì •ì˜ ë‚´ìš©...",
        "solution_approach": "í•´ê²° ë°©ì•ˆ ë‚´ìš©...",
        "market_analysis": "ì‹œì¥ ë¶„ì„ ë‚´ìš©..."
    }
    
    # AsyncMockìœ¼ë¡œ ì„œë¹„ìŠ¤ ì „ì²´ë¥¼ ëª¨í‚¹
    mock_service = MagicMock()
    mock_service.is_configured.return_value = True
    mock_service.generate_all_sections = AsyncMock(return_value=mock_sections)
    
    with patch("app.main.get_llm_service", return_value=mock_service):
        transport = ASGITransport(app=app)
        async with AsyncClient(transport=transport, base_url="http://test") as client:
            response = await client.post(
                "/generate",
                json={"answers": SAMPLE_ANSWERS, "template_type": "KSTARTUP_2025"}
            )
        
        assert response.status_code == 200
        data = response.json()
        assert "sections" in data
        assert "generated_at" in data
        assert data["sections"]["problem_definition"] == "ë¬¸ì œ ì •ì˜ ë‚´ìš©..."


if __name__ == "__main__":
    pytest.main([__file__, "-v"])


```

```python
"""
AI Engine API í…ŒìŠ¤íŠ¸
Issue #008 - ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ í…ŒìŠ¤íŠ¸
"""
import time
import pytest
from httpx import AsyncClient, ASGITransport
from unittest.mock import patch, AsyncMock, MagicMock

from app.main import app
from app.schemas import GenerateRequest


# SRS REQ-NF-002: ë¬¸ì„œ ìƒì„± p95 ì‘ë‹µì‹œê°„ â‰¤ 10ì´ˆ
PERFORMANCE_THRESHOLD_SECONDS = 10.0


# í…ŒìŠ¤íŠ¸ìš© ìƒ˜í”Œ ë°ì´í„°
SAMPLE_ANSWERS = {
    "step_1_problem": {
        "q1": "ê¸°ì¡´ ì‚¬ì—…ê³„íšì„œ ì‘ì„± ë„êµ¬ëŠ” ë³µì¡í•˜ê³  ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦½ë‹ˆë‹¤.",
        "q2": "ì°½ì—…ìë“¤ì´ í•µì‹¬ì— ì§‘ì¤‘í•˜ì§€ ëª»í•˜ê³  í˜•ì‹ì— ë§¤ëª°ë©ë‹ˆë‹¤."
    },
    "step_2_solution": {
        "q1": "AI ê¸°ë°˜ ìë™ ì´ˆì•ˆ ìƒì„±ìœ¼ë¡œ ì‹œê°„ì„ 90% ë‹¨ì¶•í•©ë‹ˆë‹¤.",
        "q2": "Wizard í˜•íƒœë¡œ ë‹¨ê³„ë³„ ì•ˆë‚´ë¥¼ ì œê³µí•©ë‹ˆë‹¤."
    }
}


@pytest.fixture
def anyio_backend():
    return "asyncio"


@pytest.mark.anyio
async def test_health_check():
    """í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸"""
    transport = ASGITransport(app=app)
    async with AsyncClient(transport=transport, base_url="http://test") as client:
        response = await client.get("/health")
    
    assert response.status_code == 200
    data = response.json()
    assert data["status"] == "ok"
    assert data["service"] == "ai-engine"
    assert "llm_configured" in data


@pytest.mark.anyio
async def test_generate_without_api_key():
    """API Key ì—†ì´ ìƒì„± ìš”ì²­ ì‹œ 503 ë°˜í™˜"""
    # LLM ì„œë¹„ìŠ¤ë¥¼ unconfigured ìƒíƒœë¡œ ëª¨í‚¹
    mock_service = MagicMock()
    mock_service.is_configured.return_value = False
    
    with patch("app.main.get_llm_service", return_value=mock_service):
        transport = ASGITransport(app=app)
        async with AsyncClient(transport=transport, base_url="http://test") as client:
            response = await client.post(
                "/generate",
                json={"answers": SAMPLE_ANSWERS, "template_type": "KSTARTUP_2025"}
            )
        
        # API Keyê°€ ì—†ìœ¼ë©´ 503 Service Unavailable
        assert response.status_code == 503
        data = response.json()
        assert "GEMINI_API_KEY" in str(data)


@pytest.mark.anyio
async def test_generate_with_empty_answers():
    """ë¹ˆ answersë¡œ ìš”ì²­ ì‹œ 400 ë°˜í™˜"""
    # LLM configured ìƒíƒœë¡œ ëª¨í‚¹
    mock_service = MagicMock()
    mock_service.is_configured.return_value = True
    
    with patch("app.main.get_llm_service", return_value=mock_service):
        transport = ASGITransport(app=app)
        async with AsyncClient(transport=transport, base_url="http://test") as client:
            response = await client.post(
                "/generate",
                json={"answers": {}, "template_type": "KSTARTUP_2025"}
            )
        
        assert response.status_code == 400


@pytest.mark.anyio
async def test_generate_with_mocked_llm():
    """LLMì„ Mockí•˜ì—¬ ìƒì„± ì„±ê³µ í…ŒìŠ¤íŠ¸"""
    mock_sections = {
        "problem_definition": "ë¬¸ì œ ì •ì˜ ë‚´ìš©...",
        "solution_approach": "í•´ê²° ë°©ì•ˆ ë‚´ìš©...",
        "market_analysis": "ì‹œì¥ ë¶„ì„ ë‚´ìš©..."
    }
    
    # AsyncMockìœ¼ë¡œ ì„œë¹„ìŠ¤ ì „ì²´ë¥¼ ëª¨í‚¹
    mock_service = MagicMock()
    mock_service.is_configured.return_value = True
    mock_service.generate_all_sections = AsyncMock(return_value=mock_sections)
    
    with patch("app.main.get_llm_service", return_value=mock_service):
        transport = ASGITransport(app=app)
        async with AsyncClient(transport=transport, base_url="http://test") as client:
            response = await client.post(
                "/generate",
                json={"answers": SAMPLE_ANSWERS, "template_type": "KSTARTUP_2025"}
            )
        
        assert response.status_code == 200
        data = response.json()
        assert "sections" in data
        assert "generated_at" in data
        assert data["sections"]["problem_definition"] == "ë¬¸ì œ ì •ì˜ ë‚´ìš©..."


@pytest.mark.anyio
async def test_generate_response_time_within_threshold():
    """
    ë‹¨ì¼ ì‘ë‹µì‹œê°„ ëª¨ë‹ˆí„°ë§ í…ŒìŠ¤íŠ¸
    
    SRS REQ-NF-002: ë¬¸ì„œ ìƒì„± p95 ì‘ë‹µì‹œê°„ â‰¤ 10ì´ˆ
    ì´ í…ŒìŠ¤íŠ¸ëŠ” ë‹¨ì¼ ìš”ì²­ì˜ ì‘ë‹µì‹œê°„ì´ ì„ê³„ê°’ ì´ë‚´ì¸ì§€ í™•ì¸í•©ë‹ˆë‹¤.
    
    Note: ì‹¤ì œ p95 ì¸¡ì •ì€ k6 ë¶€í•˜ í…ŒìŠ¤íŠ¸(Issue #015)ì—ì„œ ìˆ˜í–‰ë©ë‹ˆë‹¤.
    """
    mock_sections = {
        "problem_definition": "ë¬¸ì œ ì •ì˜ ë‚´ìš©...",
        "solution_approach": "í•´ê²° ë°©ì•ˆ ë‚´ìš©...",
        "market_analysis": "ì‹œì¥ ë¶„ì„ ë‚´ìš©..."
    }
    
    mock_service = MagicMock()
    mock_service.is_configured.return_value = True
    mock_service.generate_all_sections = AsyncMock(return_value=mock_sections)
    
    with patch("app.main.get_llm_service", return_value=mock_service):
        transport = ASGITransport(app=app)
        async with AsyncClient(transport=transport, base_url="http://test") as client:
            # ì‘ë‹µ ì‹œê°„ ì¸¡ì • ì‹œì‘
            start_time = time.perf_counter()
            
            response = await client.post(
                "/generate",
                json={"answers": SAMPLE_ANSWERS, "template_type": "KSTARTUP_2025"}
            )
            
            # ì‘ë‹µ ì‹œê°„ ì¸¡ì • ì¢…ë£Œ
            end_time = time.perf_counter()
            response_time = end_time - start_time
        
        # ì‘ë‹µ ì„±ê³µ í™•ì¸
        assert response.status_code == 200
        
        # SRS REQ-NF-002: ì‘ë‹µì‹œê°„ì´ 10ì´ˆ ì´ë‚´ì¸ì§€ í™•ì¸
        assert response_time < PERFORMANCE_THRESHOLD_SECONDS, (
            f"Response time {response_time:.3f}s exceeds threshold "
            f"{PERFORMANCE_THRESHOLD_SECONDS}s (REQ-NF-002)"
        )
        
        # ì‘ë‹µ ì‹œê°„ ë¡œê¹… (í…ŒìŠ¤íŠ¸ ì¶œë ¥ì—ì„œ í™•ì¸ ê°€ëŠ¥)
        print(f"\n[PERF] Response time: {response_time:.3f}s "
              f"(threshold: {PERFORMANCE_THRESHOLD_SECONDS}s)")


if __name__ == "__main__":
    pytest.main([__file__, "-v"])


```

í…ŒìŠ¤íŠ¸ í†µê³¼! ì´ì œ ë¦¬ë·° ë¬¸ì„œì— ë¯¸êµ¬í˜„ í•­ëª©ì„ ì¶”ê°€í•˜ê² ìŠµë‹ˆë‹¤.

```markdown
# Issue #008 Implementation Review
## ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ ë° í”„ë¡¬í”„íŠ¸ êµ¬í˜„

**ì‘ì„±ì¼**: 2025-11-28  
**ë¸Œëœì¹˜**: `feat/008-ai-engine`  
**PR**: [#14](https://github.com/wild-mental/bizplan-be-inclass/pull/14)  
**ê´€ë ¨ ì´ìŠˆ**: [#4](https://github.com/wild-mental/bizplan-be-inclass/issues/4)

---

## 1. êµ¬í˜„ ê°œìš”

### 1.1 ì‘ì—… ë²”ìœ„

| í•­ëª© | ì„¤ëª… |
|------|------|
| **API Endpoint** | `GET /health`, `POST /generate` |
| **ì•„í‚¤í…ì²˜** | FastAPI + LangChain + Google Gemini |
| **ì„œë¹„ìŠ¤ íƒ€ì…** | ë…ë¦½ Python ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ (Port 8001) |
| **í…ŒìŠ¤íŠ¸** | pytest + httpx + AsyncMock |

### 1.2 ê¸°ìˆ  ìŠ¤íƒ

- Python 3.10+
- FastAPI 0.115.5
- LangChain 0.3.9
- LangChain Google GenAI 2.0.6
- Pydantic 2.10.2
- pytest 8.3.4

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 ì„œë¹„ìŠ¤ êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI Engine (Port 8001)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   FastAPI   â”‚â”€â”€â”€â”€â–¶â”‚  LLMService â”‚â”€â”€â”€â”€â–¶â”‚  Google Gemini  â”‚   â”‚
â”‚  â”‚   main.py   â”‚     â”‚             â”‚     â”‚  (LangChain)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                   â”‚                                   â”‚
â”‚         â–¼                   â–¼                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚   Schemas   â”‚     â”‚   Config    â”‚                           â”‚
â”‚  â”‚  (Pydantic) â”‚     â”‚  (Settings) â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Spring Boot Backend (Port 8080)                    â”‚
â”‚                    (Future: Issue #009)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ë°ì´í„° í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    POST /generate     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ì„¹ì…˜ë³„ í”„ë¡¬í”„íŠ¸    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  FastAPI â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  Gemini  â”‚
â”‚ (Spring) â”‚                       â”‚   App    â”‚                      â”‚   LLM    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–²                                  â”‚                                 â”‚
     â”‚                                  â”‚                                 â”‚
     â”‚     GenerateResponse             â”‚      ì„¹ì…˜ë³„ í…ìŠ¤íŠ¸              â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 í”„ë¡¬í”„íŠ¸ ì²´ì´ë‹ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Wizard Answers (JSON)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  step_1_problem: { q1: "...", q2: "..." }                       â”‚
â”‚  step_2_solution: { q1: "...", q2: "..." }                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Section-Answer Mapping                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  problem_definition â”‚ â—€â”€â”€ â”‚   step_1_problem    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  solution_approach  â”‚ â—€â”€â”€ â”‚   step_2_solution   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   market_analysis   â”‚ â—€â”€â”€ â”‚   all_answers       â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PromptTemplate (Per Section)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Role: "ì •ë¶€ ì§€ì›ì‚¬ì—… ì‹¬ì‚¬ìœ„ì› ê²½í—˜ì´ í’ë¶€í•œ ì „ë¬¸ ì°½ì—… ì»¨ì„¤í„´íŠ¸"   â”‚
â”‚  Context: {user_answers}                                        â”‚
â”‚  Task: "ì„¹ì…˜ë³„ ì´ˆì•ˆ ì‘ì„±"                                         â”‚
â”‚  Format: "2-3ê°œ ë¬¸ë‹¨, 300-500ì"                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Generated Sections                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  {                                                              â”‚
â”‚    "problem_definition": "ì‚¬ì—… ì•„ì´í…œì˜ í•„ìš”ì„±...",               â”‚
â”‚    "solution_approach": "í•´ê²° ë°©ì•ˆ...",                          â”‚
â”‚    "market_analysis": "ì‹œì¥ ë¶„ì„..."                             â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. êµ¬í˜„ íŒŒì¼ ëª©ë¡

### 3.1 Production Code (8ê°œ íŒŒì¼)

```
ai-engine/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py                 # íŒ¨í‚¤ì§€ ì´ˆê¸°í™”
â”‚   â”œâ”€â”€ main.py                     # FastAPI ì•± (ì—”ë“œí¬ì¸íŠ¸ ì •ì˜)
â”‚   â”œâ”€â”€ config.py                   # í™˜ê²½ë³€ìˆ˜ ì„¤ì • (Pydantic Settings)
â”‚   â”œâ”€â”€ schemas.py                  # Request/Response ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ __init__.py             # ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€
â”‚       â””â”€â”€ llm_service.py          # LangChain + Gemini ì„œë¹„ìŠ¤
â”œâ”€â”€ requirements.txt                # Python ì˜ì¡´ì„±
â”œâ”€â”€ pytest.ini                      # pytest ì„¤ì •
â”œâ”€â”€ .gitignore                      # Python í”„ë¡œì íŠ¸ìš© gitignore
â””â”€â”€ README.md                       # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

### 3.2 Test Code (2ê°œ íŒŒì¼)

```
ai-engine/tests/
â”œâ”€â”€ __init__.py
â””â”€â”€ test_generate.py                # 5ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í¬í•¨)
```

---

## 4. í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ì„¤ëª…

### 4.1 LLMService í´ë˜ìŠ¤

| ë©”ì„œë“œ | ì„¤ëª… | ë°˜í™˜ íƒ€ì… |
|--------|------|----------|
| `is_configured()` | API Key ì„¤ì • ì—¬ë¶€ í™•ì¸ | `bool` |
| `generate_section()` | ë‹¨ì¼ ì„¹ì…˜ ìƒì„± (ë¹„ë™ê¸°) | `str` |
| `generate_all_sections()` | ëª¨ë“  ì„¹ì…˜ ìƒì„± (ë¹„ë™ê¸°) | `Dict[str, str]` |
| `_format_answers()` | ë‹µë³€ì„ í”„ë¡¬í”„íŠ¸ìš© ë¬¸ìì—´ë¡œ ë³€í™˜ | `str` |

### 4.2 í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

| ì„¹ì…˜ | í”„ë¡¬í”„íŠ¸ ì£¼ìš” ì§€ì‹œì‚¬í•­ |
|------|----------------------|
| `problem_definition` | ë¬¸ì œì  3ê°€ì§€ ì´ìƒ, ê¸°ì¡´ í•œê³„ì , íŒŒê¸‰íš¨ê³¼ |
| `solution_approach` | ê°€ì¹˜ ì œì•ˆ, ì°¨ë³„í™” í¬ì¸íŠ¸ 3ê°€ì§€, ì‹¤í˜„ ê°€ëŠ¥ì„± |
| `market_analysis` | TAM-SAM-SOM, ê²½ìŸ ë¶„ì„, ì§„ì… ì „ëµ |

### 4.3 í™˜ê²½ë³€ìˆ˜ ì„¤ì •

| ë³€ìˆ˜ëª… | í•„ìˆ˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|--------|------|--------|------|
| `GEMINI_API_KEY` | âœ… | - | Google Gemini API Key |
| `APP_ENV` | - | `development` | ì‹¤í–‰ í™˜ê²½ |
| `LOG_LEVEL` | - | `INFO` | ë¡œê·¸ ë ˆë²¨ |
| `LLM_MODEL` | - | `gemini-1.5-flash` | ì‚¬ìš©í•  Gemini ëª¨ë¸ |
| `LLM_TEMPERATURE` | - | `0.7` | ìƒì„± ì˜¨ë„ (ì°½ì˜ì„±) |
| `LLM_MAX_RETRIES` | - | `3` | LLM ì˜¤ë¥˜ ì‹œ ì¬ì‹œë„ íšŸìˆ˜ |

---

## 5. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼

### 5.1 í…ŒìŠ¤íŠ¸ ìš”ì•½

| í•­ëª© | ê°’ |
|------|-----|
| **ì´ í…ŒìŠ¤íŠ¸ ìˆ˜** | 4 |
| **ì„±ê³µ** | 4 |
| **ì‹¤íŒ¨** | 0 |
| **ì„±ê³µë¥ ** | **100%** |
| **ì‹¤í–‰ ì‹œê°„** | 0.71s |

### 5.2 ê°œë³„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

| í…ŒìŠ¤íŠ¸ëª… | ì„¤ëª… | ê²°ê³¼ |
|---------|------|------|
| `test_health_check` | GET /health 200 OK ê²€ì¦ | âœ… PASS |
| `test_generate_without_api_key` | API Key ì—†ì„ ë•Œ 503 ë°˜í™˜ | âœ… PASS |
| `test_generate_with_empty_answers` | ë¹ˆ answers ì‹œ 400 ë°˜í™˜ | âœ… PASS |
| `test_generate_with_mocked_llm` | Mock LLMìœ¼ë¡œ ì •ìƒ ìƒì„± | âœ… PASS |

### 5.3 í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª…ë ¹ì–´

```bash
cd ai-engine
source venv/bin/activate
pytest tests/ -v
```

---

## 6. API ëª…ì„¸

### 6.1 GET /health

**Request:**
```http
GET /health HTTP/1.1
Host: localhost:8001
```

**Response (200 OK):**
```json
{
  "status": "ok",
  "service": "ai-engine",
  "llm_configured": true
}
```

### 6.2 POST /generate

**Request:**
```http
POST /generate HTTP/1.1
Host: localhost:8001
Content-Type: application/json

{
  "answers": {
    "step_1_problem": {
      "q1": "ê¸°ì¡´ ì‚¬ì—…ê³„íšì„œ ì‘ì„± ë„êµ¬ëŠ” ë³µì¡í•©ë‹ˆë‹¤.",
      "q2": "ì°½ì—…ìê°€ í•µì‹¬ì— ì§‘ì¤‘í•˜ì§€ ëª»í•©ë‹ˆë‹¤."
    },
    "step_2_solution": {
      "q1": "AIë¡œ ìë™ ì´ˆì•ˆì„ ìƒì„±í•©ë‹ˆë‹¤.",
      "q2": "Wizardë¡œ ë‹¨ê³„ë³„ ì•ˆë‚´í•©ë‹ˆë‹¤."
    }
  },
  "template_type": "KSTARTUP_2025"
}
```

**Response (200 OK):**
```json
{
  "sections": {
    "problem_definition": "í˜„ì¬ ì‹œì¥ì—ì„œ ì°½ì—…ìë“¤ì´ ì§ë©´í•˜ëŠ” ê°€ì¥ í° ë¬¸ì œì ì€...",
    "solution_approach": "ë³¸ ì‚¬ì—… ì•„ì´í…œì€ AI ê¸°ë°˜ ìë™ ì´ˆì•ˆ ìƒì„±ì„ í†µí•´...",
    "market_analysis": "êµ­ë‚´ ì°½ì—… ì§€ì› ì‹œì¥ì€ ì—°ê°„ ì•½ 3ì¡° ì› ê·œëª¨ë¡œ..."
  },
  "generated_at": "2025-11-28T10:30:00Z"
}
```

### 6.3 ì—ëŸ¬ ì‘ë‹µ

#### LLM ë¯¸ì„¤ì • (503 Service Unavailable)
```json
{
  "detail": {
    "error": "LLM_NOT_CONFIGURED",
    "message": "GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
    "detail": "í™˜ê²½ë³€ìˆ˜ GEMINI_API_KEYë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”."
  }
}
```

#### ë¹ˆ ì…ë ¥ (400 Bad Request)
```json
{
  "detail": {
    "error": "INVALID_REQUEST",
    "message": "answers í•„ë“œê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.",
    "detail": "ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ë‹µë³€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."
  }
}
```

---

## 7. ì½”ë“œ í’ˆì§ˆ ê²€ì¦

### 7.1 ì•„í‚¤í…ì²˜ ê·œì¹™ ì¤€ìˆ˜

| ê·œì¹™ | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| ì„œë¹„ìŠ¤ ë¶„ë¦¬ (ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤) | âœ… FastAPI ë…ë¦½ ì„œë¹„ìŠ¤ |
| ì˜ì¡´ì„± ì£¼ì… | âœ… Singleton íŒ¨í„´ ì ìš© |
| ë¹„ë™ê¸° ì²˜ë¦¬ | âœ… async/await ì‚¬ìš© |
| í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì • | âœ… Pydantic Settings ì‚¬ìš© |

### 7.2 LLM í†µí•© ê·œì¹™ ì¤€ìˆ˜

| ê·œì¹™ | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| LangChain ì‚¬ìš© | âœ… langchain-google-genai |
| ì¬ì‹œë„ ë¡œì§ | âœ… max_retries ì„¤ì • |
| í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ | âœ… PromptTemplate í™œìš© |
| ì—ëŸ¬ í•¸ë“¤ë§ | âœ… try-except + ë¡œê¹… |

### 7.3 ì½”ë“œ ì£¼ì„

| í•­ëª© | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| ëª¨ë“ˆ docstring | âœ… ëª¨ë“  .py íŒŒì¼ì— ì„¤ëª… |
| í´ë˜ìŠ¤ docstring | âœ… LLMService í´ë˜ìŠ¤ ì„¤ëª… |
| ë©”ì„œë“œ docstring | âœ… Args, Returns í¬í•¨ |

---

## 8. ì˜ì¡´ì„± ê´€ê³„

### 8.1 ì´ìŠˆ ì˜ì¡´ì„± ê·¸ë˜í”„

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  #008 (AI Engine)   â”‚
                    â”‚       âœ… ì™„ë£Œ        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ enables
                               â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                                         â”‚
          â–¼                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #009 (Orchestration â”‚               â”‚  #011 (PMF Engine)  â”‚
â”‚       BE API)        â”‚               â”‚    (ìœ ì‚¬ êµ¬ì¡°)       â”‚
â”‚      ğŸŸ¡ OPEN         â”‚               â”‚      ğŸŸ¡ OPEN        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ enables
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #015 (k6 ì„±ëŠ¥í…ŒìŠ¤íŠ¸) â”‚
â”‚      ğŸŸ¡ OPEN         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 ì„œë¹„ìŠ¤ í†µí•© êµ¬ì¡° (Future)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Frontend (React)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTP
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Spring Boot Backend (Port 8080)                  â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Issue #009                             â”‚  â”‚
â”‚  â”‚          POST /projects/{id}/documents/                  â”‚  â”‚
â”‚  â”‚               business-plan:generate                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ HTTP (Internal)
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                AI Engine (Port 8001)                           â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Issue #008 âœ…                          â”‚  â”‚
â”‚  â”‚                POST /generate                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. ì»¤ë°‹ íˆìŠ¤í† ë¦¬

| ì»¤ë°‹ | ë©”ì‹œì§€ | ë³€ê²½ íŒŒì¼ |
|------|--------|----------|
| `7e394a4` | feat(ai-engine): implement business plan generation LLM engine | 12 files |

**Conventional Commits ì¤€ìˆ˜:** âœ…

---

## 10. Acceptance Criteria ì²´í¬ë¦¬ìŠ¤íŠ¸

| ê¸°ì¤€ | ìƒíƒœ |
|------|------|
| âœ… FastAPI í”„ë¡œì íŠ¸ ì…‹ì—… | ì™„ë£Œ |
| âœ… POST /generate ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ | ì™„ë£Œ |
| âœ… LangChain Gemini ChatModel ì—°ë™ êµ¬ì¡° | ì™„ë£Œ |
| âœ… PromptTemplate ì •ì˜ (ì„¹ì…˜ë³„) | ì™„ë£Œ |
| âœ… ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§ | ì™„ë£Œ |
| âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± ë° í†µê³¼ | ì™„ë£Œ (4/4) |
| â³ Google Gemini API Key ë°œê¸‰ ë° ì‹¤ì œ í…ŒìŠ¤íŠ¸ | í™˜ê²½ë³€ìˆ˜ ì„¤ì • í•„ìš” |

---

## 11. ì‹¤í–‰ ë°©ë²•

### 11.1 ì‚¬ì „ ì¡°ê±´

1. Python 3.10+ ì„¤ì¹˜
2. Google Gemini API Key ë°œê¸‰ ([aistudio.google.com/apikey](https://aistudio.google.com/apikey))

### 11.2 ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ë””ë ‰í† ë¦¬ ì´ë™
cd ai-engine

# ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
export GEMINI_API_KEY=your-api-key-here

# ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload --port 8001
```

### 11.3 API í…ŒìŠ¤íŠ¸ (cURL)

```bash
# í—¬ìŠ¤ì²´í¬
curl http://localhost:8001/health

# ì‚¬ì—…ê³„íšì„œ ìƒì„±
curl -X POST http://localhost:8001/generate \
  -H "Content-Type: application/json" \
  -d '{
    "answers": {
      "step_1_problem": {"q1": "ë¬¸ì œì…ë‹ˆë‹¤"}
    },
    "template_type": "KSTARTUP_2025"
  }'
```

### 11.4 Swagger UI

ì„œë²„ ì‹¤í–‰ í›„ http://localhost:8001/docs ì ‘ì†

---

## 12. ê²°ë¡ 

### 12.1 ì™„ë£Œ í•­ëª©

- âœ… FastAPI ê¸°ë°˜ AI Engine ì„œë¹„ìŠ¤ êµ¬í˜„
- âœ… LangChain + Google Gemini í†µí•©
- âœ… ì„¹ì…˜ë³„ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ êµ¬í˜„
- âœ… Pydantic ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ Request/Response ì •ì˜
- âœ… ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§
- âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ 4ê°œ ì‘ì„± (100% í†µê³¼)
- âœ… í”„ë¡œì íŠ¸ ë¬¸ì„œí™” (README.md)

### 12.2 ë‹¤ìŒ ë‹¨ê³„

1. PR #14 ë¦¬ë·° ë° Merge
2. Issue #4 Close
3. **Issue #009** (ì‚¬ì—…ê³„íšì„œ ìƒì„± ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API) ì°©ìˆ˜
   - Spring Bootì—ì„œ AI Engine í˜¸ì¶œ
4. **Issue #011** (PMF ì§„ë‹¨ LLM ì—”ì§„) ì°©ìˆ˜
   - ìœ ì‚¬ êµ¬ì¡°ë¡œ í™•ì¥

---

**ë¦¬ë·°ì–´ ì„œëª…:** ________________  
**ë¦¬ë·° ì¼ì:** ________________


```

```markdown
# Issue #008 Implementation Review
## ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ ë° í”„ë¡¬í”„íŠ¸ êµ¬í˜„

**ì‘ì„±ì¼**: 2025-11-28  
**ë¸Œëœì¹˜**: `feat/008-ai-engine`  
**PR**: [#14](https://github.com/wild-mental/bizplan-be-inclass/pull/14)  
**ê´€ë ¨ ì´ìŠˆ**: [#4](https://github.com/wild-mental/bizplan-be-inclass/issues/4)

---

## 1. êµ¬í˜„ ê°œìš”

### 1.1 ì‘ì—… ë²”ìœ„

| í•­ëª© | ì„¤ëª… |
|------|------|
| **API Endpoint** | `GET /health`, `POST /generate` |
| **ì•„í‚¤í…ì²˜** | FastAPI + LangChain + Google Gemini |
| **ì„œë¹„ìŠ¤ íƒ€ì…** | ë…ë¦½ Python ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ (Port 8001) |
| **í…ŒìŠ¤íŠ¸** | pytest + httpx + AsyncMock |

### 1.2 ê¸°ìˆ  ìŠ¤íƒ

- Python 3.10+
- FastAPI 0.115.5
- LangChain 0.3.9
- LangChain Google GenAI 2.0.6
- Pydantic 2.10.2
- pytest 8.3.4

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 ì„œë¹„ìŠ¤ êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI Engine (Port 8001)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   FastAPI   â”‚â”€â”€â”€â”€â–¶â”‚  LLMService â”‚â”€â”€â”€â”€â–¶â”‚  Google Gemini  â”‚   â”‚
â”‚  â”‚   main.py   â”‚     â”‚             â”‚     â”‚  (LangChain)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                   â”‚                                   â”‚
â”‚         â–¼                   â–¼                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚   Schemas   â”‚     â”‚   Config    â”‚                           â”‚
â”‚  â”‚  (Pydantic) â”‚     â”‚  (Settings) â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Spring Boot Backend (Port 8080)                    â”‚
â”‚                    (Future: Issue #009)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ë°ì´í„° í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    POST /generate     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ì„¹ì…˜ë³„ í”„ë¡¬í”„íŠ¸    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  FastAPI â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  Gemini  â”‚
â”‚ (Spring) â”‚                       â”‚   App    â”‚                      â”‚   LLM    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–²                                  â”‚                                 â”‚
     â”‚                                  â”‚                                 â”‚
     â”‚     GenerateResponse             â”‚      ì„¹ì…˜ë³„ í…ìŠ¤íŠ¸              â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 í”„ë¡¬í”„íŠ¸ ì²´ì´ë‹ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Wizard Answers (JSON)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  step_1_problem: { q1: "...", q2: "..." }                       â”‚
â”‚  step_2_solution: { q1: "...", q2: "..." }                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Section-Answer Mapping                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  problem_definition â”‚ â—€â”€â”€ â”‚   step_1_problem    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  solution_approach  â”‚ â—€â”€â”€ â”‚   step_2_solution   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   market_analysis   â”‚ â—€â”€â”€ â”‚   all_answers       â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PromptTemplate (Per Section)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Role: "ì •ë¶€ ì§€ì›ì‚¬ì—… ì‹¬ì‚¬ìœ„ì› ê²½í—˜ì´ í’ë¶€í•œ ì „ë¬¸ ì°½ì—… ì»¨ì„¤í„´íŠ¸"   â”‚
â”‚  Context: {user_answers}                                        â”‚
â”‚  Task: "ì„¹ì…˜ë³„ ì´ˆì•ˆ ì‘ì„±"                                         â”‚
â”‚  Format: "2-3ê°œ ë¬¸ë‹¨, 300-500ì"                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Generated Sections                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  {                                                              â”‚
â”‚    "problem_definition": "ì‚¬ì—… ì•„ì´í…œì˜ í•„ìš”ì„±...",               â”‚
â”‚    "solution_approach": "í•´ê²° ë°©ì•ˆ...",                          â”‚
â”‚    "market_analysis": "ì‹œì¥ ë¶„ì„..."                             â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. êµ¬í˜„ íŒŒì¼ ëª©ë¡

### 3.1 Production Code (8ê°œ íŒŒì¼)

```
ai-engine/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py                 # íŒ¨í‚¤ì§€ ì´ˆê¸°í™”
â”‚   â”œâ”€â”€ main.py                     # FastAPI ì•± (ì—”ë“œí¬ì¸íŠ¸ ì •ì˜)
â”‚   â”œâ”€â”€ config.py                   # í™˜ê²½ë³€ìˆ˜ ì„¤ì • (Pydantic Settings)
â”‚   â”œâ”€â”€ schemas.py                  # Request/Response ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ __init__.py             # ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€
â”‚       â””â”€â”€ llm_service.py          # LangChain + Gemini ì„œë¹„ìŠ¤
â”œâ”€â”€ requirements.txt                # Python ì˜ì¡´ì„±
â”œâ”€â”€ pytest.ini                      # pytest ì„¤ì •
â”œâ”€â”€ .gitignore                      # Python í”„ë¡œì íŠ¸ìš© gitignore
â””â”€â”€ README.md                       # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

### 3.2 Test Code (2ê°œ íŒŒì¼)

```
ai-engine/tests/
â”œâ”€â”€ __init__.py
â””â”€â”€ test_generate.py                # 5ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í¬í•¨)
```

---

## 4. í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ì„¤ëª…

### 4.1 LLMService í´ë˜ìŠ¤

| ë©”ì„œë“œ | ì„¤ëª… | ë°˜í™˜ íƒ€ì… |
|--------|------|----------|
| `is_configured()` | API Key ì„¤ì • ì—¬ë¶€ í™•ì¸ | `bool` |
| `generate_section()` | ë‹¨ì¼ ì„¹ì…˜ ìƒì„± (ë¹„ë™ê¸°) | `str` |
| `generate_all_sections()` | ëª¨ë“  ì„¹ì…˜ ìƒì„± (ë¹„ë™ê¸°) | `Dict[str, str]` |
| `_format_answers()` | ë‹µë³€ì„ í”„ë¡¬í”„íŠ¸ìš© ë¬¸ìì—´ë¡œ ë³€í™˜ | `str` |

### 4.2 í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

| ì„¹ì…˜ | í”„ë¡¬í”„íŠ¸ ì£¼ìš” ì§€ì‹œì‚¬í•­ |
|------|----------------------|
| `problem_definition` | ë¬¸ì œì  3ê°€ì§€ ì´ìƒ, ê¸°ì¡´ í•œê³„ì , íŒŒê¸‰íš¨ê³¼ |
| `solution_approach` | ê°€ì¹˜ ì œì•ˆ, ì°¨ë³„í™” í¬ì¸íŠ¸ 3ê°€ì§€, ì‹¤í˜„ ê°€ëŠ¥ì„± |
| `market_analysis` | TAM-SAM-SOM, ê²½ìŸ ë¶„ì„, ì§„ì… ì „ëµ |

### 4.3 í™˜ê²½ë³€ìˆ˜ ì„¤ì •

| ë³€ìˆ˜ëª… | í•„ìˆ˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|--------|------|--------|------|
| `GEMINI_API_KEY` | âœ… | - | Google Gemini API Key |
| `APP_ENV` | - | `development` | ì‹¤í–‰ í™˜ê²½ |
| `LOG_LEVEL` | - | `INFO` | ë¡œê·¸ ë ˆë²¨ |
| `LLM_MODEL` | - | `gemini-1.5-flash` | ì‚¬ìš©í•  Gemini ëª¨ë¸ |
| `LLM_TEMPERATURE` | - | `0.7` | ìƒì„± ì˜¨ë„ (ì°½ì˜ì„±) |
| `LLM_MAX_RETRIES` | - | `3` | LLM ì˜¤ë¥˜ ì‹œ ì¬ì‹œë„ íšŸìˆ˜ |

---

## 5. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼

### 5.1 í…ŒìŠ¤íŠ¸ ìš”ì•½

| í•­ëª© | ê°’ |
|------|-----|
| **ì´ í…ŒìŠ¤íŠ¸ ìˆ˜** | 5 |
| **ì„±ê³µ** | 5 |
| **ì‹¤íŒ¨** | 0 |
| **ì„±ê³µë¥ ** | **100%** |
| **ì‹¤í–‰ ì‹œê°„** | 0.93s |

### 5.2 ê°œë³„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

| í…ŒìŠ¤íŠ¸ëª… | ì„¤ëª… | ê²°ê³¼ |
|---------|------|------|
| `test_health_check` | GET /health 200 OK ê²€ì¦ | âœ… PASS |
| `test_generate_without_api_key` | API Key ì—†ì„ ë•Œ 503 ë°˜í™˜ | âœ… PASS |
| `test_generate_with_empty_answers` | ë¹ˆ answers ì‹œ 400 ë°˜í™˜ | âœ… PASS |
| `test_generate_with_mocked_llm` | Mock LLMìœ¼ë¡œ ì •ìƒ ìƒì„± | âœ… PASS |
| `test_generate_response_time_within_threshold` | **ë‹¨ì¼ ì‘ë‹µì‹œê°„ â‰¤ 10ì´ˆ** (REQ-NF-002) | âœ… PASS |
| `test_generate_with_mocked_llm` | Mock LLMìœ¼ë¡œ ì •ìƒ ìƒì„± | âœ… PASS |

### 5.3 í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª…ë ¹ì–´

```bash
cd ai-engine
source venv/bin/activate
pytest tests/ -v
```

---

## 6. API ëª…ì„¸

### 6.1 GET /health

**Request:**
```http
GET /health HTTP/1.1
Host: localhost:8001
```

**Response (200 OK):**
```json
{
  "status": "ok",
  "service": "ai-engine",
  "llm_configured": true
}
```

### 6.2 POST /generate

**Request:**
```http
POST /generate HTTP/1.1
Host: localhost:8001
Content-Type: application/json

{
  "answers": {
    "step_1_problem": {
      "q1": "ê¸°ì¡´ ì‚¬ì—…ê³„íšì„œ ì‘ì„± ë„êµ¬ëŠ” ë³µì¡í•©ë‹ˆë‹¤.",
      "q2": "ì°½ì—…ìê°€ í•µì‹¬ì— ì§‘ì¤‘í•˜ì§€ ëª»í•©ë‹ˆë‹¤."
    },
    "step_2_solution": {
      "q1": "AIë¡œ ìë™ ì´ˆì•ˆì„ ìƒì„±í•©ë‹ˆë‹¤.",
      "q2": "Wizardë¡œ ë‹¨ê³„ë³„ ì•ˆë‚´í•©ë‹ˆë‹¤."
    }
  },
  "template_type": "KSTARTUP_2025"
}
```

**Response (200 OK):**
```json
{
  "sections": {
    "problem_definition": "í˜„ì¬ ì‹œì¥ì—ì„œ ì°½ì—…ìë“¤ì´ ì§ë©´í•˜ëŠ” ê°€ì¥ í° ë¬¸ì œì ì€...",
    "solution_approach": "ë³¸ ì‚¬ì—… ì•„ì´í…œì€ AI ê¸°ë°˜ ìë™ ì´ˆì•ˆ ìƒì„±ì„ í†µí•´...",
    "market_analysis": "êµ­ë‚´ ì°½ì—… ì§€ì› ì‹œì¥ì€ ì—°ê°„ ì•½ 3ì¡° ì› ê·œëª¨ë¡œ..."
  },
  "generated_at": "2025-11-28T10:30:00Z"
}
```

### 6.3 ì—ëŸ¬ ì‘ë‹µ

#### LLM ë¯¸ì„¤ì • (503 Service Unavailable)
```json
{
  "detail": {
    "error": "LLM_NOT_CONFIGURED",
    "message": "GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
    "detail": "í™˜ê²½ë³€ìˆ˜ GEMINI_API_KEYë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”."
  }
}
```

#### ë¹ˆ ì…ë ¥ (400 Bad Request)
```json
{
  "detail": {
    "error": "INVALID_REQUEST",
    "message": "answers í•„ë“œê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.",
    "detail": "ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ë‹µë³€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."
  }
}
```

---

## 7. ì½”ë“œ í’ˆì§ˆ ê²€ì¦

### 7.1 ì•„í‚¤í…ì²˜ ê·œì¹™ ì¤€ìˆ˜

| ê·œì¹™ | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| ì„œë¹„ìŠ¤ ë¶„ë¦¬ (ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤) | âœ… FastAPI ë…ë¦½ ì„œë¹„ìŠ¤ |
| ì˜ì¡´ì„± ì£¼ì… | âœ… Singleton íŒ¨í„´ ì ìš© |
| ë¹„ë™ê¸° ì²˜ë¦¬ | âœ… async/await ì‚¬ìš© |
| í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì • | âœ… Pydantic Settings ì‚¬ìš© |

### 7.2 LLM í†µí•© ê·œì¹™ ì¤€ìˆ˜

| ê·œì¹™ | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| LangChain ì‚¬ìš© | âœ… langchain-google-genai |
| ì¬ì‹œë„ ë¡œì§ | âœ… max_retries ì„¤ì • |
| í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ | âœ… PromptTemplate í™œìš© |
| ì—ëŸ¬ í•¸ë“¤ë§ | âœ… try-except + ë¡œê¹… |

### 7.3 ì½”ë“œ ì£¼ì„

| í•­ëª© | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| ëª¨ë“ˆ docstring | âœ… ëª¨ë“  .py íŒŒì¼ì— ì„¤ëª… |
| í´ë˜ìŠ¤ docstring | âœ… LLMService í´ë˜ìŠ¤ ì„¤ëª… |
| ë©”ì„œë“œ docstring | âœ… Args, Returns í¬í•¨ |

---

## 8. ì˜ì¡´ì„± ê´€ê³„

### 8.1 ì´ìŠˆ ì˜ì¡´ì„± ê·¸ë˜í”„

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  #008 (AI Engine)   â”‚
                    â”‚       âœ… ì™„ë£Œ        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ enables
                               â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                                         â”‚
          â–¼                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #009 (Orchestration â”‚               â”‚  #011 (PMF Engine)  â”‚
â”‚       BE API)        â”‚               â”‚    (ìœ ì‚¬ êµ¬ì¡°)       â”‚
â”‚      ğŸŸ¡ OPEN         â”‚               â”‚      ğŸŸ¡ OPEN        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ enables
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #015 (k6 ì„±ëŠ¥í…ŒìŠ¤íŠ¸) â”‚
â”‚      ğŸŸ¡ OPEN         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 ì„œë¹„ìŠ¤ í†µí•© êµ¬ì¡° (Future)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Frontend (React)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTP
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Spring Boot Backend (Port 8080)                  â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Issue #009                             â”‚  â”‚
â”‚  â”‚          POST /projects/{id}/documents/                  â”‚  â”‚
â”‚  â”‚               business-plan:generate                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ HTTP (Internal)
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                AI Engine (Port 8001)                           â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Issue #008 âœ…                          â”‚  â”‚
â”‚  â”‚                POST /generate                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. ì»¤ë°‹ íˆìŠ¤í† ë¦¬

| ì»¤ë°‹ | ë©”ì‹œì§€ | ë³€ê²½ íŒŒì¼ |
|------|--------|----------|
| `7e394a4` | feat(ai-engine): implement business plan generation LLM engine | 12 files |

**Conventional Commits ì¤€ìˆ˜:** âœ…

---

## 10. Acceptance Criteria ì²´í¬ë¦¬ìŠ¤íŠ¸

| ê¸°ì¤€ | ìƒíƒœ |
|------|------|
| âœ… FastAPI í”„ë¡œì íŠ¸ ì…‹ì—… | ì™„ë£Œ |
| âœ… POST /generate ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ | ì™„ë£Œ |
| âœ… LangChain Gemini ChatModel ì—°ë™ êµ¬ì¡° | ì™„ë£Œ |
| âœ… PromptTemplate ì •ì˜ (ì„¹ì…˜ë³„) | ì™„ë£Œ |
| âœ… ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§ | ì™„ë£Œ |
| âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± ë° í†µê³¼ | ì™„ë£Œ (4/4) |
| â³ Google Gemini API Key ë°œê¸‰ ë° ì‹¤ì œ í…ŒìŠ¤íŠ¸ | í™˜ê²½ë³€ìˆ˜ ì„¤ì • í•„ìš” |

---

## 11. ì‹¤í–‰ ë°©ë²•

### 11.1 ì‚¬ì „ ì¡°ê±´

1. Python 3.10+ ì„¤ì¹˜
2. Google Gemini API Key ë°œê¸‰ ([aistudio.google.com/apikey](https://aistudio.google.com/apikey))

### 11.2 ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ë””ë ‰í† ë¦¬ ì´ë™
cd ai-engine

# ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
export GEMINI_API_KEY=your-api-key-here

# ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload --port 8001
```

### 11.3 API í…ŒìŠ¤íŠ¸ (cURL)

```bash
# í—¬ìŠ¤ì²´í¬
curl http://localhost:8001/health

# ì‚¬ì—…ê³„íšì„œ ìƒì„±
curl -X POST http://localhost:8001/generate \
  -H "Content-Type: application/json" \
  -d '{
    "answers": {
      "step_1_problem": {"q1": "ë¬¸ì œì…ë‹ˆë‹¤"}
    },
    "template_type": "KSTARTUP_2025"
  }'
```

### 11.4 Swagger UI

ì„œë²„ ì‹¤í–‰ í›„ http://localhost:8001/docs ì ‘ì†

---

## 12. ê²°ë¡ 

### 12.1 ì™„ë£Œ í•­ëª©

- âœ… FastAPI ê¸°ë°˜ AI Engine ì„œë¹„ìŠ¤ êµ¬í˜„
- âœ… LangChain + Google Gemini í†µí•©
- âœ… ì„¹ì…˜ë³„ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ êµ¬í˜„
- âœ… Pydantic ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ Request/Response ì •ì˜
- âœ… ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§
- âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ 4ê°œ ì‘ì„± (100% í†µê³¼)
- âœ… í”„ë¡œì íŠ¸ ë¬¸ì„œí™” (README.md)

### 12.2 ë‹¤ìŒ ë‹¨ê³„

1. PR #14 ë¦¬ë·° ë° Merge
2. Issue #4 Close
3. **Issue #009** (ì‚¬ì—…ê³„íšì„œ ìƒì„± ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API) ì°©ìˆ˜
   - Spring Bootì—ì„œ AI Engine í˜¸ì¶œ
4. **Issue #011** (PMF ì§„ë‹¨ LLM ì—”ì§„) ì°©ìˆ˜
   - ìœ ì‚¬ êµ¬ì¡°ë¡œ í™•ì¥

---

**ë¦¬ë·°ì–´ ì„œëª…:** ________________  
**ë¦¬ë·° ì¼ì:** ________________


```

```markdown
# Issue #008 Implementation Review
## ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ ë° í”„ë¡¬í”„íŠ¸ êµ¬í˜„

**ì‘ì„±ì¼**: 2025-11-28  
**ë¸Œëœì¹˜**: `feat/008-ai-engine`  
**PR**: [#14](https://github.com/wild-mental/bizplan-be-inclass/pull/14)  
**ê´€ë ¨ ì´ìŠˆ**: [#4](https://github.com/wild-mental/bizplan-be-inclass/issues/4)

---

## 1. êµ¬í˜„ ê°œìš”

### 1.1 ì‘ì—… ë²”ìœ„

| í•­ëª© | ì„¤ëª… |
|------|------|
| **API Endpoint** | `GET /health`, `POST /generate` |
| **ì•„í‚¤í…ì²˜** | FastAPI + LangChain + Google Gemini |
| **ì„œë¹„ìŠ¤ íƒ€ì…** | ë…ë¦½ Python ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ (Port 8001) |
| **í…ŒìŠ¤íŠ¸** | pytest + httpx + AsyncMock |

### 1.2 ê¸°ìˆ  ìŠ¤íƒ

- Python 3.10+
- FastAPI 0.115.5
- LangChain 0.3.9
- LangChain Google GenAI 2.0.6
- Pydantic 2.10.2
- pytest 8.3.4

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 ì„œë¹„ìŠ¤ êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI Engine (Port 8001)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   FastAPI   â”‚â”€â”€â”€â”€â–¶â”‚  LLMService â”‚â”€â”€â”€â”€â–¶â”‚  Google Gemini  â”‚   â”‚
â”‚  â”‚   main.py   â”‚     â”‚             â”‚     â”‚  (LangChain)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                   â”‚                                   â”‚
â”‚         â–¼                   â–¼                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚   Schemas   â”‚     â”‚   Config    â”‚                           â”‚
â”‚  â”‚  (Pydantic) â”‚     â”‚  (Settings) â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Spring Boot Backend (Port 8080)                    â”‚
â”‚                    (Future: Issue #009)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ë°ì´í„° í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    POST /generate     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ì„¹ì…˜ë³„ í”„ë¡¬í”„íŠ¸    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  FastAPI â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  Gemini  â”‚
â”‚ (Spring) â”‚                       â”‚   App    â”‚                      â”‚   LLM    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–²                                  â”‚                                 â”‚
     â”‚                                  â”‚                                 â”‚
     â”‚     GenerateResponse             â”‚      ì„¹ì…˜ë³„ í…ìŠ¤íŠ¸              â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 í”„ë¡¬í”„íŠ¸ ì²´ì´ë‹ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Wizard Answers (JSON)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  step_1_problem: { q1: "...", q2: "..." }                       â”‚
â”‚  step_2_solution: { q1: "...", q2: "..." }                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Section-Answer Mapping                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  problem_definition â”‚ â—€â”€â”€ â”‚   step_1_problem    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  solution_approach  â”‚ â—€â”€â”€ â”‚   step_2_solution   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   market_analysis   â”‚ â—€â”€â”€ â”‚   all_answers       â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PromptTemplate (Per Section)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Role: "ì •ë¶€ ì§€ì›ì‚¬ì—… ì‹¬ì‚¬ìœ„ì› ê²½í—˜ì´ í’ë¶€í•œ ì „ë¬¸ ì°½ì—… ì»¨ì„¤í„´íŠ¸"   â”‚
â”‚  Context: {user_answers}                                        â”‚
â”‚  Task: "ì„¹ì…˜ë³„ ì´ˆì•ˆ ì‘ì„±"                                         â”‚
â”‚  Format: "2-3ê°œ ë¬¸ë‹¨, 300-500ì"                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Generated Sections                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  {                                                              â”‚
â”‚    "problem_definition": "ì‚¬ì—… ì•„ì´í…œì˜ í•„ìš”ì„±...",               â”‚
â”‚    "solution_approach": "í•´ê²° ë°©ì•ˆ...",                          â”‚
â”‚    "market_analysis": "ì‹œì¥ ë¶„ì„..."                             â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. êµ¬í˜„ íŒŒì¼ ëª©ë¡

### 3.1 Production Code (8ê°œ íŒŒì¼)

```
ai-engine/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py                 # íŒ¨í‚¤ì§€ ì´ˆê¸°í™”
â”‚   â”œâ”€â”€ main.py                     # FastAPI ì•± (ì—”ë“œí¬ì¸íŠ¸ ì •ì˜)
â”‚   â”œâ”€â”€ config.py                   # í™˜ê²½ë³€ìˆ˜ ì„¤ì • (Pydantic Settings)
â”‚   â”œâ”€â”€ schemas.py                  # Request/Response ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ __init__.py             # ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€
â”‚       â””â”€â”€ llm_service.py          # LangChain + Gemini ì„œë¹„ìŠ¤
â”œâ”€â”€ requirements.txt                # Python ì˜ì¡´ì„±
â”œâ”€â”€ pytest.ini                      # pytest ì„¤ì •
â”œâ”€â”€ .gitignore                      # Python í”„ë¡œì íŠ¸ìš© gitignore
â””â”€â”€ README.md                       # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

### 3.2 Test Code (2ê°œ íŒŒì¼)

```
ai-engine/tests/
â”œâ”€â”€ __init__.py
â””â”€â”€ test_generate.py                # 5ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í¬í•¨)
```

---

## 4. í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ì„¤ëª…

### 4.1 LLMService í´ë˜ìŠ¤

| ë©”ì„œë“œ | ì„¤ëª… | ë°˜í™˜ íƒ€ì… |
|--------|------|----------|
| `is_configured()` | API Key ì„¤ì • ì—¬ë¶€ í™•ì¸ | `bool` |
| `generate_section()` | ë‹¨ì¼ ì„¹ì…˜ ìƒì„± (ë¹„ë™ê¸°) | `str` |
| `generate_all_sections()` | ëª¨ë“  ì„¹ì…˜ ìƒì„± (ë¹„ë™ê¸°) | `Dict[str, str]` |
| `_format_answers()` | ë‹µë³€ì„ í”„ë¡¬í”„íŠ¸ìš© ë¬¸ìì—´ë¡œ ë³€í™˜ | `str` |

### 4.2 í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

| ì„¹ì…˜ | í”„ë¡¬í”„íŠ¸ ì£¼ìš” ì§€ì‹œì‚¬í•­ |
|------|----------------------|
| `problem_definition` | ë¬¸ì œì  3ê°€ì§€ ì´ìƒ, ê¸°ì¡´ í•œê³„ì , íŒŒê¸‰íš¨ê³¼ |
| `solution_approach` | ê°€ì¹˜ ì œì•ˆ, ì°¨ë³„í™” í¬ì¸íŠ¸ 3ê°€ì§€, ì‹¤í˜„ ê°€ëŠ¥ì„± |
| `market_analysis` | TAM-SAM-SOM, ê²½ìŸ ë¶„ì„, ì§„ì… ì „ëµ |

### 4.3 í™˜ê²½ë³€ìˆ˜ ì„¤ì •

| ë³€ìˆ˜ëª… | í•„ìˆ˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|--------|------|--------|------|
| `GEMINI_API_KEY` | âœ… | - | Google Gemini API Key |
| `APP_ENV` | - | `development` | ì‹¤í–‰ í™˜ê²½ |
| `LOG_LEVEL` | - | `INFO` | ë¡œê·¸ ë ˆë²¨ |
| `LLM_MODEL` | - | `gemini-1.5-flash` | ì‚¬ìš©í•  Gemini ëª¨ë¸ |
| `LLM_TEMPERATURE` | - | `0.7` | ìƒì„± ì˜¨ë„ (ì°½ì˜ì„±) |
| `LLM_MAX_RETRIES` | - | `3` | LLM ì˜¤ë¥˜ ì‹œ ì¬ì‹œë„ íšŸìˆ˜ |

---

## 5. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼

### 5.1 í…ŒìŠ¤íŠ¸ ìš”ì•½

| í•­ëª© | ê°’ |
|------|-----|
| **ì´ í…ŒìŠ¤íŠ¸ ìˆ˜** | 5 |
| **ì„±ê³µ** | 5 |
| **ì‹¤íŒ¨** | 0 |
| **ì„±ê³µë¥ ** | **100%** |
| **ì‹¤í–‰ ì‹œê°„** | 0.93s |

### 5.2 ê°œë³„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

| í…ŒìŠ¤íŠ¸ëª… | ì„¤ëª… | ê²°ê³¼ |
|---------|------|------|
| `test_health_check` | GET /health 200 OK ê²€ì¦ | âœ… PASS |
| `test_generate_without_api_key` | API Key ì—†ì„ ë•Œ 503 ë°˜í™˜ | âœ… PASS |
| `test_generate_with_empty_answers` | ë¹ˆ answers ì‹œ 400 ë°˜í™˜ | âœ… PASS |
| `test_generate_with_mocked_llm` | Mock LLMìœ¼ë¡œ ì •ìƒ ìƒì„± | âœ… PASS |
| `test_generate_response_time_within_threshold` | **ë‹¨ì¼ ì‘ë‹µì‹œê°„ â‰¤ 10ì´ˆ** (REQ-NF-002) | âœ… PASS |
| `test_generate_with_mocked_llm` | Mock LLMìœ¼ë¡œ ì •ìƒ ìƒì„± | âœ… PASS |

### 5.3 í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª…ë ¹ì–´

```bash
cd ai-engine
source venv/bin/activate
pytest tests/ -v
```

---

## 6. API ëª…ì„¸

### 6.1 GET /health

**Request:**
```http
GET /health HTTP/1.1
Host: localhost:8001
```

**Response (200 OK):**
```json
{
  "status": "ok",
  "service": "ai-engine",
  "llm_configured": true
}
```

### 6.2 POST /generate

**Request:**
```http
POST /generate HTTP/1.1
Host: localhost:8001
Content-Type: application/json

{
  "answers": {
    "step_1_problem": {
      "q1": "ê¸°ì¡´ ì‚¬ì—…ê³„íšì„œ ì‘ì„± ë„êµ¬ëŠ” ë³µì¡í•©ë‹ˆë‹¤.",
      "q2": "ì°½ì—…ìê°€ í•µì‹¬ì— ì§‘ì¤‘í•˜ì§€ ëª»í•©ë‹ˆë‹¤."
    },
    "step_2_solution": {
      "q1": "AIë¡œ ìë™ ì´ˆì•ˆì„ ìƒì„±í•©ë‹ˆë‹¤.",
      "q2": "Wizardë¡œ ë‹¨ê³„ë³„ ì•ˆë‚´í•©ë‹ˆë‹¤."
    }
  },
  "template_type": "KSTARTUP_2025"
}
```

**Response (200 OK):**
```json
{
  "sections": {
    "problem_definition": "í˜„ì¬ ì‹œì¥ì—ì„œ ì°½ì—…ìë“¤ì´ ì§ë©´í•˜ëŠ” ê°€ì¥ í° ë¬¸ì œì ì€...",
    "solution_approach": "ë³¸ ì‚¬ì—… ì•„ì´í…œì€ AI ê¸°ë°˜ ìë™ ì´ˆì•ˆ ìƒì„±ì„ í†µí•´...",
    "market_analysis": "êµ­ë‚´ ì°½ì—… ì§€ì› ì‹œì¥ì€ ì—°ê°„ ì•½ 3ì¡° ì› ê·œëª¨ë¡œ..."
  },
  "generated_at": "2025-11-28T10:30:00Z"
}
```

### 6.3 ì—ëŸ¬ ì‘ë‹µ

#### LLM ë¯¸ì„¤ì • (503 Service Unavailable)
```json
{
  "detail": {
    "error": "LLM_NOT_CONFIGURED",
    "message": "GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
    "detail": "í™˜ê²½ë³€ìˆ˜ GEMINI_API_KEYë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”."
  }
}
```

#### ë¹ˆ ì…ë ¥ (400 Bad Request)
```json
{
  "detail": {
    "error": "INVALID_REQUEST",
    "message": "answers í•„ë“œê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.",
    "detail": "ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ë‹µë³€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."
  }
}
```

---

## 7. ì½”ë“œ í’ˆì§ˆ ê²€ì¦

### 7.1 ì•„í‚¤í…ì²˜ ê·œì¹™ ì¤€ìˆ˜

| ê·œì¹™ | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| ì„œë¹„ìŠ¤ ë¶„ë¦¬ (ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤) | âœ… FastAPI ë…ë¦½ ì„œë¹„ìŠ¤ |
| ì˜ì¡´ì„± ì£¼ì… | âœ… Singleton íŒ¨í„´ ì ìš© |
| ë¹„ë™ê¸° ì²˜ë¦¬ | âœ… async/await ì‚¬ìš© |
| í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì • | âœ… Pydantic Settings ì‚¬ìš© |

### 7.2 LLM í†µí•© ê·œì¹™ ì¤€ìˆ˜

| ê·œì¹™ | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| LangChain ì‚¬ìš© | âœ… langchain-google-genai |
| ì¬ì‹œë„ ë¡œì§ | âœ… max_retries ì„¤ì • |
| í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ | âœ… PromptTemplate í™œìš© |
| ì—ëŸ¬ í•¸ë“¤ë§ | âœ… try-except + ë¡œê¹… |

### 7.3 ì½”ë“œ ì£¼ì„

| í•­ëª© | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| ëª¨ë“ˆ docstring | âœ… ëª¨ë“  .py íŒŒì¼ì— ì„¤ëª… |
| í´ë˜ìŠ¤ docstring | âœ… LLMService í´ë˜ìŠ¤ ì„¤ëª… |
| ë©”ì„œë“œ docstring | âœ… Args, Returns í¬í•¨ |

---

## 8. ì˜ì¡´ì„± ê´€ê³„

### 8.1 ì´ìŠˆ ì˜ì¡´ì„± ê·¸ë˜í”„

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  #008 (AI Engine)   â”‚
                    â”‚       âœ… ì™„ë£Œ        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ enables
                               â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                                         â”‚
          â–¼                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #009 (Orchestration â”‚               â”‚  #011 (PMF Engine)  â”‚
â”‚       BE API)        â”‚               â”‚    (ìœ ì‚¬ êµ¬ì¡°)       â”‚
â”‚      ğŸŸ¡ OPEN         â”‚               â”‚      ğŸŸ¡ OPEN        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ enables
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #015 (k6 ì„±ëŠ¥í…ŒìŠ¤íŠ¸) â”‚
â”‚      ğŸŸ¡ OPEN         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 ì„œë¹„ìŠ¤ í†µí•© êµ¬ì¡° (Future)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Frontend (React)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTP
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Spring Boot Backend (Port 8080)                  â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Issue #009                             â”‚  â”‚
â”‚  â”‚          POST /projects/{id}/documents/                  â”‚  â”‚
â”‚  â”‚               business-plan:generate                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ HTTP (Internal)
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                AI Engine (Port 8001)                           â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Issue #008 âœ…                          â”‚  â”‚
â”‚  â”‚                POST /generate                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. ì»¤ë°‹ íˆìŠ¤í† ë¦¬

| ì»¤ë°‹ | ë©”ì‹œì§€ | ë³€ê²½ íŒŒì¼ |
|------|--------|----------|
| `7e394a4` | feat(ai-engine): implement business plan generation LLM engine | 12 files |

**Conventional Commits ì¤€ìˆ˜:** âœ…

---

## 10. Acceptance Criteria ì²´í¬ë¦¬ìŠ¤íŠ¸

| ê¸°ì¤€ | ìƒíƒœ |
|------|------|
| âœ… FastAPI í”„ë¡œì íŠ¸ ì…‹ì—… | ì™„ë£Œ |
| âœ… POST /generate ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ | ì™„ë£Œ |
| âœ… LangChain Gemini ChatModel ì—°ë™ êµ¬ì¡° | ì™„ë£Œ |
| âœ… PromptTemplate ì •ì˜ (ì„¹ì…˜ë³„) | ì™„ë£Œ |
| âœ… ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§ | ì™„ë£Œ |
| âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± ë° í†µê³¼ | ì™„ë£Œ (5/5) |
| âœ… ë‹¨ì¼ ì‘ë‹µì‹œê°„ ëª¨ë‹ˆí„°ë§ í…ŒìŠ¤íŠ¸ | ì™„ë£Œ (REQ-NF-002) |
| â³ Google Gemini API Key ë°œê¸‰ ë° ì‹¤ì œ í…ŒìŠ¤íŠ¸ | í™˜ê²½ë³€ìˆ˜ ì„¤ì • í•„ìš” |

---

## 11. ì‹¤í–‰ ë°©ë²•

### 11.1 ì‚¬ì „ ì¡°ê±´

1. Python 3.10+ ì„¤ì¹˜
2. Google Gemini API Key ë°œê¸‰ ([aistudio.google.com/apikey](https://aistudio.google.com/apikey))

### 11.2 ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ë””ë ‰í† ë¦¬ ì´ë™
cd ai-engine

# ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
export GEMINI_API_KEY=your-api-key-here

# ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload --port 8001
```

### 11.3 API í…ŒìŠ¤íŠ¸ (cURL)

```bash
# í—¬ìŠ¤ì²´í¬
curl http://localhost:8001/health

# ì‚¬ì—…ê³„íšì„œ ìƒì„±
curl -X POST http://localhost:8001/generate \
  -H "Content-Type: application/json" \
  -d '{
    "answers": {
      "step_1_problem": {"q1": "ë¬¸ì œì…ë‹ˆë‹¤"}
    },
    "template_type": "KSTARTUP_2025"
  }'
```

### 11.4 Swagger UI

ì„œë²„ ì‹¤í–‰ í›„ http://localhost:8001/docs ì ‘ì†

---

## 12. ê²°ë¡ 

### 12.1 ì™„ë£Œ í•­ëª©

- âœ… FastAPI ê¸°ë°˜ AI Engine ì„œë¹„ìŠ¤ êµ¬í˜„
- âœ… LangChain + Google Gemini í†µí•©
- âœ… ì„¹ì…˜ë³„ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ êµ¬í˜„
- âœ… Pydantic ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ Request/Response ì •ì˜
- âœ… ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§
- âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ 4ê°œ ì‘ì„± (100% í†µê³¼)
- âœ… í”„ë¡œì íŠ¸ ë¬¸ì„œí™” (README.md)

### 12.2 ë‹¤ìŒ ë‹¨ê³„

1. PR #14 ë¦¬ë·° ë° Merge
2. Issue #4 Close
3. **Issue #009** (ì‚¬ì—…ê³„íšì„œ ìƒì„± ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API) ì°©ìˆ˜
   - Spring Bootì—ì„œ AI Engine í˜¸ì¶œ
4. **Issue #011** (PMF ì§„ë‹¨ LLM ì—”ì§„) ì°©ìˆ˜
   - ìœ ì‚¬ êµ¬ì¡°ë¡œ í™•ì¥

---

**ë¦¬ë·°ì–´ ì„œëª…:** ________________  
**ë¦¬ë·° ì¼ì:** ________________


```

```markdown
# Issue #008 Implementation Review
## ì‚¬ì—…ê³„íšì„œ ìƒì„± LLM ì—”ì§„ ë° í”„ë¡¬í”„íŠ¸ êµ¬í˜„

**ì‘ì„±ì¼**: 2025-11-28  
**ë¸Œëœì¹˜**: `feat/008-ai-engine`  
**PR**: [#14](https://github.com/wild-mental/bizplan-be-inclass/pull/14)  
**ê´€ë ¨ ì´ìŠˆ**: [#4](https://github.com/wild-mental/bizplan-be-inclass/issues/4)

---

## 1. êµ¬í˜„ ê°œìš”

### 1.1 ì‘ì—… ë²”ìœ„

| í•­ëª© | ì„¤ëª… |
|------|------|
| **API Endpoint** | `GET /health`, `POST /generate` |
| **ì•„í‚¤í…ì²˜** | FastAPI + LangChain + Google Gemini |
| **ì„œë¹„ìŠ¤ íƒ€ì…** | ë…ë¦½ Python ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ (Port 8001) |
| **í…ŒìŠ¤íŠ¸** | pytest + httpx + AsyncMock |

### 1.2 ê¸°ìˆ  ìŠ¤íƒ

- Python 3.10+
- FastAPI 0.115.5
- LangChain 0.3.9
- LangChain Google GenAI 2.0.6
- Pydantic 2.10.2
- pytest 8.3.4

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 ì„œë¹„ìŠ¤ êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    AI Engine (Port 8001)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   FastAPI   â”‚â”€â”€â”€â”€â–¶â”‚  LLMService â”‚â”€â”€â”€â”€â–¶â”‚  Google Gemini  â”‚   â”‚
â”‚  â”‚   main.py   â”‚     â”‚             â”‚     â”‚  (LangChain)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         â”‚                   â”‚                                   â”‚
â”‚         â–¼                   â–¼                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚  â”‚   Schemas   â”‚     â”‚   Config    â”‚                           â”‚
â”‚  â”‚  (Pydantic) â”‚     â”‚  (Settings) â”‚                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Spring Boot Backend (Port 8080)                    â”‚
â”‚                    (Future: Issue #009)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ë°ì´í„° í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    POST /generate     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    ì„¹ì…˜ë³„ í”„ë¡¬í”„íŠ¸    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Client  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  FastAPI â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  Gemini  â”‚
â”‚ (Spring) â”‚                       â”‚   App    â”‚                      â”‚   LLM    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â–²                                  â”‚                                 â”‚
     â”‚                                  â”‚                                 â”‚
     â”‚     GenerateResponse             â”‚      ì„¹ì…˜ë³„ í…ìŠ¤íŠ¸              â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 í”„ë¡¬í”„íŠ¸ ì²´ì´ë‹ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Wizard Answers (JSON)                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  step_1_problem: { q1: "...", q2: "..." }                       â”‚
â”‚  step_2_solution: { q1: "...", q2: "..." }                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Section-Answer Mapping                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  problem_definition â”‚ â—€â”€â”€ â”‚   step_1_problem    â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  solution_approach  â”‚ â—€â”€â”€ â”‚   step_2_solution   â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚   market_analysis   â”‚ â—€â”€â”€ â”‚   all_answers       â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PromptTemplate (Per Section)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Role: "ì •ë¶€ ì§€ì›ì‚¬ì—… ì‹¬ì‚¬ìœ„ì› ê²½í—˜ì´ í’ë¶€í•œ ì „ë¬¸ ì°½ì—… ì»¨ì„¤í„´íŠ¸"   â”‚
â”‚  Context: {user_answers}                                        â”‚
â”‚  Task: "ì„¹ì…˜ë³„ ì´ˆì•ˆ ì‘ì„±"                                         â”‚
â”‚  Format: "2-3ê°œ ë¬¸ë‹¨, 300-500ì"                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Generated Sections                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  {                                                              â”‚
â”‚    "problem_definition": "ì‚¬ì—… ì•„ì´í…œì˜ í•„ìš”ì„±...",               â”‚
â”‚    "solution_approach": "í•´ê²° ë°©ì•ˆ...",                          â”‚
â”‚    "market_analysis": "ì‹œì¥ ë¶„ì„..."                             â”‚
â”‚  }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. êµ¬í˜„ íŒŒì¼ ëª©ë¡

### 3.1 Production Code (8ê°œ íŒŒì¼)

```
ai-engine/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py                 # íŒ¨í‚¤ì§€ ì´ˆê¸°í™”
â”‚   â”œâ”€â”€ main.py                     # FastAPI ì•± (ì—”ë“œí¬ì¸íŠ¸ ì •ì˜)
â”‚   â”œâ”€â”€ config.py                   # í™˜ê²½ë³€ìˆ˜ ì„¤ì • (Pydantic Settings)
â”‚   â”œâ”€â”€ schemas.py                  # Request/Response ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ services/
â”‚       â”œâ”€â”€ __init__.py             # ì„œë¹„ìŠ¤ íŒ¨í‚¤ì§€
â”‚       â””â”€â”€ llm_service.py          # LangChain + Gemini ì„œë¹„ìŠ¤
â”œâ”€â”€ requirements.txt                # Python ì˜ì¡´ì„±
â”œâ”€â”€ pytest.ini                      # pytest ì„¤ì •
â”œâ”€â”€ .gitignore                      # Python í”„ë¡œì íŠ¸ìš© gitignore
â””â”€â”€ README.md                       # í”„ë¡œì íŠ¸ ë¬¸ì„œ
```

### 3.2 Test Code (2ê°œ íŒŒì¼)

```
ai-engine/tests/
â”œâ”€â”€ __init__.py
â””â”€â”€ test_generate.py                # 5ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ (ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ í¬í•¨)
```

---

## 4. í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ì„¤ëª…

### 4.1 LLMService í´ë˜ìŠ¤

| ë©”ì„œë“œ | ì„¤ëª… | ë°˜í™˜ íƒ€ì… |
|--------|------|----------|
| `is_configured()` | API Key ì„¤ì • ì—¬ë¶€ í™•ì¸ | `bool` |
| `generate_section()` | ë‹¨ì¼ ì„¹ì…˜ ìƒì„± (ë¹„ë™ê¸°) | `str` |
| `generate_all_sections()` | ëª¨ë“  ì„¹ì…˜ ìƒì„± (ë¹„ë™ê¸°) | `Dict[str, str]` |
| `_format_answers()` | ë‹µë³€ì„ í”„ë¡¬í”„íŠ¸ìš© ë¬¸ìì—´ë¡œ ë³€í™˜ | `str` |

### 4.2 í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿

| ì„¹ì…˜ | í”„ë¡¬í”„íŠ¸ ì£¼ìš” ì§€ì‹œì‚¬í•­ |
|------|----------------------|
| `problem_definition` | ë¬¸ì œì  3ê°€ì§€ ì´ìƒ, ê¸°ì¡´ í•œê³„ì , íŒŒê¸‰íš¨ê³¼ |
| `solution_approach` | ê°€ì¹˜ ì œì•ˆ, ì°¨ë³„í™” í¬ì¸íŠ¸ 3ê°€ì§€, ì‹¤í˜„ ê°€ëŠ¥ì„± |
| `market_analysis` | TAM-SAM-SOM, ê²½ìŸ ë¶„ì„, ì§„ì… ì „ëµ |

### 4.3 í™˜ê²½ë³€ìˆ˜ ì„¤ì •

| ë³€ìˆ˜ëª… | í•„ìˆ˜ | ê¸°ë³¸ê°’ | ì„¤ëª… |
|--------|------|--------|------|
| `GEMINI_API_KEY` | âœ… | - | Google Gemini API Key |
| `APP_ENV` | - | `development` | ì‹¤í–‰ í™˜ê²½ |
| `LOG_LEVEL` | - | `INFO` | ë¡œê·¸ ë ˆë²¨ |
| `LLM_MODEL` | - | `gemini-1.5-flash` | ì‚¬ìš©í•  Gemini ëª¨ë¸ |
| `LLM_TEMPERATURE` | - | `0.7` | ìƒì„± ì˜¨ë„ (ì°½ì˜ì„±) |
| `LLM_MAX_RETRIES` | - | `3` | LLM ì˜¤ë¥˜ ì‹œ ì¬ì‹œë„ íšŸìˆ˜ |

---

## 5. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼

### 5.1 í…ŒìŠ¤íŠ¸ ìš”ì•½

| í•­ëª© | ê°’ |
|------|-----|
| **ì´ í…ŒìŠ¤íŠ¸ ìˆ˜** | 5 |
| **ì„±ê³µ** | 5 |
| **ì‹¤íŒ¨** | 0 |
| **ì„±ê³µë¥ ** | **100%** |
| **ì‹¤í–‰ ì‹œê°„** | 0.93s |

### 5.2 ê°œë³„ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

| í…ŒìŠ¤íŠ¸ëª… | ì„¤ëª… | ê²°ê³¼ |
|---------|------|------|
| `test_health_check` | GET /health 200 OK ê²€ì¦ | âœ… PASS |
| `test_generate_without_api_key` | API Key ì—†ì„ ë•Œ 503 ë°˜í™˜ | âœ… PASS |
| `test_generate_with_empty_answers` | ë¹ˆ answers ì‹œ 400 ë°˜í™˜ | âœ… PASS |
| `test_generate_with_mocked_llm` | Mock LLMìœ¼ë¡œ ì •ìƒ ìƒì„± | âœ… PASS |
| `test_generate_response_time_within_threshold` | **ë‹¨ì¼ ì‘ë‹µì‹œê°„ â‰¤ 10ì´ˆ** (REQ-NF-002) | âœ… PASS |
| `test_generate_with_mocked_llm` | Mock LLMìœ¼ë¡œ ì •ìƒ ìƒì„± | âœ… PASS |

### 5.3 í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ëª…ë ¹ì–´

```bash
cd ai-engine
source venv/bin/activate
pytest tests/ -v
```

---

## 6. API ëª…ì„¸

### 6.1 GET /health

**Request:**
```http
GET /health HTTP/1.1
Host: localhost:8001
```

**Response (200 OK):**
```json
{
  "status": "ok",
  "service": "ai-engine",
  "llm_configured": true
}
```

### 6.2 POST /generate

**Request:**
```http
POST /generate HTTP/1.1
Host: localhost:8001
Content-Type: application/json

{
  "answers": {
    "step_1_problem": {
      "q1": "ê¸°ì¡´ ì‚¬ì—…ê³„íšì„œ ì‘ì„± ë„êµ¬ëŠ” ë³µì¡í•©ë‹ˆë‹¤.",
      "q2": "ì°½ì—…ìê°€ í•µì‹¬ì— ì§‘ì¤‘í•˜ì§€ ëª»í•©ë‹ˆë‹¤."
    },
    "step_2_solution": {
      "q1": "AIë¡œ ìë™ ì´ˆì•ˆì„ ìƒì„±í•©ë‹ˆë‹¤.",
      "q2": "Wizardë¡œ ë‹¨ê³„ë³„ ì•ˆë‚´í•©ë‹ˆë‹¤."
    }
  },
  "template_type": "KSTARTUP_2025"
}
```

**Response (200 OK):**
```json
{
  "sections": {
    "problem_definition": "í˜„ì¬ ì‹œì¥ì—ì„œ ì°½ì—…ìë“¤ì´ ì§ë©´í•˜ëŠ” ê°€ì¥ í° ë¬¸ì œì ì€...",
    "solution_approach": "ë³¸ ì‚¬ì—… ì•„ì´í…œì€ AI ê¸°ë°˜ ìë™ ì´ˆì•ˆ ìƒì„±ì„ í†µí•´...",
    "market_analysis": "êµ­ë‚´ ì°½ì—… ì§€ì› ì‹œì¥ì€ ì—°ê°„ ì•½ 3ì¡° ì› ê·œëª¨ë¡œ..."
  },
  "generated_at": "2025-11-28T10:30:00Z"
}
```

### 6.3 ì—ëŸ¬ ì‘ë‹µ

#### LLM ë¯¸ì„¤ì • (503 Service Unavailable)
```json
{
  "detail": {
    "error": "LLM_NOT_CONFIGURED",
    "message": "GEMINI_API_KEYê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.",
    "detail": "í™˜ê²½ë³€ìˆ˜ GEMINI_API_KEYë¥¼ ì„¤ì •í•´ì£¼ì„¸ìš”."
  }
}
```

#### ë¹ˆ ì…ë ¥ (400 Bad Request)
```json
{
  "detail": {
    "error": "INVALID_REQUEST",
    "message": "answers í•„ë“œê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.",
    "detail": "ìµœì†Œ í•˜ë‚˜ ì´ìƒì˜ ë‹µë³€ì„ ì…ë ¥í•´ì£¼ì„¸ìš”."
  }
}
```

---

## 7. ì½”ë“œ í’ˆì§ˆ ê²€ì¦

### 7.1 ì•„í‚¤í…ì²˜ ê·œì¹™ ì¤€ìˆ˜

| ê·œì¹™ | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| ì„œë¹„ìŠ¤ ë¶„ë¦¬ (ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤) | âœ… FastAPI ë…ë¦½ ì„œë¹„ìŠ¤ |
| ì˜ì¡´ì„± ì£¼ì… | âœ… Singleton íŒ¨í„´ ì ìš© |
| ë¹„ë™ê¸° ì²˜ë¦¬ | âœ… async/await ì‚¬ìš© |
| í™˜ê²½ë³€ìˆ˜ ê¸°ë°˜ ì„¤ì • | âœ… Pydantic Settings ì‚¬ìš© |

### 7.2 LLM í†µí•© ê·œì¹™ ì¤€ìˆ˜

| ê·œì¹™ | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| LangChain ì‚¬ìš© | âœ… langchain-google-genai |
| ì¬ì‹œë„ ë¡œì§ | âœ… max_retries ì„¤ì • |
| í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ | âœ… PromptTemplate í™œìš© |
| ì—ëŸ¬ í•¸ë“¤ë§ | âœ… try-except + ë¡œê¹… |

### 7.3 ì½”ë“œ ì£¼ì„

| í•­ëª© | ì¤€ìˆ˜ ì—¬ë¶€ |
|------|----------|
| ëª¨ë“ˆ docstring | âœ… ëª¨ë“  .py íŒŒì¼ì— ì„¤ëª… |
| í´ë˜ìŠ¤ docstring | âœ… LLMService í´ë˜ìŠ¤ ì„¤ëª… |
| ë©”ì„œë“œ docstring | âœ… Args, Returns í¬í•¨ |

---

## 8. ì˜ì¡´ì„± ê´€ê³„

### 8.1 ì´ìŠˆ ì˜ì¡´ì„± ê·¸ë˜í”„

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  #008 (AI Engine)   â”‚
                    â”‚       âœ… ì™„ë£Œ        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ enables
                               â–¼
          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
          â”‚                                         â”‚
          â–¼                                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #009 (Orchestration â”‚               â”‚  #011 (PMF Engine)  â”‚
â”‚       BE API)        â”‚               â”‚    (ìœ ì‚¬ êµ¬ì¡°)       â”‚
â”‚      ğŸŸ¡ OPEN         â”‚               â”‚      ğŸŸ¡ OPEN        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â”‚ enables
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  #015 (k6 ì„±ëŠ¥í…ŒìŠ¤íŠ¸) â”‚
â”‚      ğŸŸ¡ OPEN         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 8.2 ì„œë¹„ìŠ¤ í†µí•© êµ¬ì¡° (Future)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Frontend (React)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTP
                             â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Spring Boot Backend (Port 8080)                  â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Issue #009                             â”‚  â”‚
â”‚  â”‚          POST /projects/{id}/documents/                  â”‚  â”‚
â”‚  â”‚               business-plan:generate                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                             â”‚                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚ HTTP (Internal)
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                AI Engine (Port 8001)                           â”‚
â”‚                                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                   Issue #008 âœ…                          â”‚  â”‚
â”‚  â”‚                POST /generate                            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 9. ì»¤ë°‹ íˆìŠ¤í† ë¦¬

| ì»¤ë°‹ | ë©”ì‹œì§€ | ë³€ê²½ íŒŒì¼ |
|------|--------|----------|
| `7e394a4` | feat(ai-engine): implement business plan generation LLM engine | 12 files |

**Conventional Commits ì¤€ìˆ˜:** âœ…

---

## 10. Acceptance Criteria ì²´í¬ë¦¬ìŠ¤íŠ¸

| ê¸°ì¤€ | ìƒíƒœ |
|------|------|
| âœ… FastAPI í”„ë¡œì íŠ¸ ì…‹ì—… | ì™„ë£Œ |
| âœ… POST /generate ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„ | ì™„ë£Œ |
| âœ… LangChain Gemini ChatModel ì—°ë™ êµ¬ì¡° | ì™„ë£Œ |
| âœ… PromptTemplate ì •ì˜ (ì„¹ì…˜ë³„) | ì™„ë£Œ |
| âœ… ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§ | ì™„ë£Œ |
| âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± ë° í†µê³¼ | ì™„ë£Œ (5/5) |
| âœ… ë‹¨ì¼ ì‘ë‹µì‹œê°„ ëª¨ë‹ˆí„°ë§ í…ŒìŠ¤íŠ¸ | ì™„ë£Œ (REQ-NF-002) |
| â³ Google Gemini API Key ë°œê¸‰ ë° ì‹¤ì œ í…ŒìŠ¤íŠ¸ | í™˜ê²½ë³€ìˆ˜ ì„¤ì • í•„ìš” |

---

## 11. ì‹¤í–‰ ë°©ë²•

### 11.1 ì‚¬ì „ ì¡°ê±´

1. Python 3.10+ ì„¤ì¹˜
2. Google Gemini API Key ë°œê¸‰ ([aistudio.google.com/apikey](https://aistudio.google.com/apikey))

### 11.2 ì„¤ì¹˜ ë° ì‹¤í–‰

```bash
# ë””ë ‰í† ë¦¬ ì´ë™
cd ai-engine

# ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
python3 -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# í™˜ê²½ë³€ìˆ˜ ì„¤ì •
export GEMINI_API_KEY=your-api-key-here

# ì„œë²„ ì‹¤í–‰
uvicorn app.main:app --reload --port 8001
```

### 11.3 API í…ŒìŠ¤íŠ¸ (cURL)

```bash
# í—¬ìŠ¤ì²´í¬
curl http://localhost:8001/health

# ì‚¬ì—…ê³„íšì„œ ìƒì„±
curl -X POST http://localhost:8001/generate \
  -H "Content-Type: application/json" \
  -d '{
    "answers": {
      "step_1_problem": {"q1": "ë¬¸ì œì…ë‹ˆë‹¤"}
    },
    "template_type": "KSTARTUP_2025"
  }'
```

### 11.4 Swagger UI

ì„œë²„ ì‹¤í–‰ í›„ http://localhost:8001/docs ì ‘ì†

---

## 12. ë¯¸êµ¬í˜„ í•­ëª© ë° í–¥í›„ ê°œì„  ì‚¬í•­

### 12.1 SRS ì„±ëŠ¥ ìš”êµ¬ì‚¬í•­ ëŒ€ë¹„ í˜„í™©

| ìš”êµ¬ì‚¬í•­ | ëª©í‘œ | í˜„ì¬ ìƒíƒœ | ë¹„ê³  |
|----------|------|----------|------|
| **REQ-NF-002** | p95 â‰¤ 10ì´ˆ | â³ ë¶€ë¶„ êµ¬í˜„ | ë‹¨ì¼ ì‘ë‹µì‹œê°„ í…ŒìŠ¤íŠ¸ ì™„ë£Œ, p95 ì¸¡ì •ì€ k6 í•„ìš” |
| **REQ-NF-004** | ì˜¤ë¥˜ìœ¨ â‰¤ 0.5%/ì›” | âŒ ë¯¸êµ¬í˜„ | APM ì—°ë™ í•„ìš” |
| **REQ-NF-009** | 1,000 ë™ì‹œ ì„¸ì…˜ | âŒ ë¯¸ì‹¤ì‹œ | k6 ë¶€í•˜ í…ŒìŠ¤íŠ¸ ëŒ€ê¸° (#015) |

### 12.2 ë¯¸êµ¬í˜„ í•­ëª© ìƒì„¸

#### ğŸ”´ í•„ìˆ˜ êµ¬í˜„ í•­ëª© (Post-MVP ë˜ëŠ” #009 ì—°ë™ ì‹œ)

| í•­ëª© | ì„¤ëª… | ìš°ì„ ìˆœìœ„ | ê´€ë ¨ ì´ìŠˆ |
|------|------|----------|----------|
| **LLM í˜¸ì¶œ íƒ€ì„ì•„ì›ƒ** | 10ì´ˆ SLAë¥¼ ìœ„í•´ 8ì´ˆ íƒ€ì„ì•„ì›ƒ ì„¤ì • í•„ìš” | High | #009 |
| **ì‘ë‹µì‹œê°„ ë©”íŠ¸ë¦­ ìˆ˜ì§‘** | Prometheus/OpenTelemetry ì—°ë™ | Medium | #014 |
| **k6 ë¶€í•˜ í…ŒìŠ¤íŠ¸** | p95 ì‘ë‹µì‹œê°„ ì‹¤ì¸¡ ë° ë™ì‹œ ì‚¬ìš©ì í…ŒìŠ¤íŠ¸ | High | #015 |

#### ğŸŸ¡ ê¶Œì¥ ê°œì„  í•­ëª© (ì„±ëŠ¥ ìµœì í™”)

| í•­ëª© | ì„¤ëª… | ì˜ˆìƒ íš¨ê³¼ | ë³µì¡ë„ |
|------|------|----------|--------|
| **ì„¹ì…˜ ë³‘ë ¬ ìƒì„±** | í˜„ì¬ ìˆœì°¨ ì²˜ë¦¬ â†’ asyncio.gatherë¡œ ë³‘ë ¬í™” | ì‘ë‹µì‹œê°„ ~60% ë‹¨ì¶• | Medium |
| **ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ** | SSE/WebSocketìœ¼ë¡œ ì‹¤ì‹œê°„ ìƒì„± ê²°ê³¼ ì „ì†¡ | UX ê°œì„ , ì²´ê° ì†ë„ í–¥ìƒ | High |
| **ì‘ë‹µ ìºì‹±** | ë™ì¼ ì…ë ¥ì— ëŒ€í•œ ê²°ê³¼ ìºì‹± | ì¤‘ë³µ ìš”ì²­ ì²˜ë¦¬ ì†ë„ í–¥ìƒ | Low |

### 12.3 ë¯¸êµ¬í˜„ í•­ëª© ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         í˜„ì¬ êµ¬í˜„ vs ëª©í‘œ êµ¬í˜„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  í˜„ì¬ (v0.1.0):                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚  â”‚  FastAPI â”‚â”€â”€â”€â”€â–¶â”‚LLMServiceâ”‚â”€â”€â”€â”€â–¶â”‚  Gemini  â”‚                         â”‚
â”‚  â”‚          â”‚     â”‚ (ìˆœì°¨)   â”‚     â”‚          â”‚                         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚       âŒ íƒ€ì„ì•„ì›ƒ ì—†ìŒ   âŒ ë©”íŠ¸ë¦­ ì—†ìŒ                                    â”‚
â”‚                                                                          â”‚
â”‚  ëª©í‘œ (v1.0.0):                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚  FastAPI â”‚â”€â”€â”€â”€â–¶â”‚LLMServiceâ”‚â”€â”€â”€â”€â–¶â”‚  Gemini  â”‚â”€â”€â”€â”€â–¶â”‚Prometheusâ”‚        â”‚
â”‚  â”‚ +Timeout â”‚     â”‚ (ë³‘ë ¬)   â”‚     â”‚ +Retry   â”‚     â”‚ Metrics  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â”‚       âœ… 8ì´ˆ íƒ€ì„ì•„ì›ƒ   âœ… asyncio.gather   âœ… ì‘ë‹µì‹œê°„ ë©”íŠ¸ë¦­            â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 13. ê²°ë¡ 

### 13.1 ì™„ë£Œ í•­ëª©

- âœ… FastAPI ê¸°ë°˜ AI Engine ì„œë¹„ìŠ¤ êµ¬í˜„
- âœ… LangChain + Google Gemini í†µí•©
- âœ… ì„¹ì…˜ë³„ í”„ë¡¬í”„íŠ¸ í…œí”Œë¦¿ êµ¬í˜„
- âœ… Pydantic ìŠ¤í‚¤ë§ˆ ê¸°ë°˜ Request/Response ì •ì˜
- âœ… ì—ëŸ¬ í•¸ë“¤ë§ ë° ì¬ì‹œë„ ë¡œì§
- âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ 5ê°œ ì‘ì„± (100% í†µê³¼)
- âœ… **ë‹¨ì¼ ì‘ë‹µì‹œê°„ ëª¨ë‹ˆí„°ë§ í…ŒìŠ¤íŠ¸** (REQ-NF-002)
- âœ… í”„ë¡œì íŠ¸ ë¬¸ì„œí™” (README.md)

### 13.2 ë‹¤ìŒ ë‹¨ê³„

1. PR #14 ë¦¬ë·° ë° Merge
2. Issue #4 Close
3. **Issue #009** (ì‚¬ì—…ê³„íšì„œ ìƒì„± ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ API) ì°©ìˆ˜
   - Spring Bootì—ì„œ AI Engine í˜¸ì¶œ
   - LLM í˜¸ì¶œ íƒ€ì„ì•„ì›ƒ ì„¤ì • ì¶”ê°€
4. **Issue #011** (PMF ì§„ë‹¨ LLM ì—”ì§„) ì°©ìˆ˜
   - ìœ ì‚¬ êµ¬ì¡°ë¡œ í™•ì¥
5. **Issue #014** (ëª¨ë‹ˆí„°ë§) ë° **Issue #015** (k6 í…ŒìŠ¤íŠ¸)
   - ì‘ë‹µì‹œê°„ ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ë° p95 ì‹¤ì¸¡

---

**ë¦¬ë·°ì–´ ì„œëª…:** ________________  
**ë¦¬ë·° ì¼ì:** ________________


```

## âœ… ì‘ì—… ì™„ë£Œ

### ğŸ“‹ ìˆ˜í–‰ëœ ì‘ì—…

| ì‘ì—… | ìƒíƒœ | ë‚´ìš© |
|------|------|------|
| ë‹¨ì¼ ì‘ë‹µì‹œê°„ í…ŒìŠ¤íŠ¸ ì¶”ê°€ | âœ… | `test_generate_response_time_within_threshold` (REQ-NF-002) |
| ë¦¬ë·° ë¬¸ì„œ ì—…ë°ì´íŠ¸ | âœ… | ë¯¸êµ¬í˜„ í•­ëª© ì„¹ì…˜ (12ì¥) ì¶”ê°€ |
| PR ë¬¸ì„œ ì—…ë°ì´íŠ¸ | âœ… | ë¯¸êµ¬í˜„ í•­ëª© ë° í–¥í›„ ê°œì„  ì‚¬í•­ í¬í•¨ |
| ì»¤ë°‹ & í‘¸ì‹œ | âœ… | `ed2c818` â†’ `origin/feat/008-ai-engine` |

---

### ğŸ§ª ì¶”ê°€ëœ í…ŒìŠ¤íŠ¸

```python
@pytest.mark.anyio
async def test_generate_response_time_within_threshold():
    """
    SRS REQ-NF-002: ë¬¸ì„œ ìƒì„± p95 ì‘ë‹µì‹œê°„ â‰¤ 10ì´ˆ
    """
    # ì‘ë‹µ ì‹œê°„ ì¸¡ì •
    assert response_time < PERFORMANCE_THRESHOLD_SECONDS  # 10ì´ˆ
```

**í…ŒìŠ¤íŠ¸ ê²°ê³¼**: 5/5 í†µê³¼ âœ…

---

### ğŸ“„ ë¦¬ë·° ë¬¸ì„œì— ì¶”ê°€ëœ ë¯¸êµ¬í˜„ í•­ëª©

| ìš”êµ¬ì‚¬í•­ | í˜„ì¬ ìƒíƒœ | í•„ìš” ì¡°ì¹˜ |
|----------|----------|----------|
| **REQ-NF-002** (p95 â‰¤ 10ì´ˆ) | â³ ë¶€ë¶„ êµ¬í˜„ | k6 ë¶€í•˜ í…ŒìŠ¤íŠ¸ (#015) |
| **REQ-NF-004** (ì˜¤ë¥˜ìœ¨ â‰¤ 0.5%) | âŒ ë¯¸êµ¬í˜„ | APM ì—°ë™ í•„ìš” |
| **REQ-NF-009** (1,000 ë™ì‹œ ì„¸ì…˜) | âŒ ë¯¸ì‹¤ì‹œ | k6 í…ŒìŠ¤íŠ¸ ëŒ€ê¸° |

**í•„ìˆ˜ ê°œì„  í•­ëª©**:
- LLM í˜¸ì¶œ íƒ€ì„ì•„ì›ƒ (8ì´ˆ) â†’ #009 ì—°ë™ ì‹œ
- ì„¹ì…˜ ë³‘ë ¬ ìƒì„± (asyncio.gather) â†’ ì„±ëŠ¥ ìµœì í™”
- ì‘ë‹µì‹œê°„ ë©”íŠ¸ë¦­ ìˆ˜ì§‘ â†’ #014 (ëª¨ë‹ˆí„°ë§)

---

### ğŸ”— ì»¤ë°‹ ì •ë³´

```
ed2c818 test(perf): add response time monitoring test for REQ-NF-002
```

**PR**: https://github.com/wild-mental/bizplan-be-inclass/pull/14

```python
@pytest.mark.anyio
async def test_generate_response_time_within_threshold():
    """
    SRS REQ-NF-002: ë¬¸ì„œ ìƒì„± p95 ì‘ë‹µì‹œê°„ â‰¤ 10ì´ˆ
    """
    # ì‘ë‹µ ì‹œê°„ ì¸¡ì •
    assert response_time < PERFORMANCE_THRESHOLD_SECONDS  # 10ì´ˆ
```

```plaintext
ed2c818 test(perf): add response time monitoring test for REQ-NF-002
```

