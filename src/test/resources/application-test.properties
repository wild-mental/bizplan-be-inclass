spring.application.name=bizplan-be-inclass-test

# ============================================
# Test Profile: SQLite (별도 파일 사용)
# ============================================

# 실제 서비스 DB와 분리된 테스트 전용 SQLite 파일 사용
spring.datasource.url=jdbc:sqlite:./data/bizplan-test.db
spring.datasource.driver-class-name=org.sqlite.JDBC
spring.datasource.username=
spring.datasource.password=

# JPA / Hibernate (스키마는 Flyway가 관리)
spring.jpa.database-platform=org.hibernate.community.dialect.SQLiteDialect
spring.jpa.properties.hibernate.dialect=org.hibernate.community.dialect.SQLiteDialect
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=false

# Flyway: 메인과 동일한 마이그레이션 경로 사용 (SQLite용 스크립트)
spring.flyway.enabled=true
spring.flyway.baseline-on-migrate=true
spring.flyway.locations=classpath:db/migration/sqlite
spring.flyway.baseline-version=0

# HikariCP: SQLite는 단일 쓰기 락이므로 커넥션 풀 최소화
spring.datasource.hikari.maximum-pool-size=1
spring.datasource.hikari.minimum-idle=1

# 테스트용 서버 포트 (사용하지 않지만 명시)
server.port=0

# AI Engine URL (통합테스트에서 실제 LLM 호출 시 사용)
ai.engine.url=${AI_ENGINE_URL:http://localhost:8001}

# Spring AI - Google Gemini (통합테스트 시 환경변수에서 키 주입)
spring.ai.google.genai.api-key=${GEMINI_API_KEY:}
spring.ai.google.genai.chat.options.model=gemini-2.5-flash-lite
spring.ai.google.genai.chat.options.temperature=0.8
spring.ai.google.genai.chat.options.top-p=0.9

# Security: 테스트에서는 JWT 시크릿이 필요할 수 있으므로 기본값 지정
app.security.jwt-secret=${JWT_SECRET:test-jwt-secret}
app.security.encryption-key=${ENCRYPTION_KEY:test-encryption-key}


