# BizPlan ë°±ì—”ë“œ - ì˜ˆë¹„ ì°½ì—…ìë¥¼ ìœ„í•œ AI ì½”íŒŒì¼ëŸ¿

[![Java](https://img.shields.io/badge/Java-21-orange.svg)](https://openjdk.java.net/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-4.0.0-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Python](https://img.shields.io/badge/Python-3.10+-blue.svg)](https://www.python.org/)
[![FastAPI](https://img.shields.io/badge/FastAPI-Latest-009688.svg)](https://fastapi.tiangolo.com/)
[![License](https://img.shields.io/badge/License-Proprietary-red.svg)]()

## ğŸ“– ê°œìš”

**BizPlan Backend**ëŠ” ë³µì¡í•œ ì‚¬ì—…ê³„íšì„œ ì‘ì„±ì„ ë°ì´í„° ê¸°ë°˜ì˜ ì˜ì‚¬ê²°ì • ì—¬ì •ìœ¼ë¡œ ë°”ê¾¸ì–´ì£¼ëŠ” ì§€ëŠ¥í˜• ë°±ì—”ë“œ ì‹œìŠ¤í…œì…ë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ëŠ” ì˜ˆë¹„ ì°½ì—…ìê°€ ì •ë¶€ì§€ì›ê¸ˆ, ëŒ€ì¶œ ë“± ë‹¤ì–‘í•œ ìê¸ˆ ì¡°ë‹¬ ê´€ë¬¸ì„ ë¹ ë¥´ê²Œ í†µê³¼í•˜ê³  ë³¸ì§ˆì ì¸ ì„±ì¥ì— ì§‘ì¤‘í•  ìˆ˜ ìˆë„ë¡ ë•ëŠ” AI íŒŒíŠ¸ë„ˆì…ë‹ˆë‹¤.

### ë¹„ì „

ê²½í—˜ì´ ë¶€ì¡±í•œ ì°½ì—…ìë¼ë„ 30ë¶„ ì´ë‚´ì— ì „ë¬¸ê°€ ìˆ˜ì¤€ì˜ ì œì¶œìš© ì‚¬ì—…ê³„íšì„œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆë„ë¡ í•˜ì—¬ ì°½ì—… ì‹¤íŒ¨ìœ¨ì„ ë‚®ì¶”ëŠ” ê²ƒ.

### ì£¼ìš” ê¸°ëŠ¥

- **ì ‘ìˆ˜ ë§ˆë²•ì‚¬**: ì •ë¶€/ì€í–‰ìš© ì–‘ì‹ì„ 100% í…œí”Œë¦¿ í˜¸í™˜ìœ¼ë¡œ ë‹¨ê³„ë³„ ê°€ì´ë“œ ì œê³µ
- **ì¬ë¬´ ìë™ ì—”ì§„**: ì£¼ìš” ë³€ìˆ˜ ì…ë ¥ë§Œìœ¼ë¡œ 3ë…„ P&L ë° í˜„ê¸ˆíë¦„í‘œ ìë™ ì‚°ì¶œ
- **AI ì´ˆì•ˆ ì‘ì„±ê¸°**: ë¬¸ë§¥ ê¸°ë°˜ ê¸€ì“°ê¸° ì§€ì›(Easy/Expert ëª¨ë“œ ì œê³µ, Google Gemini ê¸°ë°˜)
- **PMF ì§„ë‹¨**: í‘œì¤€ í”„ë ˆì„ì›Œí¬ë¡œ ì œí’ˆ-ì‹œì¥ ì í•©ì„± ë° ìœ„í—˜ ë¶„ì„
- **ë¬¸ì„œ ë‚´ë³´ë‚´ê¸°**: í´ë¦­ í•œ ë²ˆìœ¼ë¡œ í‘œì¤€ ì œì¶œìš© HWP/PDF ì™„ì„±

### ëŒ€ìƒ ì‚¬ìš©ì

- **ì˜ˆë¹„ ì°½ì—…ì**: ë¹„ì¦ˆë‹ˆìŠ¤ ë…¼ë¦¬ì™€ ìš©ì–´ì— ì–´ë ¤ì›€ì„ ê²ªëŠ” ë¹„ì „ë¬¸ê°€
- **ì†Œìƒê³µì¸**: ì€í–‰ ëŒ€ì¶œì´ í•„ìš”í•˜ì§€ë§Œ ì¬ë¬´ ëª¨ë¸ë§ì— ìµìˆ™ì§€ ì•Šì€ ì‚¬ìš©ì
- **ì—°ì‡„ ì°½ì—…ê°€**: ë³¸ê²© í™•ì¥ ì „ PMFÂ·ë‹¨ìœ„ ê²½ì œì„± ê²€ì¦ì´ í•„ìš”í•œ ë¶„

## ğŸ¯ ì„±ê³µ ì§€í‘œ

| ì§€í‘œ | ëª©í‘œ |
|------|------|
| **Time-to-Value (TTV)** | ì²« ì œì¶œìš© ì´ˆì•ˆê¹Œì§€ 30ë¶„ ì´ë‚´ |
| **ì´ˆê¸° í™œì„±í™”ìœ¨** | ì²« ì„¸ì…˜ ë‚´ 40% ì´ìƒ ì´ˆì•ˆ ì™„ì„± |
| **í†µê³¼ìœ¨** | ì œì¶œì•ˆ ì¤‘ 65% ì´ìƒ ìŠ¹ì¸ |
| **ë§ˆë²•ì‚¬ ì§€ì—°** | ë‹¨ê³„ ì „í™˜ 800ms ì´í•˜(p95) |
| **ë¬¸ì„œ ìƒì„±** | ì „ì²´ ì´ˆì•ˆ ìƒì„± 10ì´ˆ ì´í•˜(p95) |

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### ì‹œìŠ¤í…œ êµ¬ì„±

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      REST API       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚                      â”‚
â”‚  í”„ë¡ íŠ¸ì—”ë“œ(SPA)â”‚                      â”‚  Spring Boot Core    â”‚
â”‚  React + Vite   â”‚                      â”‚  (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)     â”‚
â”‚                 â”‚                      â”‚                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                    â”‚
                                         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                         â”‚                      â”‚
                                         â”‚   MySQL ë°ì´í„°ë² ì´ìŠ¤  â”‚
                                         â”‚   (InnoDB, utf8mb4)  â”‚
                                         â”‚                      â”‚
                                         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                    
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      REST API       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Spring Boot    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  Python FastAPI      â”‚
â”‚  Core           â”‚                      â”‚  AI/ë¬¸ì„œ ì—”ì§„        â”‚
â”‚                 â”‚                      â”‚  (LangChain)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì„¤ê³„ ì›ì¹™

- **ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ì¤€ë¹„**: ì½”ì–´ APIì™€ AI ì—”ì§„ì€ REST í†µì‹ 
- **ê´€ì‹¬ì‚¬ ë¶„ë¦¬**: 
  - AI ì´ˆì•ˆ(LLM ê¸°ë°˜, ì°½ì˜ì )
  - ì¬ë¬´ ì—”ì§„(ë£° ê¸°ë°˜, ê²°ì •ì  - í™˜ê° ì—†ìŒ)
- **ë³´ì•ˆ ìš°ì„ **:
  - ëª¨ë“  ì „ì†¡ êµ¬ê°„ TLS 1.2+
  - ì €ì¥ ë°ì´í„° AES-256 ì•”í˜¸í™”
  - ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë³„ ë°ì´í„° ê²©ë¦¬
- **API-ìš°ì„  ì„¤ê³„**: ëª¨ë“  ì„œë¹„ìŠ¤ëŠ” ë¬¸ì„œí™”ëœ REST API ì œê³µ

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### ë°±ì—”ë“œ ì½”ì–´ (Spring Boot)

- **ì–¸ì–´**: Java 21 (LTS)
- **í”„ë ˆì„ì›Œí¬**: Spring Boot 4.0.0
- **ë¹Œë“œ ë„êµ¬**: Gradle (Kotlin DSL)
- **DB**: MySQL 8.x (InnoDB, utf8mb4)
- **ORM**: Spring Data JPA (Hibernate)
- **í…ŒìŠ¤íŠ¸**: JUnit 5, Mockito, AssertJ

### AI & ë¬¸ì„œ ì—”ì§„ (Python)

- **ì–¸ì–´**: Python 3.10+
- **í”„ë ˆì„ì›Œí¬**: FastAPI
- **AI ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜**: LangChain
- **LLM ê³µê¸‰ì**: Google Gemini (ë‚´ë¶€ ê²Œì´íŠ¸ì›¨ì´ ì‚¬ìš©)
- **í…ŒìŠ¤íŠ¸**: Pytest

### ì¸í”„ë¼ & ë„êµ¬

- **ì»¨í…Œì´ë„ˆí™”**: Docker, Docker Compose
- **API ë¬¸ì„œí™”**: Swagger/OpenAPI 3.0
- **ë²„ì „ê´€ë¦¬**: Git (Git Flow/Feature Branch)

## ğŸš€ ì‹œì‘í•˜ê¸°

### ì‚¬ì „ í•„ìš”ì‚¬í•­

- Java 21 ì´ìƒ
- Gradle 8.x
- Python 3.10+
- MySQL 8.x
- Docker & Docker Compose (ì„ íƒì‚¬í•­)

### ì„¤ì¹˜ ì ˆì°¨

1. **ì €ì¥ì†Œ í´ë¡ **

```bash
git clone <repository-url>
cd bizplan-be-inclass
```

2. **í™˜ê²½ë³€ìˆ˜ ì„¤ì •**

```bash
# í…œí”Œë¦¿ íŒŒì¼ ë³µì‚¬
cp .env.example .env

# ì‹¤ì œ ê°’ìœ¼ë¡œ ì…ë ¥
vim .env  # ë˜ëŠ” ì›í•˜ëŠ” ì—ë””í„° ì‚¬ìš©
```

`.env` íŒŒì¼ì—ëŠ” ì•„ë˜ ì˜ˆì‹œì™€ ê°™ì€ ê°’ë“¤ì„ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤:

```bash
# ============ DB ì„¤ì • ============
DB_HOST=localhost
DB_PORT=3306
DB_NAME=bizplan
DB_USERNAME=root
DB_PASSWORD=your_password           # âš ï¸ í•„ìˆ˜

# ============ Spring Boot ì„¤ì • ============
SPRING_PROFILES_ACTIVE=local        # local | dev | prod
SERVER_PORT=8080

# ============ AI ì—”ì§„ ì„¤ì • ============
GEMINI_API_KEY=your_gemini_api_key  # âš ï¸ í•„ìˆ˜
AI_ENGINE_URL=http://localhost:8001

# ============ ë³´ì•ˆ ì„¤ì • ============
JWT_SECRET=your_jwt_secret_min_32_chars      # âš ï¸ í•„ìˆ˜ (32ì ì´ìƒ)
ENCRYPTION_KEY=your_aes_256_key_32_chars     # âš ï¸ í•„ìˆ˜ (ì •í™•íˆ 32ì)
```

> âš ï¸ **ë³´ì•ˆ ì•ˆë‚´**: `.env` íŒŒì¼ì€ ì ˆëŒ€ ë²„ì „ ê´€ë¦¬(Git)ì— ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”. `.gitignore`ì— ì œì™¸ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

3. **Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ**

```bash
./gradlew clean build
```

4. **ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰**

```bash
./gradlew bootRun
```

ì• í”Œë¦¬ì¼€ì´ì…˜ì€ `http://localhost:8080`ì—ì„œ ê¸°ë™ë©ë‹ˆë‹¤.

### Docker Compose ì´ìš©

```bash
docker-compose up -d
```

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
bizplan-be-inclass/
â”œâ”€â”€ .cursor/              # Cursor IDE ê·œì¹™ ë° ì„¤ì •
â”‚   â””â”€â”€ rules/           # ê°œë°œ ê°€ì´ë“œ ë° í‘œì¤€
â”œâ”€â”€ docs/                # í”„ë¡œì íŠ¸ ë¬¸ì„œ
â”œâ”€â”€ gradle/              # Gradle wrapper
â”œâ”€â”€ logs/                # ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ (ìë™ ìƒì„±)
â”‚   â”œâ”€â”€ gemini-usage.log              # ìµœì‹  Gemini ë¡œê·¸
â”‚   â””â”€â”€ gemini-usage.YYYY-MM-DD.N.log # ì¼ë³„ íšŒì „ ë¡œê·¸
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/
â”‚   â”‚   â”‚   â””â”€â”€ vibe/bizplan/bizplan_be_inclass/
â”‚   â”‚   â”‚       â”œâ”€â”€ controller/      # REST API ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”‚   â”‚       â”œâ”€â”€ service/         # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”‚       â”œâ”€â”€ repository/      # ë°ì´í„° ì ‘ê·¼ ë ˆì´ì–´
â”‚   â”‚   â”‚       â”œâ”€â”€ entity/          # JPA ì—”í‹°í‹°
â”‚   â”‚   â”‚       â”œâ”€â”€ dto/             # ë°ì´í„° ì „ì†¡ ê°ì²´
â”‚   â”‚   â”‚       â”œâ”€â”€ config/          # ìŠ¤í”„ë§ ì„¤ì •
â”‚   â”‚   â”‚       â”œâ”€â”€ exception/       # ì˜ˆì™¸ì²˜ë¦¬
â”‚   â”‚   â”‚       â””â”€â”€ util/            # ìœ í‹¸ë¦¬í‹°
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ application.properties
â”‚   â”‚       â”œâ”€â”€ application-{profile}.properties
â”‚   â”‚       â””â”€â”€ logback-spring.xml   # ë¡œê¹… ì„¤ì •
â”‚   â””â”€â”€ test/            # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”œâ”€â”€ tasks/               # ìš”êµ¬ì‚¬í•­ ë° ì‘ì—… ê´€ë¦¬
â”‚   â”œâ”€â”€ functional/      # ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
â”‚   â””â”€â”€ non-functional/  # ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­
â”œâ”€â”€ build.gradle         # Gradle ë¹Œë“œ ì„¤ì •
â””â”€â”€ README.md
```

## ğŸ¨ ê°œë°œ ê°€ì´ë“œë¼ì¸

### ë ˆì´ì–´ë“œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Controller Layer            â”‚  â† HTTP/REST ì¸í„°í˜ì´ìŠ¤
â”‚  (DTO, ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Service Layer              â”‚  â† ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   (ë„ë©”ì¸ ë¡œì§, íŠ¸ëœì­ì…˜)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Repository Layer             â”‚  â† ë°ì´í„° ì ‘ê·¼
â”‚    (Spring Data JPA, ì—”í‹°í‹°)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ë°ì´í„°ë² ì´ìŠ¤ (MySQL)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì½”ë”© í‘œì¤€

#### Java/Spring Boot

- **ì´ë¦„ ê·œì¹™**:
  - í´ë˜ìŠ¤: `PascalCase` (ì˜ˆ: `UserService`)
  - ë©”ì„œë“œ/ë³€ìˆ˜: `camelCase` (ì˜ˆ: `findUserById`)
  - ìƒìˆ˜: `UPPER_SNAKE_CASE` (ì˜ˆ: `MAX_RETRY_COUNT`)
- **Lombok**: ë³´ì¼ëŸ¬í”Œë ˆì‡ ìµœì†Œí™”ë¥¼ ìœ„í•´ `@Data`, `@Builder`, `@RequiredArgsConstructor` í™œìš©
- **ì˜ì¡´ì„± ì£¼ì…**: ìƒì„±ì ì£¼ì…(`@RequiredArgsConstructor`) ê¶Œì¥
- **DTO íŒ¨í„´**: ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œëŠ” ì ˆëŒ€ `@Entity` ë…¸ì¶œ ê¸ˆì§€. í•­ìƒ DTOë¡œ ë³€í™˜
- **ì˜ˆì™¸ ì²˜ë¦¬**: ì „ì—­ `@RestControllerAdvice` ë° `ProblemDetail` í™œìš©
- **ìœ íš¨ì„± ê²€ì¦**: DTOì— `jakarta.validation` ì–´ë…¸í…Œì´ì…˜(`@NotNull`, `@Email` ë“±) ì‚¬ìš©

#### Python/FastAPI

- **ìŠ¤íƒ€ì¼ ê°€ì´ë“œ**: PEP 8 ì¤€ìˆ˜
- **íƒ€ì… íŒíŠ¸**: ëª¨ë“  í•¨ìˆ˜ ì¸ì/ë°˜í™˜ê°’ì— ì—„ê²© ì ìš©
- **Docstring**: ëª¨ë“  ê³µê°œ í•¨ìˆ˜/í´ë˜ìŠ¤ì— Google ìŠ¤íƒ€ì¼ docstring
- **í¬ë§¤í„°**: `black`, `isort` ì‚¬ìš©
- **ë¹„ë™ê¸°**: ë¼ìš°íŠ¸ í•¸ë“¤ëŸ¬ ë° IO ì‘ì—…ì€ `async def` ì‚¬ìš©
- **ìœ íš¨ì„± ê²€ì¦**: ëª¨ë“  ìš”ì²­/ì‘ë‹µ ìŠ¤í‚¤ë§ˆì— Pydantic v2 ëª¨ë¸ ì‚¬ìš©

### API ì„¤ê³„ ê¸°ì¤€

#### ìì› ì´ë¦„ ê·œì¹™

- **ë³µìˆ˜ ëª…ì‚¬** ì‚¬ìš©: `/api/v1/projects`
- **kebab-case** ì‚¬ìš©: `/api/v1/financial-models`
- URLì— ë™ì‚¬ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  HTTP ë©”ì†Œë“œë¡œ ì˜ë¯¸ êµ¬ë¶„

#### í‘œì¤€ ì‘ë‹µ Envelope

**ì„±ê³µ ì‹œ**
```json
{
  "success": true,
  "data": {
    "projectId": "123",
    "name": "My Business Plan"
  },
  "error": null
}
```

**ì‹¤íŒ¨ ì‹œ**
```json
{
  "success": false,
  "data": null,
  "error": {
    "code": "INVALID_INPUT",
    "message": "Email is required"
  }
}
```

#### HTTP ìƒíƒœ ì½”ë“œ

- `200 OK`: ì„±ê³µ
- `201 Created`: ìƒì„±ë¨(POST)
- `400 Bad Request`: ìœ íš¨ì„± ì‹¤íŒ¨
- `401 Unauthorized`: ì¸ì¦ í† í° ì—†ìŒ/ìœ íš¨í•˜ì§€ ì•ŠìŒ
- `403 Forbidden`: ê¶Œí•œ ì—†ìŒ
- `404 Not Found`: ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ë¦¬ì†ŒìŠ¤
- `500 Internal Server Error`: ì„œë²„ ë‚´ë¶€ì˜¤ë¥˜

### í…ŒìŠ¤íŠ¸ ì „ëµ

#### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

```java
@Test
void findUserById_whenUserExists_shouldReturnUser() {
    // ì¤€ë¹„
    User user = User.builder().id(1L).name("John").build();
    when(userRepository.findById(1L)).thenReturn(Optional.of(user));
    
    // ì‹¤í–‰
    User result = userService.findUserById(1L);
    
    // ê²€ì¦
    assertThat(result).isNotNull();
    assertThat(result.getName()).isEqualTo("John");
}
```

#### í†µí•© í…ŒìŠ¤íŠ¸

```java
@SpringBootTest
@AutoConfigureMockMvc
class UserControllerTest {
    @Autowired
    private MockMvc mockMvc;
    
    @Test
    void createUser_shouldReturnCreated() throws Exception {
        mockMvc.perform(post("/api/v1/users")
                .contentType(MediaType.APPLICATION_JSON)
                .content("{\"name\":\"John\",\"email\":\"john@example.com\"}"))
                .andExpect(status().isCreated())
                .andExpect(jsonPath("$.success").value(true));
    }
}
```

#### Gemini ì—°ë™ í…ŒìŠ¤íŠ¸

**í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€**
- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸**: 19ê±´ (BusinessPlanGenerationServiceTest)
- **í†µí•© í…ŒìŠ¤íŠ¸**: 2ê±´ (BusinessPlanGenerationServiceIntegrationTest)
- **Repository í…ŒìŠ¤íŠ¸**: 4ê±´ (BusinessPlanGenerationRepositoryTest)
- **ì´**: 25ê±´ (~95% ì»¤ë²„ë¦¬ì§€)

**í…ŒìŠ¤íŠ¸ ì‹¤í–‰**
```bash
# ëª¨ë“  Gemini ê´€ë ¨ í…ŒìŠ¤íŠ¸ ì‹¤í–‰ 
./gradlew test --tests "*BusinessPlanGeneration*"

# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë§Œ ì‹¤í–‰(í†µí•© ì œì™¸)
./gradlew test --tests "*BusinessPlanGeneration*Test" --exclude-tag integration

# í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰(GEMINI_API_KEY í•„ìš”)
export GEMINI_API_KEY="your-api-key"
./gradlew test --tests "*BusinessPlanGenerationServiceIntegrationTest*"
```

**í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸**: ìì„¸í•œ ê²°ê³¼ ë° ì»¤ë²„ë¦¬ì§€ëŠ” [GEMINI_TEST_REPORT.md](./docs/GEMINI_TEST_REPORT.md) ì°¸ê³ 

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ í™•ì¸ (H2 ì½˜ì†”)

### H2 ì½˜ì†” ì ‘ì†

ë¡œì»¬ ê°œë°œ í™˜ê²½(`local` í”„ë¡œí•„ ì‚¬ìš©)ì—ì„œëŠ” H2 ì„ì‹œ ë©”ëª¨ë¦¬ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ëœ ë‚´ìš©ì„ ì§ì ‘ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### 1. ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰

```bash
./gradlew bootRun
```
ì• í”Œë¦¬ì¼€ì´ì…˜ì€ `http://localhost:8080`ì—ì„œ ì‹¤í–‰ë©ë‹ˆë‹¤.

#### 2. H2 ì½˜ì†” ì ‘ì†

ë¸Œë¼ìš°ì €ì—ì„œ ë‹¤ìŒ ì£¼ì†Œ ì§„ì…:
```
http://localhost:8080/h2-console
```

#### 3. ì ‘ì† ì •ë³´ ì…ë ¥

| í•­ëª©      | ê°’                       |
|-----------|--------------------------|
| **JDBC URL**  | `jdbc:h2:mem:testdb`      |
| **ì‚¬ìš©ìëª…**  | `sa`                      |
| **ë¹„ë°€ë²ˆí˜¸**  | (ê³µë€)                    |

> âš ï¸ **ì£¼ì˜**: H2 ì¸ë©”ëª¨ë¦¬ DBëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì¢…ë£Œë˜ë©´ ë°ì´í„°ê°€ ëª¨ë‘ ì‚¬ë¼ì§‘ë‹ˆë‹¤.

#### 4. ì£¼ìš” ë°ì´í„° ì¡°íšŒ ì˜ˆì‹œ

##### ì‚¬ì—…ê³„íšì„œ ëª©ë¡ ì¡°íšŒ

```sql
SELECT * FROM business_plans ORDER BY created_at DESC;
```

##### íŠ¹ì • ì‚¬ì—…ê³„íšì„œ ì¡°íšŒ

```sql
SELECT * FROM business_plans WHERE business_plan_id = 'bp-2025-12-20-xxxxx';
SELECT * FROM business_plans WHERE project_id = 'your-project-uuid';
SELECT * FROM business_plans WHERE user_id = 'your-user-id';
SELECT * FROM business_plans WHERE template_type = 'pre-startup';
```

##### ìš”ì²­ ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°

```sql
SELECT 
    business_plan_id,
    template_type,
    SUBSTRING(request_data_json, 1, 200) AS request_data_preview,
    created_at
FROM business_plans
ORDER BY created_at DESC;
```

##### ì‘ë‹µ ì„¹ì…˜ ë°ì´í„° ë¯¸ë¦¬ë³´ê¸°

```sql
SELECT 
    business_plan_id,
    SUBSTRING(response_sections_json, 1, 500) AS sections_preview,
    created_at
FROM business_plans
ORDER BY created_at DESC;
```

##### Gemini ë©”íƒ€ë°ì´í„°

```sql
SELECT 
    business_plan_id,
    JSON_EXTRACT(gemini_metadata_json, '$.promptTokens') AS prompt_tokens,
    JSON_EXTRACT(gemini_metadata_json, '$.completionTokens') AS completion_tokens,
    JSON_EXTRACT(gemini_metadata_json, '$.totalTokens') AS total_tokens,
    JSON_EXTRACT(gemini_metadata_json, '$.tokensPerSecond') AS tokens_per_second,
    JSON_EXTRACT(gemini_metadata_json, '$.durationMs') AS duration_ms,
    created_at
FROM business_plans
ORDER BY created_at DESC;
```

##### í†µê³„ ì¿¼ë¦¬

```sql
-- í…œí”Œë¦¿ë³„ ìƒì„± ê±´ìˆ˜
SELECT 
    template_type,
    COUNT(*) AS count,
    AVG(CAST(JSON_EXTRACT(gemini_metadata_json, '$.totalTokens') AS INT)) AS avg_tokens
FROM business_plans
GROUP BY template_type;

-- ì¼ë³„ ìƒì„± ê±´ìˆ˜
SELECT 
    DATE(created_at) AS date,
    COUNT(*) AS count
FROM business_plans
GROUP BY DATE(created_at)
ORDER BY date DESC;

-- í‰ê·  í† í° ì‚¬ìš©ëŸ‰
SELECT 
    AVG(CAST(JSON_EXTRACT(gemini_metadata_json, '$.totalTokens') AS INT)) AS avg_total_tokens,
    AVG(CAST(JSON_EXTRACT(gemini_metadata_json, '$.durationMs') AS BIGINT)) AS avg_duration_ms,
    AVG(CAST(JSON_EXTRACT(gemini_metadata_json, '$.tokensPerSecond') AS DOUBLE)) AS avg_throughput
FROM business_plans;
```

#### 5. DB ìŠ¤í‚¤ë§ˆ í™•ì¸

```sql
SHOW TABLES;
DESCRIBE business_plans;
SHOW INDEX FROM business_plans;
```

### ìœ ì˜ ì‚¬í•­

1. **ë°ì´í„° ì§€ì†ì„±**: ì¸ë©”ëª¨ë¦¬ DBì´ë¯€ë¡œ ì¬ê¸°ë™ì‹œ ë°ì´í„° ì†Œë©¸
2. **ìš´ì˜ í™˜ê²½**: ìš´ì˜ í™˜ê²½(`prod` í”„ë¡œí•„)ì—ì„œëŠ” MySQLë§Œ ì‚¬ìš©, H2 ì½˜ì†” ë¹„í™œì„±í™”
3. **ë³´ì•ˆ**: H2 ì½˜ì†”ì€ ë¡œì»¬ ê°œë°œí™˜ê²½ì—ì„œë§Œ í™œì„±í™”, ìš´ì˜í™˜ê²½ì—ì„œëŠ” ì°¨ë‹¨

### ì°¸ê³  ë¬¸ì„œ

- [H2 ê³µì‹ë¬¸ì„œ](https://www.h2database.com/html/main.html)
- [MYSQL_TO_H2_MIGRATION.md](./docs/MYSQL_TO_H2_MIGRATION.md)

---

## ğŸ“ ìµœê·¼ ì—…ë°ì´íŠ¸

### 2025-12-20: ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ ê¸°ëŠ¥ êµ¬í˜„

#### ì£¼ìš” ë³€ê²½ ì‚¬í•­

**ì‚¬ì—…ê³„íšì„œ ìƒì„± ìš”ì²­/ì‘ë‹µ DB ì €ì¥**
- âœ… `BusinessPlan` ì—”í‹°í‹° ìƒì„± (ìš”ì²­, ì‘ë‹µ, Gemini ë©”íƒ€ë°ì´í„° ì €ì¥)
- âœ… `BusinessPlanRepository` (Spring Data JPA)
- âœ… Flyway ë§ˆì´ê·¸ë ˆì´ì…˜(`V2__create_business_plans_table.sql`)
- âœ… `BusinessPlanGenerationService`ì— DBì €ì¥ ë¡œì§ ì¶”ê°€
- âœ… DTO â†” Entity ë³€í™˜ ë©”ì„œë“œ(Service ë ˆì´ì–´)
- âœ… 3í‹°ì–´ êµ¬ì¡° ê·œì¹™ ë¬¸ì„œí™” (`.cursor/rules/306-three-tier-architecture-rules.mdc`)

#### ì €ì¥ ë°ì´í„°

1. **ìš”ì²­ ë°ì´í„°** (`request_data_json`): BusinessPlanGenerateRequest ì „ì²´(JSON)
2. **ì‘ë‹µ ë°ì´í„°** (`response_sections_json`): ìƒì„±ëœ ì„¹ì…˜ë“¤(JSON)
3. **Gemini ë©”íƒ€ë°ì´í„°** (`gemini_metadata_json`): í† í°Â·ì‹œê°„ ì •ë³´(JSON)

#### DB ìŠ¤í‚¤ë§ˆ

```sql
CREATE TABLE business_plans (
    id CHAR(36) NOT NULL PRIMARY KEY,                    -- UUID
    business_plan_id VARCHAR(50) NOT NULL UNIQUE,        -- bp-2025-12-20-xxx
    project_id CHAR(36),                                 -- FK to projects (nullable)
    user_id VARCHAR(36),
    template_type VARCHAR(20) NOT NULL,
    request_data_json TEXT NOT NULL,                     -- ìš”ì²­ ì „ì²´ JSON
    response_sections_json TEXT NOT NULL,                -- ì‘ë‹µ ì„¹ì…˜ë“¤ JSON
    gemini_metadata_json TEXT,                           -- Gemini ë©”íƒ€ë°ì´í„° JSON
    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL
)
```

#### 3-Tier êµ¬ì¡° ì¤€ìˆ˜

- **Controller**: HTTP ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬, DTOë§Œ ì‚¬ìš©
- **Service**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, DTOâ†”Entity ë³€í™˜, íŠ¸ëœì­ì…˜ ê´€ë¦¬
- **Repository**: ë°ì´í„° ì ‘ê·¼, Entityë§Œ ì‚¬ìš©

ë” ìì„¸í•œ ë‚´ìš©ì€ [GEMINI_INTEGRATION_SUMMARY.md](./docs/GEMINI_INTEGRATION_SUMMARY.md) ì°¸ê³ 

---

## ğŸ”’ ë³´ì•ˆ

### í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬

ê³„ì¸µë³„ë¡œ í™˜ê²½ë³€ìˆ˜ ì•ˆì „í•˜ê²Œ ê´€ë¦¬:

| í™˜ê²½ | ë°©ë²• | ì„¤ëª… |
|------|------|------|
| **ë¡œì»¬ ê°œë°œ** | `.env` íŒŒì¼ | `.gitignore`ë¡œ ì œì™¸, ê°ì ê´€ë¦¬ |
| **CI/CD** | GitHub Secrets | íŒŒì´í”„ë¼ì¸ì— í™˜ê²½ë³€ìˆ˜ ì£¼ì… |
| **ìŠ¤í…Œì´ì§•/ìš´ì˜** | ì„œë²„ í™˜ê²½ë³€ìˆ˜ | Docker Compose/í´ë¼ìš°ë“œ Secret |

#### íŒŒì¼ êµ¬ì¡° ì˜ˆì‹œ

```
bizplan-be-inclass/
â”œâ”€â”€ .env.example                    # âœ… Git í¬í•¨(í…œí”Œë¦¿)
â”œâ”€â”€ .env                            # âŒ Git ì œì™¸(ì‹¤ì œê°’)
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.properties      # âœ… í™˜ê²½ë³€ìˆ˜ ì°¸ì¡°
â”‚   â””â”€â”€ application-local.properties # âŒ Git ì œì™¸
â””â”€â”€ ai-engine/
    â”œâ”€â”€ .env.example                # âœ… Git í¬í•¨
    â””â”€â”€ .env                        # âŒ Git ì œì™¸
```

#### í•„ìˆ˜ í™˜ê²½ë³€ìˆ˜

| ë³€ìˆ˜ëª… | ì„¤ëª… | í•„ìˆ˜ì—¬ë¶€ |
|--------|------|:--------:|
| `DB_PASSWORD` | MySQL ë¹„ë°€ë²ˆí˜¸ | âœ… |
| `GEMINI_API_KEY` | Google Gemini APIí‚¤ | âœ… |
| `JWT_SECRET` | JWT ì„œëª…í‚¤(32ì ì´ìƒ) | âœ… |
| `ENCRYPTION_KEY` | AES-256 ì•”í˜¸í‚¤(32ì) | âœ… |

### ë°ì´í„° ë³´í˜¸

- **ì €ì¥ ë°ì´í„° ì•”í˜¸í™”**: ë¯¼ê°ì •ë³´(AI, ì¬ë¬´ ë“±)ëŠ” AES-256ë¡œ ì•”í˜¸í™”
- **ì „ì†¡ ì•”í˜¸í™”**: ëª¨ë“  API í†µì‹  TLS 1.2+ ê°•ì œ
- **ë°ì´í„° ê²©ë¦¬**: ì›Œí¬ìŠ¤í˜ì´ìŠ¤ë³„ ë°ì´í„° ì™„ì „ ë¶„ë¦¬
- **ì¸ì¦**: JWT ê¸°ë°˜ ì¸ì¦
- **ì¸ê°€**: ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´(RBAC)

### ëª¨ë²” ì‚¬ë¡€

- `.env`ëŠ” ì ˆëŒ€ ì»¤ë°‹ ê¸ˆì§€
- `.env.example` í…œí”Œë¦¿ë§Œ ìœ ì§€(ì‹¤ì œ ê°’ X)
- ë¯¼ê°ë°ì´í„°(ë¹„ë²ˆ, í† í°, ê¸ˆìœµì •ë³´) ë¡œê·¸ ë‚¨ê¸°ì§€ ë§ ê²ƒ
- SQL ì¸ì ì…˜ ë°©ì§€: íŒŒë¼ë¯¸í„° ë°”ì¸ë”© í•„ìˆ˜
- ëª¨ë“  ì…ë ¥ ê²€ì¦Â·ì •ì œ
- APIì— ë ˆì´íŠ¸ ë¦¬ë¯¸íŒ… ì ìš©
- ì£¼ê¸°ì  ë³´ì•ˆ ì ê²€ ë° ì˜ì¡´ì„± ì—…ë°ì´íŠ¸

## ğŸ“š ë¬¸ì„œí™”

- **API ë¬¸ì„œ**: ì‹¤í–‰ì‹œ `/swagger-ui.html`
- **í”„ë¡œì íŠ¸ ê·œì¹™**: `.cursor/rules/` í´ë”
- **ê³¼ì œ íŠ¸ë˜í‚¹**: `tasks/` í´ë”
- **ì•„í‚¤í…ì²˜ ê²°ì •**: `docs/` í´ë”

### ì£¼ìš” ë¬¸ì„œ

#### í”„ë¡œì íŠ¸ ê°€ì´ë“œ
- [í”„ë¡œì íŠ¸ ê°œìš”](.cursor/rules/001-project-overview.mdc)
- [ê¸°ìˆ  ìŠ¤íƒ](.cursor/rules/002-tech-stack.mdc)
- [ê°œë°œ ê°€ì´ë“œ](.cursor/rules/003-development-guidelines.mdc)
- [ì—ëŸ¬ í•´ê²° í”„ë¡œì„¸ìŠ¤](.cursor/rules/100-error-fixing-process.mdc)
- [Git ì»¤ë°‹ ê°€ì´ë“œ](.cursor/rules/200-git-commit-push-pr.mdc)

#### Gemini í†µí•© ë¬¸ì„œ
- [Gemini í†µí•© ìš”ì•½](./docs/GEMINI_INTEGRATION_SUMMARY.md)
- [Gemini í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸](./docs/GEMINI_TEST_REPORT.md)
- [Gemini í†µí•© TODO](./docs/GEMINI_INTEGRATION_TODO.md)

## ğŸ¤ ê¸°ì—¬ ë°©ë²•

### Git ì›Œí¬í”Œë¡œìš°

**Git Flow**ì™€ ê¸°ëŠ¥ ë¸Œëœì¹˜ ì „ëµ ì‚¬ìš©:

```bash
# ê¸°ëŠ¥ ë¸Œëœì¹˜ ìƒì„±
git checkout -b feature/ISSUE-123-add-user-authentication

# ë³€ê²½ ë° ì»¤ë°‹
git add .
git commit -m "feat: add JWT authentication service"

# í‘¸ì‹œ ë° PR ìƒì„±
git push origin feature/ISSUE-123-add-user-authentication
```

### ì»¤ë°‹ ë©”ì‹œì§€ ê·œì•½

**Conventional Commits** í˜•ì‹ ì¤€ìˆ˜:

```
<type>(<scope>): <subject>

<body>

<footer>
```

**íƒ€ì… ì¢…ë¥˜**
- `feat`: ê¸°ëŠ¥ ì¶”ê°€
- `fix`: ë²„ê·¸ ìˆ˜ì •
- `docs`: ë¬¸ì„œ ë³€ê²½
- `style`: ìŠ¤íƒ€ì¼(í¬ë§·) ë³€ê²½
- `refactor`: ë¦¬íŒ©í† ë§
- `test`: í…ŒìŠ¤íŠ¸ ì½”ë“œ
- `chore`: ê¸°íƒ€ ìœ ì§€ë³´ìˆ˜

**ì˜ˆì‹œ**
```
feat(auth): implement JWT authentication

- Add JwtTokenProvider for token generation
- Create AuthenticationFilter for request validation
- Add user authentication endpoints

Closes #123
```

## ğŸ“Š ì„±ëŠ¥ ìš”ê±´

### ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

- **ë§ˆë²•ì‚¬ ì§€ì—°**: ë‹¨ê³„ ì „í™˜ 800ms ë¯¸ë§Œ(p95)
- **ë¬¸ì„œ ìƒì„±**: ì´ˆì•ˆìƒì„± 10ì´ˆ ë¯¸ë§Œ(p95)
- **ê°€ìš©ì„±**: 99.5% ì´ìƒ SLA
- **í™•ì¥ì„±**: ë™ì‹œ ì‚¬ìš©ì 1000ëª… ì´ìƒ ì§€ì›
- **DB ì„±ëŠ¥**: ì¿¼ë¦¬ ì‘ë‹µ 100ms ë¯¸ë§Œ(p95)

## ğŸ“ˆ ëª¨ë‹ˆí„°ë§ & ë¶„ì„

### Gemini ì‚¬ìš© ë¡œê·¸ êµ¬ì¡°

Gemini API ì‚¬ìš© ë‚´ì—­ì€ ì½˜ì†”ê³¼ íŒŒì¼(`logs/gemini-usage.log`)ì— ëª¨ë‘ ê¸°ë¡ë˜ì–´ ì‹¤ì‹œê°„ ë¹„ìš© ì¶”ì ê³¼ ë¶„ì„ì´ ì‰½ìŠµë‹ˆë‹¤.

#### ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜

- **í˜„ì¬ ë¡œê·¸**: `logs/gemini-usage.log`
- **ë³´ê´€ ë¡œê·¸**: `logs/gemini-usage.YYYY-MM-DD.N.log` (ì¼ì¼ íšŒì „, ìµœëŒ€ 30ì¼ 100MB)

#### ë¡œê·¸ í¬ë§·

**íŒŒì¼ í˜•ì‹(CSV ìœ ì‚¬)**
```
2025-12-18 14:30:19.500,[Gemini Usage Log] StartTime: 2025-12-18T14:30:15.123Z, EndTime: 2025-12-18T14:30:19.500Z, Duration: 4377ms, Input: 1234, Output: 5678, Total: 6912, Throughput: 1578.25 tokens/sec
```

**ë¡œê·¸ í•„ë“œ ì„¤ëª…**

| í•„ë“œ          | ì„¤ëª…                             | ì˜ˆì‹œ                       |
|---------------|----------------------------------|----------------------------|
| `StartTime`   | Gemini API í˜¸ì¶œ ì‹œì‘(ISO 8601)   | `2025-12-18T14:30:15.123Z` |
| `EndTime`     | Gemini í˜¸ì¶œ ì¢…ë£Œ(ISO 8601)       | `2025-12-18T14:30:19.500Z` |
| `Duration`    | ê²½ê³¼ ì‹œê°„(ms)                    | `4377ms`                   |
| `Input`       | ì…ë ¥ í† í°(í”„ë¡¬í”„íŠ¸)              | `1234`                     |
| `Output`      | ì¶œë ¥ í† í°(ì™„ì„±)                  | `5678`                     |
| `Total`       | ì´ í† í° ì‚¬ìš©ëŸ‰                   | `6912`                     |
| `Throughput`  | í† í° ì²˜ë¦¬ ì†ë„(í† í°/ì´ˆ)          | `1578.25 tokens/sec`       |

**ë ˆí¬ì§€í† ë¦¬ ë¡œê·¸ ì¶”ê°€ í•„ë“œ(`businessPlanId`)**
```
2025-12-18 14:30:19.501,[Gemini Usage Log] businessPlanId=bp-2025-12-18-550e8400, StartTime: ..., ...
```

### ë¹„ìš© ì¶”ì  ì˜ˆì‹œ

#### ì¼ì¼ ì‚¬ìš©ëŸ‰

```bash
# ì˜¤ëŠ˜ í† í° ì´í•©
grep "Total:" logs/gemini-usage.log | awk -F'Total: ' '{print $2}' | awk -F',' '{sum+=$1} END {print "Total tokens:", sum}'
```

#### ì¼ì¼ ë¹„ìš© ê³„ì‚°(ì˜ˆì‹œ)

```bash
# input 1ì²œë‹¹ $0.000125, output 1ì²œë‹¹ $0.0005 ê¸°ì¤€
grep "Total:" logs/gemini-usage.log | \
  awk -F'Input: ' '{print $2}' | \
  awk -F',' '{input+=$1; output+=$2} END {
    input_cost = (input / 1000) * 0.000125;
    output_cost = (output / 1000) * 0.0005;
    print "Estimated daily cost: $" (input_cost + output_cost)
  }'
```

#### ì¼ë³„ ìš”ì²­ ìˆ˜

```bash
grep -c "\[Gemini Usage Log\]" logs/gemini-usage.log
```

#### ì£¼ê°„ ì‚¬ìš©ëŸ‰

```bash
find logs/ -name "gemini-usage.*.log" -mtime -7 -exec grep "Total:" {} \; | \
  awk -F'Total: ' '{print $2}' | awk -F',' '{sum+=$1} END {print "ì£¼ê°„ ì „ì²´ í† í°:", sum}'
```

#### ì£¼ê°„ í‰ê·  ì¼ë³„ ì‚¬ìš©ëŸ‰

```bash
for i in {0..6}; do
  date=$(date -v-${i}d +%Y-%m-%d 2>/dev/null || date -d "${i} days ago" +%Y-%m-%d)
  tokens=$(grep "Total:" logs/gemini-usage.${date}.*.log 2>/dev/null | awk -F'Total: ' '{print $2}' | awk -F',' '{sum+=$1} END {print sum}')
  echo "${date}: ${tokens:-0} tokens"
done | awk '{sum+=$2; count++} END {print "Average daily tokens:", sum/count}'
```

#### ì›”ê°„ í† í° ì§‘ê³„

```bash
find logs/ -name "gemini-usage.*.log" -newermt "$(date +%Y-%m-01)" -exec grep "Total:" {} \; | awk -F'Total: ' '{print $2}' | awk -F',' '{sum+=$1} END {print "ì›”ê°„ ì „ì²´ í† í°:", sum}'
```

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§

#### ì‘ë‹µ ì‹œê°„ ë¶„ì„

```bash
grep "Duration:" logs/gemini-usage.log | awk -F'Duration: ' '{print $2}' | awk -F'ms' '{sum+=$1; count++} END {print "í‰ê· :", sum/count, "ms"}'
```

#### ì‘ë‹µ ì‹œê°„ í¼ì„¼íƒ€ì¼

```bash
grep "Duration:" logs/gemini-usage.log | awk -F'Duration: ' '{print $2}' | awk -F'ms' '{print $1}' | sort -n | awk '{
    arr[NR] = $1
  } END {
    p50 = arr[int(NR*0.50)]
    p95 = arr[int(NR*0.95)]
    p99 = arr[int(NR*0.99)]
    print "p50:", p50 "ms"
    print "p95:", p95 "ms"
    print "p99:", p99 "ms"
  }'
```

#### ì²˜ë¦¬ ì†ë„(Throughput)

```bash
grep "Throughput:" logs/gemini-usage.log | awk -F'Throughput: ' '{print $2}' | awk '{sum+=$1; count++} END {print "í‰ê·  ì²˜ë¦¬ì†ë„:", sum/count, "tokens/sec"}'
```

#### ì‹œê°„ëŒ€ë³„ ìš”ì²­ ë¶„ì„

```bash
cut -d',' -f1 logs/gemini-usage.log | cut -d' ' -f2 | cut -d':' -f1 | sort | uniq -c | awk '{print $2 ":00 - " $1 " requests"}'
```

### ê³ ê¸‰ ë¶„ì„ ìŠ¤í¬ë¦½íŠ¸

`scripts/analyze-gemini-usage.sh` ìŠ¤í¬ë¦½íŠ¸ë¡œ ì¢…í•© ë¶„ì„:
```bash
chmod +x scripts/analyze-gemini-usage.sh
./scripts/analyze-gemini-usage.sh
```
> ìì„¸í•œ ë¶„ì„ ì˜ˆì‹œëŠ” ìœ„ ìŠ¤í¬ë¦½íŠ¸ì™€ [Monitoring & Analytics](#-monitoring--analytics) ì°¸ê³ 

### ë¡œê·¸ íŒŒì¼ ê´€ë¦¬ ì •ì±…

- **ì¼ë³„ + í¬ê¸°ë³„(10MB)** íšŒì „
- **30ì¼** ìµœëŒ€ ë³´ê´€
- **ì´ 100MB** ì´ˆê³¼ì‹œ ìë™ì‚­ì œ (ê°€ì¥ ì˜¤ë˜ëœ ê²ƒë¶€í„°)
- Gitì—ì„œëŠ” logs í´ë” ì œì™¸

### ì™¸ë¶€ ëª¨ë‹ˆí„°ë§ íˆ´ ì—°ë™

- **Grafana**: LogQL ì¿¼ë¦¬ë¡œ ì‹œê°í™”
- **ELK Stack**: Logstashë¡œ íŒŒì‹±
- **Prometheus**: Exporter ì¶”ê°€ë¡œ ì—°ê³„
- **ì»¤ìŠ¤í…€ ëŒ€ì‹œë³´ë“œ**: pandas ë“± ì‚¬ìš©í•´ì„œ ë¶„ì„

ìì„¸í•œ ë‚´ìš©ì€ ë‹¤ìŒ ë¬¸ì„œ ì°¸ê³ :
- [GEMINI_INTEGRATION_SUMMARY.md](./docs/GEMINI_INTEGRATION_SUMMARY.md)
- [GEMINI_TEST_REPORT.md](./docs/GEMINI_TEST_REPORT.md)
- [GEMINI_INTEGRATION_TODO.md](./docs/GEMINI_INTEGRATION_TODO.md)

## ğŸ”§ ìš´ì˜ ë° ìœ ì§€ë³´ìˆ˜

### ë¡œê·¸ ê´€ë¦¬

- **ë¡œê·¸ ìœ„ì¹˜**: `logs/gemini-usage.log`
- **ì •ì±…**: ì¼ê¸°ì¤€ + í¬ê¸°ë³„ íšŒì „, 30ì¼ ë³´ê´€, 100MB í•œë„
- **í˜•ì‹**: CSV ìœ ì‚¬, shell ë¶„ì„ ìš©ì´
- **ë¹ ë¥¸ ì¡°íšŒ**
```bash
# ì˜¤ëŠ˜ í† í° í•©ê³„
grep "$(date +%Y-%m-%d)" logs/gemini-usage.log | grep "Total:" | awk -F'Total: ' '{print $2}' | awk -F',' '{sum+=$1} END {print "Total tokens:", sum}'

# í‰ê·  ì‘ë‹µ ì‹œê°„
grep "Duration:" logs/gemini-usage.log | awk -F'Duration: ' '{print $2}' | awk -F'ms' '{sum+=$1; count++} END {print "Average:", sum/count, "ms"}'
```
- ìì„¸í•œ ë¶„ì„ ë° ë¹„ìš© ì¶”ì ì€ ìœ„ ì„¹ì…˜/ìŠ¤í¬ë¦½íŠ¸ ì°¸ê³ 

### í—¬ìŠ¤ ì²´í¬

```bash
# ì„œë¹„ìŠ¤ ìƒíƒœ
curl http://localhost:8080/actuator/health
open http://localhost:8080/swagger-ui.html

# DB í™•ì¸
mysql -u root -p -e "SELECT 1" bizplan

# Gemini API í—¬ìŠ¤ ë° ì˜¤ë¥˜
tail -n 10 logs/gemini-usage.log
grep -i "error\|exception\|failed" logs/gemini-usage.log
```

### ë°±ì—… ë° ë³µêµ¬

- **ë¡œê·¸**: 30ì¼ê°„ ìë™ ë³´ê´€, ì˜êµ¬ ë³´ê´€ í•„ìš”ì‹œ ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ë¡œ ë°±ì—…
```bash
find logs/ -name "gemini-usage.*.log" -mtime +30 -exec gzip {} \;
```
- **DB**: MySQL ì •ê¸° ë°±ì—… ê¶Œì¥, Flyway ë§ˆì´ê·¸ë ˆì´ì…˜ìœ¼ë¡œ ìŠ¤í‚¤ë§ˆ ê´€ë¦¬
- **ì„¤ì •**: `.env` íŒŒì¼ì€ Git ì œì™¸, `.env.example`ì€ í…œí”Œë¦¿ ê´€ë¦¬

## ğŸ› ë¬¸ì œ í•´ê²°

### ìì£¼ ë°œìƒí•˜ëŠ” ì—ëŸ¬

**"Java version mismatch" ë¹Œë“œ ì˜¤ë¥˜**
```bash
java -version  # Java 21ì¸ì§€ í™•ì¸
export JAVA_HOME=$(/usr/libexec/java_home -v 21)
```

**DB ì—°ê²° ì˜¤ë¥˜**
```bash
mysql -u root -p
# .env ë‚´ ì¸ì¦ì •ë³´ ì¬í™•ì¸
CREATE DATABASE IF NOT EXISTS bizplan CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

**í¬íŠ¸ ì¶©ëŒ(8080 ì‚¬ìš©ì¤‘)**
```bash
lsof -i :8080
kill -9 <PID>
```

**Gemini API ì˜¤ë¥˜**
```bash
echo $GEMINI_API_KEY
grep -i "error\|exception" logs/gemini-usage.log | tail -20
curl -H "Content-Type: application/json" \
  -d '{"contents":[{"parts":[{"text":"test"}]}]}' \
  "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-lite:generateContent?key=${GEMINI_API_KEY}"
```

**ObjectMapper bean ì˜¤ë¥˜**
```bash
# JacksonConfigë¡œ í•´ê²°ë¨
grep -r "JacksonConfig" src/main/java/
```

## ğŸ“ ì§€ì› ë¬¸ì˜

- **GitHub Issues**: [ì´ìŠˆ ë“±ë¡](../../issues)
- **ë¬¸ì„œ**: `docs/` í´ë” ì°¸ê³ 
- **ê°œë°œê°€ì´ë“œ**: `.cursor/rules/` í´ë” ì°¸ê³ 

## ğŸ“„ ë¼ì´ì„ ìŠ¤

Proprietary - All rights reserved.

## ğŸ™ ê°ì‚¬ì˜ ê¸€

- í›Œë¥­í•œ í”„ë ˆì„ì›Œí¬ë¥¼ ì œê³µí•œ Spring BootíŒ€
- ê³ ì„±ëŠ¥ Python ì›¹í”„ë ˆì„ì›Œí¬ FastAPIíŒ€
- Gemini LLM ê¸°ìˆ ì˜ Google
- ëª¨ë“  í”„ë¡œì íŠ¸ ê¸°ì—¬ìë¶„ë“¤

---

**ì˜ˆë¹„ ì°½ì—…ìë¥¼ ìœ„í•´ â¤ï¸ ìœ¼ë¡œ ë§Œë“­ë‹ˆë‹¤**
